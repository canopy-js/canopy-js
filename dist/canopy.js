/*! For license information please see canopy.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Canopy=t():e.Canopy=t()}(self,(()=>(()=>{var e={488:e=>{var t={};e.exports=function e(n){if(t.hasOwnProperty(n))return t[n];var r=n.replace(/(.*?(?:^|[^\\]))([_`*~])(\S*?[^\\])\2(.*)/,"$1$3$4");if((r=r.replace(/(.*?(?:^|[^\\]))([_`*~])(.*?[^\\])\2(?![A-Za-z0-9])(.*)/,"$1$3$4"))!==n){var o=e(r);return t[n]=o,e(o)}return n}},4244:(e,t,n)=>{function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(488);n(2205);var a={},c=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw new Error("String required to instantiate Topic");if(a.hasOwnProperty(t)&&a.hasOwnProperty(t).display)return a[t];this.display=t,this.mixedCase=i(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]})),this.cssMixedCase=CSS.escape(this.mixedCase),this.url=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.urlConversionRules).join("|\\"),"g"),(function(t){return e.urlConversionRules[t]})),this.fileName=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.fileNameConversionRules).join("|\\"),"g"),(function(t){return e.fileNameConversionRules[t]})),this.caps=this.mixedCase.toUpperCase().replace(/\?$/,"").replace(/["”“’‘']/g,"").replace(/(\\{2})*([.,])(?=["'')}\]]*$)/g,(function(e,t,n){return t?e:""})).replace(/\(/g,"").replace(/\)/g,"").replace(/ +/g," ").replace(/&[Nn][Bb][Ss][Pp];/g," ").trim(),this.requestFileName=encodeURIComponent(this.fileName),a[t]=this}var t,n;return t=e,n=[{key:"fromMixedCase",value:function(t){var n=new e(t=t.replace(/([`_~*\\])/g,"\\$1"));return n.display=null,n}},{key:"fromReference",value:function(t){var n=new e(t);return n.display=null,n}},{key:"fromUrl",value:function(t){var n=t.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(t){return e.underscoreToSpaceRules[t]})),r=decodeURIComponent(n).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(r)}},{key:"fromFileName",value:function(t){var n=t.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(t){return e.underscoreToSpaceRules[t]})),r=decodeURIComponent(n).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(r)}},{key:"convertSpacesToUnderscores",value:function(t){return t.replace(new RegExp("\\"+Object.keys(e.spaceToUnderscoreRules).join("|\\"),"g"),(function(t){return e.spaceToUnderscoreRules[t]}))}},{key:"convertUnderscoresToSpaces",value:function(t){var n=t.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(t){return e.underscoreToSpaceRules[t]}));return decodeURIComponent(n).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}))}},{key:"parseUrlSegment",value:function(t){var n=t.match(/((?:(?:(?:\\|%5C)#)|[^#])*)(?:#(.*))?/);return[n[1]&&e.fromUrl(n[1]),n[2]&&e.fromUrl(n[2])||null]}},{key:"for",value:function(t){return new e(t)}}],null&&r(t.prototype,null),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();o(c,"urlConversionRules",{"%":"%25","#":"%5C#","/":"%2F"," ":"_",_:"%5C_","\\":"%5C%5C"}),o(c,"fileNameConversionRules",{"%":"%25",'"':"%22","'":"%27","/":"%2F",",":"%2C",":":"%3A","<":"%3C",">":"%3E","|":"%7C","*":"%2A","?":"%3F"," ":"_",_:"%5C_","\\":"%5C%5C"}),o(c,"spaceToUnderscoreRules",{"%":"%25"," ":"_",_:"%5C_","\\":"%5C%5C"}),o(c,"underscoreToSpaceRules",{"%5C%5C":"\\\\","%5C_":"_",_:" "}),e.exports=c},7239:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(514),o=n(797),i=n(4207),a=n(5044),c=n(1246);n(1995);const l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!i.A.byPath(e))return(0,c.J0)(e,n);(0,c.fU)(e,t,n).then((function(){if(i.A.byPath(e).addToDom(),(0,c.Q3)(e),t&&(null==t||!t.element))return null==t||t.eraseLinkData(),(0,a.A)(e,null,n);r.A.setPath((null==t?void 0:t.urlPath)||e,n),o.A.persistLinkSelection(t||e.parentLink),o.A.updateSelectionClass(t||e.parentLink);var l=(0,c.WH)(e.rootTopicPath.topic,n);document.title=e.lastTopic.mixedCase;var s=function(e,t){for(var n=[];e;){var r;"instant"===t.scrollStyle?e.allocateSpace():e.display(),n.push(e),e.parentLink&&(null===(r=e.parentLink)||void 0===r||r.open()),o.A.persistLinkSelectionInSession(e.parentLink),e=e.parentParagraph}return n}(e.paragraph,n);return e.paragraph.addSelectionClass(),setTimeout((function(){return o.A.visible.filter((function(e){return e.isGlobal})).forEach((function(e){return setTimeout((function(){return e.execute({renderOnly:!0})}))}))})),(0,c.iW)(e,t,n).then((function(){s.forEach((function(e){return e.display()}))||l.show()}))}))}},1246:(e,t,n)=>{"use strict";n.d(t,{Cj:()=>k,J0:()=>y,Q3:()=>g,WH:()=>f,Yw:()=>C,cw:()=>m,fU:()=>P,iW:()=>L});var r=n(1995),o=n(9903),i=n(7239),a=n(797),c=n(514),l=n(4207),s=n(5044);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof A?t:A,i=Object.create(o.prototype),a=new S(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return{value:void 0,done:!0}}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=k(a,n);if(c){if(c===d)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=s(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===d)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function s(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function A(){}function h(){}function f(){}var y={};c(y,o,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(E([])));m&&m!==t&&n.call(m,o)&&(y=m);var b=f.prototype=A.prototype=Object.create(y);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function v(e,t){function r(o,i,a,c){var l=s(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==p(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=s(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function E(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return h.prototype=f,c(b,"constructor",f),c(f,"constructor",h),h.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},C(v.prototype),c(v.prototype,i,(function(){return this})),e.AsyncIterator=v,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new v(l(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},C(b),c(b,a,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:E(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,o)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){var n=document.querySelector('h1[data-topic-name="'.concat(e.cssMixedCase,'"]'));return n.style.display="block",n.style.opacity="0%","instant"!==t.scrollStyle&&(n.style.opacity="100%"),{show:function(){n.style.opacity="100%"}}}function y(e,t){if(console.error("No section element found for path:",e.string),e.length>1)return console.log("Trying:",e.withoutLastSegment.string),(0,i.A)(e.withoutLastSegment,null,{scrollStyle:"instant",replaceHistoryState:!0});if(t.defaultRedirect)throw new Error("Redirect to default topic failed terminally.");return console.error("No path prefixes remain to try. Redirecting to default topic: "+c.A.default),(0,s.A)(c.A.default,null,{defaultRedirect:!0,scrollStyle:"instant",replaceHistoryState:!0})}var g=function(e){Array.from(document.querySelectorAll("#_canopy h1")).forEach((function(e){e.style.display="none"})),Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-open-link")})),function(e){!function e(t,n){Array.from(t.childNodes).filter((function(e){return"SECTION"===e.tagName})).forEach((function(t){var r=l.A.for(t);r.path.isIn(n)||r.removeFromDom(),e(t,n)}))}(r.m0,e)}(e),Array.from(document.querySelectorAll(".canopy-selected-section")).forEach((function(e){e.classList.remove("canopy-selected-section")}))};function m(e,t){if(!(e instanceof Element))throw new Error("Argument to scrollElementToPosition must be DOM element");var n,r=t.targetRatio,i=t.maxScrollRatio,a=t.minDiff,c=t.direction,l=t.behavior,s=t.side,p=e.getBoundingClientRect(),u=o.A.visibleHeight*r;n="bottom"===s?p.bottom-o.A.top+o.A.currentScroll:"middle"===s?p.top-o.A.top+o.A.currentScroll+p.height/2:p.top-o.A.top+o.A.currentScroll,"A"!==e.tagName||"middle"!==s&&"bottom"!==s||("bottom"===s?1:.5)*(p.bottom-p.top)+20>u&&(r=.05,u=o.A.visibleHeight*r,n=p.top+o.A.currentScroll);var d=n-u;o.A.scrollHeight-o.A.visibleHeight<d&&console.error("Scrollable area not long enough to scroll to desired position"),d=Math.max(0,Math.min(d,o.A.scrollHeight-o.A.visibleHeight));var f,y=i?o.A.visibleHeight*i:1/0;f=d>o.A.currentScroll?Math.min(d,o.A.currentScroll+y):Math.max(d,o.A.currentScroll-y);var g=d-o.A.currentScroll!=0;if(a){var m=Math.abs(o.A.currentScroll-f),b="A"===e.tagName&&(p.top<5||p.bottom>o.A.visibleHeight);g=!a||a&&m>a||b}return"up"===c&&(g=g&&f<o.A.currentScroll),"down"===c&&(g=g&&f>o.A.currentScroll),g?k(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({top:f,behavior:l},t)):Promise.resolve(!0)}var b=null;function C(){return b}var v=null;function k(e){return v=e,b=new Promise(function(){var t,n=(t=u().mark((function t(n,r){var i,a,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:o.A.scrollTo(v),Date.now(),i=o.A.currentScroll,a=null,c=0,l=function t(){var r=o.A.currentScroll;if(i!==r||a||(a=Date.now()),i!==r&&(a=null),i===r&&c<1&&o.A.scrollTo(v),i=r,c++,a&&Date.now()-a>1e3)return b=null,n(!1);Math.abs(r-e.top)<10?(b=null,n(!0)):setTimeout(t,50)},setTimeout(l,50);case 7:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}())}function w(e,t){return c.A.rendered.overlap(e)&&!c.A.rendered.equals(e)&&!c.A.rendered.subsetOf(e)&&(!t||!t.siblingOf(a.A.selection))&&!e.parentOf(c.A.rendered)&&!e.overlap(c.A.rendered).equals(c.A.rendered)&&(!t||!t.equals(a.A.selection.parentLink))}var x=.25,S=.17,E=.05;function P(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!c.A.rendered&&!!e.paragraph&&!!e.overlap(c.A.rendered)&&!(n.noScroll||n.noBeforeChangeScroll||n.initialLoad||"instant"===n.scrollStyle)&&(w(e,t)||function(e,t){var n=(t||c.A.rendered.firstDestination(e).paragraph).top+o.A.currentScroll;return Math.max(n-o.A.focusGap,0)-o.A.currentScroll<-.6*o.A.visibleHeight}(e,t))}(e,t,r)||r.noScroll)return Promise.resolve();r.beforeChangeScroll=!0;var i,s,p,u=null!==(n=a.A.selection)&&void 0!==n&&n.isEffectivePathReference?a.A.selection.enclosingPath:c.A.rendered,d=(u.overlap(e),r.noMinDiff?null:75),A=w(e,t)?u.fulcrumElement(e):(null==t?void 0:t.element)||e.paragraphElement,h="A"===A.tagName?x:S;return"P"===A.tagName&&l.A.for(A.parentNode).isBig&&(h=E),i=A.getBoundingClientRect(),s=.1*o.A.visibleHeight,p=.4*o.A.visibleHeight,i.top>=s&&i.bottom<=p?Promise.resolve():m(A,{targetRatio:h,maxScrollRatio:1/0,minDiff:d,behavior:"smooth",side:"top"}).then((function(){return new Promise((function(e){return setTimeout(e,110)}))}))}function L(e,t,n){if(n.noScroll)return Promise.resolve();var o=(n=n||{}).scrollStyle||"smooth",i=n.direction;r.m0.dataset.imageLoadScrollBehavior=o;var a=n.beforeChangeScroll?new Promise((function(e){return setTimeout(e,150)})):Promise.resolve();if(e.equals(c.A.rootTopicPath)&&!t)return m(l.A.root.paragraphElement,{targetRatio:.5,maxScrollRatio:1/0,behavior:o,side:"top"});if(null!=t&&t.isFragment)return m(t.element,{targetRatio:x,Infinity:1/0,minDiff:d,behavior:o,side:"top",direction:i});var s,p,u=1/0,d=75;return t?(t.isIn(e.paragraph)&&t.enclosingParagraph.fits?(s=t.enclosingParagraph.paragraphElement,p=S):(s=t.element,p=x),a.then((function(){return m(s,{targetRatio:p,maxScrollRatio:u,minDiff:d,behavior:o,direction:i})}))):a.then((function(){return m(e.paragraphElement,{targetRatio:e.paragraph.isBig?E:S,maxScrollRatio:u,minDiff:d,behavior:o,side:"top",direction:i})}))}},5044:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(5806),o=n(7239),i=(n(797),n(514)),a=n(4207),c=n(1995),l=null;const s=function e(t,n){var s,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==(s=t)&&void 0!==s&&s.empty&&(t=i.A.default);var u=(l=!(null!=p&&p.renderOnly)&&t||l)&&(0,r.d)(t,t,Promise.resolve(c.m0)).catch((function(e){return console.error(e)}));return Promise.race([u,new Promise((function(e){return setTimeout(e,400)}))]).then((function(t){!t&&n&&a.A.contentLoaded&&!p.renderOnly&&((null==n?void 0:n.tryElement)&&n.addSelectionClass()||e(n.enclosingPath,n,{pending:!0}))})),u.then((function(){null!=p&&p.renderOnly||!t.equals(l)||(0,o.A)(t,n,p)})).catch((function(e){return console.error(e)}))}},1995:(e,t,n)=>{"use strict";n.d(t,{m0:()=>r,PZ:()=>o,Ly:()=>i,T6:()=>c,fP:()=>a});var r=document.getElementById("_canopy");if(!r)throw new Error("Page must contain an element with id #_canopy");r.dataset.canopyVersion="0.4.55";var o=function(){return r&&r.dataset.defaultTopic},i=function(){var e;return r&&(null===(e=document.getElementById("canopy_default_topic_json"))||void 0===e?void 0:e.textContent)},a=r&&r.dataset.projectPathPrefix,c=r&&r.dataset.hashUrls},9903:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1995);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(4207);const i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"windowMode",get:function(){return e=r.m0.parentElement,n="scroll"===(t=window.getComputedStyle(e).overflowY)||"auto"===t,o=e.scrollHeight>e.clientHeight,!(n&&o);var e,t,n,o}},{key:"element",get:function(){return this.windowMode?document.body:this.windowMode?void 0:r.m0.parentElement}},{key:"visibleHeight",get:function(){return this.windowMode?window.innerHeight:this.windowMode?void 0:this.element.clientHeight}},{key:"innerHeight",get:function(){throw"Use ScrollableContainer.visibleHeight"}},{key:"scrollHeight",get:function(){return this.windowMode?document.documentElement.scrollHeight:this.windowMode?void 0:this.element.scrollHeight}},{key:"currentScroll",get:function(){return this.windowMode?window.scrollY:this.windowMode?void 0:this.element.scrollTop}},{key:"top",get:function(){return this.windowMode?0:r.m0.parentElement.getBoundingClientRect().top}},{key:"addEventListener",value:function(e,t){return this.windowMode?window.addEventListener(e,t):this.windowMode?void 0:this.element.addEventListener(e,t)}},{key:"scrollTo",value:function(e){return this.windowMode?window.scrollTo(e):this.windowMode?void 0:this.element.scrollTo(e)}},{key:"focusGap",get:function(){return.3*e.visibleHeight}},{key:"focusY",get:function(){return.3*e.visibleHeight+e.currentScroll}},{key:"focusedElement",get:function(){var e=this;return Array.from(document.querySelectorAll("*")).filter((function(t){if(0===t.offsetWidth&&0===t.offsetHeight)return!1;if(t.closest(".canopy-image"))return!1;var n=t.getBoundingClientRect();return n.bottom>0&&n.bottom<=e.visibleHeight})).reduce((function(e,t){return null!=e&&e.classList.contains("canopy-selected-link")?e:null!=t&&t.classList.contains("canopy-selected-link")||!e||t.getBoundingClientRect().bottom<e.getBoundingClientRect().bottom?t:e}),null)||r.m0}}],null&&o(t.prototype,null),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},797:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(514),o=n(4207),i=n(4244),a=n.n(i),c=n(5044),l=n(9903);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const h=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"A"===(null==t?void 0:t.tagName))this.element=t;else{if(t instanceof e)throw new Error("Cannot instantiate link from link");if("object"===d(t))this.metadataObject=t;else{if("function"!=typeof t)throw new Error("Invalid argument to Link constructor");this.selectorCallback=t}}}var t,n,i;return t=e,n=[{key:"equals",value:function(t){if(!(t instanceof e))throw new Error("Argument must be of type link");return this.element===t.element}},{key:"matches",value:function(e){if(!e)throw new Error("Invalid link argument to Link#matches");return this.targetTopic===e.targetTopic&&this.targetSubtopic===e.targetSubtopic&&this.relativeLinkNumber===e.relativeLinkNumber}},{key:"contradicts",value:function(e){if(!(e instanceof r.A))throw new Error("Invalid path argument to Link#contradicts");return this.targetPath.string!==e.string}},{key:"element",get:function(){if(this.linkElement)return this.linkElement;if(this.metadataObject)return this.linkElement=e.elementFromMetadata(this.metadata),this.linkElement?this.linkElement:null;if(this.selectorCallback){var t=this.selectorCallback();return this.element=null==t?void 0:t.element,this.linkElement}},set:function(t){t instanceof HTMLAnchorElement?this.linkElement=t:t instanceof e&&(this.linkElement=t.element),this.transferDataset()}},{key:"tryElement",get:function(){try{this.element}catch(e){return null}}},{key:"top",get:function(){return this.element?this.element.getBoundingClientRect().top:null}},{key:"bottom",get:function(){return this.element?this.element.getBoundingClientRect().bottom:null}},{key:"innerText",get:function(){var e;return this.element?null===(e=this.element)||void 0===e?void 0:e.innerText:null}},{key:"transferDataset",value:function(){this.linkElement&&(this._literalPathString=this.linkElement.dataset.literalPathString,this._enclosingTopic=this.linkElement.dataset.enclosingTopic,this._enclosingSubtopic=this.linkElement.dataset.enclosingSubtopic,this._typeValue=this.linkElement.dataset.type,this._text=this.linkElement.dataset.text)}},{key:"text",get:function(){var e,t,n;return(null===(e=this.linkElement)||void 0===e||null===(t=e.dataset)||void 0===t?void 0:t.text)||(null===(n=this.metadataObject)||void 0===n?void 0:n.text)}},{key:"targetTopic",get:function(){return this.literalPath.lastTopic}},{key:"targetSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.lastSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"childTopic",get:function(){return this.literalPath.firstTopic}},{key:"childSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.firstSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"enclosingTopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingTopic)}},{key:"enclosingTopicParagraph",get:function(){return this.enclosingParagraph.topicParagraph}},{key:"enclosingSubtopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingSubtopic)}},{key:"topicName",get:function(){throw new Error("Links have no topicName, only targetTopic or enclosingTopic")}},{key:"subtopicName",get:function(){throw new Error("Links have no subtopicName, only targetSubtopic or enclosingSubtopic")}},{key:"type",get:function(){return this.element.dataset.type}},{key:"enclosingSectionElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-section")}},{key:"sectionElement",get:function(){throw new Error("Depreciated in favor of #enclosingSectionElement")}},{key:"enclosingParagraphElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-paragraph")}},{key:"parentParagraphElement",get:function(){throw new Error("Depreciated in favor of #enclosingParagraphElement")}},{key:"enclosingParagraph",get:function(){return this.enclosingSectionElement?new o.A(this.enclosingSectionElement):null}},{key:"enclosingPath",get:function(){return this.metadataObject||this.enclosingSectionElement?this.metadataObject?new r.A(this.metadataObject.enclosingPathString):this.enclosingParagraph.path:null}},{key:"targetParagraph",get:function(){if(!this.isParent)return null;var e=this.enclosingParagraph.pathDepth;this.isGlobal&&(e=Number(e)+1);var t=this.enclosingParagraph.sectionElement.querySelector('section[data-topic-name="'.concat(this.literalPath.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(this.literalPath.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(e,'"'));return t?new o.A(t):(this.cycle||console.log("Did not find paragraph child element matching link [".concat(this.literalPath.firstTopic.mixedCase,", ").concat(this.literalPath.firstSubtopic.mixedCase,"]")),null)}},{key:"childPath",get:function(){return this.childParagraph.path}},{key:"childParagraph",get:function(){return this.isLocal?this.targetParagraph:this.isGlobal?this.enclosingPath.append(this.literalPath.firstTopicPath).paragraph:null}},{key:"matcher",get:function(){var e=this;return function(t){return t.matches(e)}}},{key:"relativeLinkNumber",get:function(){return this.storedRelativeLinkNumber||(this.storedRelativeLinkNumber=this.enclosingParagraph.links.map((function(e){return e.element})).indexOf(this.element)),this.storedRelativeLinkNumber}},{key:"metadata",get:function(){if(this.metadataObject)return null!=this&&this.linkElement?e.collectMetadata(this.linkElement):this.metadataObject;if(this.linkElement){var t=e.collectMetadata(this.linkElement);return this.metadataObject=t,t}if(this.selectorCallback)return this.element=this.selectorCallback(),this.metadata;throw new Error("Link has neither supplied metadata, dom element, nor selector function")}},{key:"path",get:function(){throw"#path is deprecated in favor of #inlinePath or #literalPath"}},{key:"targetPath",get:function(){throw"#targetPath is deprecated in favor of #inlinePath or #literalPath"}},{key:"literalPath",get:function(){var e;return this.isLocal?r.A.forSegment(this.enclosingTopic,this.targetSubtopic):this.isGlobal?r.A.for(((null===(e=this.element)||void 0===e?void 0:e.dataset)||this.metadataObject).literalPathString):null}},{key:"nextSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[e.length-1]))return null;var t=e.map((function(e){return e.element}));return e[t.indexOf(this.element)+1]}},{key:"previousSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[0]))return null;var t=e.map((function(e){return e.element}));return e[t.indexOf(this.element)-1]}},{key:"siblings",get:function(){return this.enclosingParagraph.links}},{key:"firstSibling",get:function(){return this.siblings[0]}},{key:"lastSibling",get:function(){return this.siblings[this.siblings.length-1]}},{key:"firstChildLink",get:function(){return this.targetParagraph.firstLink}},{key:"lastChildLink",get:function(){return this.targetParagraph.lastLink}},{key:"siblingOf",value:function(e){return this.enclosingParagraph&&this.enclosingParagraph.equals(null==e?void 0:e.enclosingParagraph)}},{key:"parentLink",get:function(){return this.enclosingParagraph.parentLink}},{key:"isParentLinkOf",value:function(e){var t;return null==e||null===(t=e.parentLink)||void 0===t?void 0:t.equals(this)}},{key:"grandParentLink",get:function(){var e;return null===(e=this.parentLink)||void 0===e?void 0:e.parentLink}},{key:"topicParagraph",get:function(){return this.element?new o.A(this.element.parentNode.closest(".canopy-topic-section")):null}},{key:"selected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.includes("canopy-selected-link")}},{key:"open",value:function(){var e;null===(e=this.element)||void 0===e||e.classList.add("canopy-open-link")}},{key:"isOpen",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-open-link")}},{key:"isClosed",get:function(){return!this.isOpen}},{key:"isClosedCycle",get:function(){return!this.isOpen&&this.cycle}},{key:"isSelected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-selected-link")}},{key:"isGlobal",get:function(){return"global"===this.type}},{key:"isPathReference",get:function(){return"global"===this.type&&(this.literalPath.length>1||this.childTopic.mixedCase!==this.childSubtopic.mixedCase)}},{key:"isSimpleGlobal",get:function(){return this.isGlobal&&!this.isPathReference}},{key:"isEffectivePathReference",get:function(){return this.isPathReference&&(!this.cycle||this.isInlinedCycleReference)}},{key:"isInlinedCycleReference",get:function(){return this.introducesNewCycle&&this.isOpen}},{key:"isInDom",get:function(){var e;return!(null===(e=this.element)||void 0===e||!e.closest("#_canopy"))}},{key:"isExternal",get:function(){return"external"===this.type}},{key:"isLocal",get:function(){return"local"===this.type}},{key:"isCycle",get:function(){return this.introducesNewCycle}},{key:"isBackCycle",get:function(){return this.inlinePath.reduce().subsetOf(this.enclosingPath)}},{key:"isLateralCycle",get:function(){return this.cycle&&!this.inlinePath.reduce().subsetOf(this.enclosingPath)}},{key:"isParent",get:function(){return this.isGlobal||this.isLocal}},{key:"isSiblingOf",value:function(e){return this.enclosingParagraph.equals(e.enclosingParagraph)}},{key:"isIn",value:function(e){if(!(e instanceof o.A))throw"Wrong argument type: "+d(e);return e.links.map((function(e){return e.element})).includes(this.element)}},{key:"hasChildren",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.hasLinks}},{key:"firstChild",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.links.filter((function(e){var t;return!(null!==(t=e.element)&&void 0!==t&&t.closest(".canopy-image-caption"))}))[0]}},{key:"firstChildOf",value:function(e){var t;return!(null===(t=e.firstChild)||void 0===t||!t.equals(this))}},{key:"isFragment",get:function(){var e,t;return 0===(null===(e=this.childParagraph)||void 0===e||null===(t=e.paragraphElement)||void 0===t?void 0:t.offsetHeight)}},{key:"childParagraphElement",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.paragraphElement}},{key:"isOffScreen",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),t=l.A.visibleHeight;return e.top<0||e.bottom>t}},{key:"isVisible",get:function(){if(!this.element)return!1;var e=this.element.getBoundingClientRect(),t=l.A.visibleHeight;return(Math.min(e.bottom,t)-Math.max(e.top,0))/(e.bottom-e.top)>=.5}},{key:"isEntirelyVisible",get:function(){if(!this.element)return!1;var e=this.element.getBoundingClientRect();return e.top>=0&&e.bottom<=l.A.visibleHeight}},{key:"isAboveViewport",get:function(){return!(!this.element||!this.element.getBoundingClientRect)&&this.element.getBoundingClientRect().top<l.A.top}},{key:"isBelowViewport",get:function(){if(!this.element||!this.element.getBoundingClientRect)return!1;var e=this.element.getBoundingClientRect(),t=l.A.visibleHeight;return e.bottom>t}},{key:"isDistantParent",get:function(){return this.top+.5*l.A.visibleHeight<this.childParagraph.top}},{key:"isHigherThan",value:function(e){return this.top<e.top}},{key:"isFocused",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),t=l.A.visibleHeight,n=.1*t,r=.5*t,o=e.bottom>n,i=e.top<r;return o&&i}},{key:"cycle",get:function(){return this.introducesNewCycle}},{key:"backButton",get:function(){return this.literalPath.equals(this.enclosingParagraph.topicPath)}},{key:"introducesNewCycle",get:function(){return!!this.isGlobal&&r.A.introducesNewCycle(this.enclosingPath,this.literalPath)}},{key:"inlinePath",get:function(){return this.isGlobal?this.enclosingParagraph.path.append(this.literalPath):this.isLocal?this.enclosingParagraph.path.replaceTerminalSubtopic(this.targetSubtopic):this.enclosingParagraph.path}},{key:"previewPath",get:function(){return this.metadataObject&&!o.A.contentLoaded?new r.A(this.metadataObject.previewPathString):this.isExternal||this.isGlobal&&this.introducesNewCycle?this.enclosingPath:this.isGlobal||this.isLocal?this.inlinePath:void 0}},{key:"urlPath",get:function(){return this.cycle||this.externalLink||this.isPathReference?this.enclosingPath:this.isLocal||this.isSimpleGlobal||this.isInlinedCycleReference?this.inlinePath:void 0}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&e.newTab&&this.isParent&&e.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!=e&&e.newTab&&this.isParent?window.open(location.origin+this.previewPath.productionPathString,"_blank"):e.scrollToParagraph?(0,c.A)(this.previewPath,null,e):(0,c.A)(this.previewPath,this,e)}},{key:"execute",value:function(){var t,n,r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(o=p({scrollDirect:!0},o)).renderOnly||e.persistLinkSelectionInSession(this),this.isExternal?window.open(this.element.href,"_blank"):null!==(t=o)&&void 0!==t&&t.newTab&&this.isParent&&o.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!==(n=o)&&void 0!==n&&n.newTab&&this.isParent?window.open(location.origin+this.previewPath.productionPathString,"_blank"):o.redirect?this.literalPath.display(p({scrollStyle:"instant"},o)):this.isGlobal&&this.introducesNewCycle&&!o.inlineCycles?(o.pushHistoryState&&e.pushHistoryState(this),this.inlinePath.reduce().display(o)):this.isPathReference&&!this.cycle||this.cycle&&o.inlineCycles?(o.pushHistoryState&&e.pushHistoryState(this),this.inlinePath.display(p({noScroll:!0},o)).then((function(){return r.inlinePath.parentLink.select(p(p({},o),{},{scrollDirect:!0,scrollToParagraph:!1}))}))):(o.selectALink&&this.firstChild||this).select(o)}},{key:"addSelectionClass",value:function(){e.updateSelectionClass(this)}},{key:"onPage",get:function(){if(!this.element)return null;var e=window.getComputedStyle(this.element);return this.element.offsetWidth>0&&this.element.offsetHeight>0&&"none"!==e.display&&"hidden"!==e.visibility}},{key:"eraseLinkData",value:function(){var e,t,n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");this.enclosingPath&&delete n[this.enclosingPath],sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(n)),null!==(e=history)&&void 0!==e&&null!==(t=e.state)&&void 0!==t&&t.linkSelection&&(history.state.linkSelection=null)}},{key:"isLastSelection",get:function(){var t;return null===(t=e.lastSelectionOfParagraph(this.enclosingParagraph))||void 0===t?void 0:t.equals(this)}}],i=[{key:"collectMetadata",value:function(t){var n=new e(t);return o.A.containingLink(n),{enclosingPathString:n.enclosingPath.string,text:t.dataset.text,relativeLinkNumber:n.relativeLinkNumber,previewPathString:n.previewPath.string,targetUrl:t.dataset.targetUrl,targetTopicString:t.dataset.targetTopic,targetSubtopicString:t.dataset.targetSubtopic,literalPathString:t.dataset.literalPathString}}},{key:"elementFromMetadata",value:function(e){var t=new r.A(e.enclosingPathString).paragraph;if(!t)return console.error("Link selection data refers to non-existant link",e);var n=t.linkBySelector((function(t,n){return t.isParent&&t.previewPath.string===e.previewPathString&&t.relativeLinkNumber===e.relativeLinkNumber&&t.text===e.text})),o=n||t.linkBySelector((function(t,n){var r,o;return t.isParent&&t.previewPath.string===e.previewPathString||t.isExternal&&(null===(r=t.element)||void 0===r||null===(o=r.dataset)||void 0===o?void 0:o.targetUrl)===e.targetUrl}));return(null==o?void 0:o.element)||null}},{key:"removeSelectionClass",value:function(){Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-selected-link")}))}},{key:"deselect",value:function(t){e.updateSelectionClass(t||null)}},{key:"updateSelectionClass",value:function(e){var t;Array.from(document.querySelectorAll("a.canopy-selected-link")).forEach((function(e){return e.classList.remove("canopy-selected-link")})),e&&(null===(t=e.element)||void 0===t||t.classList.add("canopy-selected-link"))}},{key:"persistLinkSelection",value:function(t){e.persistLinkSelectionInHistory(t),e.persistLinkSelectionInSession(t)}},{key:"selectionPresentInEvent",value:function(e){var t;return e.state&&(null===(t=e.state)||void 0===t?void 0:t.linkSelection)}},{key:"sessionSelection",get:function(){if(r.A.url.empty)return null;var t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}")[r.A.url.string];return t&&null!==t?new e(t):null}},{key:"historySelection",get:function(){var t,n;return r.A.url.empty?null:null!==(t=history)&&void 0!==t&&null!==(n=t.state)&&void 0!==n&&n.linkSelection?new e(history.state.linkSelection):null}},{key:"savedSelection",get:function(){return this.historySelection}},{key:"selection",get:function(){var t=document.querySelector("a.canopy-selected-link");return t?new e(t):null}},{key:"persistLinkSelectionInHistory",value:function(e){history.replaceState(e&&{linkSelection:e.metadata}||null,document.title,window.location.href)}},{key:"pushHistoryState",value:function(e){e&&history.pushState({linkSelection:e.metadata},document.title,window.location.origin+e.previewPath.productionPathString)}},{key:"current",value:function(){throw new Error("Link#current does not exist, try Link#selection")}},{key:"persistLinkSelectionInSession",value:function(e){if(e){var t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");t[e.enclosingParagraph.path]=e.metadata,sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(t))}}},{key:"lastSelectionOfParagraph",value:function(t){var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");if(n[t.path])return new e(n[t.path])}},{key:"visible",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(t){return e.for(t)})).filter((function(e){return e.isVisible}))}},{key:"onPage",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(t){return e.for(t)})).filter((function(e){return e.onPage}))}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],n&&A(t.prototype,n),i&&A(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},4207:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var r=n(514),o=n(797),i=n(1995),a=n(9903),c=n(4244),l=n.n(c);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(5044);var p,u,d,A=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t||"SECTION"!==t.tagName)throw new Error("Paragraph instantiation requires section element");if(!t.classList.contains("canopy-section"))throw new Error("Paragraph class requires Canopy section element");this.sectionElement=t,this.transferDataset();var n=e.byPath(this.sectionElement.dataset.pathString);if(n)return n}var t,n,c;return t=e,c=[{key:"from",value:function(e){return new this(e)}},{key:"selection",get:function(){return e.current}},{key:"current",get:function(){var t=document.querySelector(".canopy-selected-section");return t?new e(t):null}},{key:"root",get:function(){return r.A.current.rootTopicPath.paragraph}},{key:"containingLink",value:function(t){if(!(t instanceof o.A))throw new Error("Must provide link instance argument");return new e(t.element.parentNode.closest(".canopy-section"))}},{key:"visible",get:function(){for(var e=r.A.rendered,t=[];e;)t.push(e.paragraph),e=e.parentPath;return t}},{key:"atY",value:function(t){return e.visible.reduce((function(e,n){return e.top<t&&e.bottom>t?e:n.top<t&&n.bottom>t?n:Math.abs(e.top-t)<Math.abs(n.top-t)?e:n}))}},{key:"byPath",value:function(e){return e?(e instanceof r.A&&(e=e.pathString),this.paragraphsByPath[e]):null}},{key:"registerNode",value:function(t){var n=e.byPath(t.dataset.pathString)||e.for(t);e.paragraphsByPath[t.dataset.pathString]=n}},{key:"registerChild",value:function(t,n){e.registerNode(t),e.byPath(t.dataset.pathString).parentNode=n}},{key:"registerSubtopics",value:function(t){Array.from(t.querySelectorAll(".canopy-section")).forEach((function(t){e.registerNode(t),e.registerChild(t,t.parentNode)}))}},{key:"detachSubtopics",value:function(e){Array.from(e.querySelectorAll(".canopy-section")).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"all",get:function(){return Array.from(document.querySelectorAll(".canopy-section")).map((function(t){return e.for(t)}))}},{key:"focused",get:function(){return e.atY(.3*a.A.visibleHeight+a.A.currentScroll)}},{key:"contentLoaded",get:function(){return!!document.querySelector("h1.canopy-header")}},{key:"for",value:function(t){return e.byPath(t.dataset.pathString)?e.byPath(t.dataset.pathString):new e(t)}}],(n=[{key:"equals",value:function(e){return!!e&&this.sectionElement===e.sectionElement}},{key:"allocateSpace",value:function(){this.sectionElement.style.display="block",this.sectionElement.style.opacity="0%"}},{key:"display",value:function(){var e=this;this.sectionElement.style.display="block",this.sectionElement.style.opacity="100%",this.paragraphElement.style.unicodeBidi="unset",requestAnimationFrame((function(){e.paragraphElement.style.unicodeBidi="plaintext"}))}},{key:"element",get:function(){throw new Error("Depreciated in favor of #sectionElement property")}},{key:"transferDataset",value:function(){this._topicName=this.sectionElement.dataset.topicName,this._subtopicName=this.sectionElement.dataset.subtopicName,this._pathString=this.sectionElement.dataset.pathString,this.pathDepth=Number(this.sectionElement.dataset.pathDepth)}},{key:"isVisible",get:function(){return"none"!==window.getComputedStyle(this.sectionElement).display}},{key:"topic",get:function(){return l().fromMixedCase(this.sectionElement.dataset.topicName)}},{key:"subtopic",get:function(){return l().fromMixedCase(this.sectionElement.dataset.subtopicName)}},{key:"topicName",get:function(){throw new Error("Depreciated in favor of #topic")}},{key:"subtopicName",get:function(){throw new Error("Depreciated in favor of #subtopic")}},{key:"paragraphElement",get:function(){var e=Array.from(this.sectionElement.childNodes).find((function(e){return"P"===e.tagName}));if(!e)throw new Error("Paragraph has no paragraph element");return e}},{key:"path",get:function(){return new r.A(this.sectionElement.dataset.pathString)}},{key:"topicPath",get:function(){return this.path.lastSegment.firstTopicPath}},{key:"pathDown",get:function(){return this.path.slice(this.pathDepth)}},{key:"links",get:function(){if(this.linkObjects)return this.linkObjects;var e=this.paragraphElement.querySelectorAll("a.canopy-selectable-link");return this.linkObjects=Array.from(e).map((function(e){return new o.A(e)})),this.linkObjects}},{key:"linkElements",get:function(){return Array.from(this.paragraphElement.querySelectorAll(".canopy-selectable-link"))}},{key:"firstLink",get:function(){return this.links[0]||null}},{key:"nthLink",value:function(e){return this.links[e]||null}},{key:"lastLink",get:function(){return this.links[this.links.length-1]||null}},{key:"previousLink",get:function(){return o.A.lastSelectionOfParagraph(this)}},{key:"isRoot",get:function(){return this.sectionElement.parentNode===i.m0}},{key:"isSingleTopic",get:function(){return this.topic.caps===this.subtopic.caps}},{key:"hasLinks",get:function(){return this.links.length>0}},{key:"linkBySelector",value:function(e){return this.links.find(e)}},{key:"linksBySelector",value:function(e){return this.links.filter(e)}},{key:"linkByChild",value:function(e,t){return this.linkBySelector((function(n){return n.isGlobal&&n.childTopic.caps===(null==e?void 0:e.caps)||n.isLocal&&n.targetSubtopic.caps===(null==t?void 0:t.caps)}))}},{key:"parentLink",get:function(){var e,t,n,r=this;if(this.parentNode===i.m0)return null;if(this.parentParagraph.linkElements.includes(null===(e=o.A.selection)||void 0===e?void 0:e.element)&&null!==(t=o.A.selection)&&void 0!==t&&null!==(n=t.childParagraph)&&void 0!==n&&n.equals(this))return o.A.selection;if(!this.isTopic)return this.parentParagraph.links.find((function(e){return e.isLocal&&e.targetSubtopic.caps===r.subtopic.caps}));var a=o.A.lastSelectionOfParagraph(this.parentParagraph);return this.parentLinks.length>1&&a&&this.parentLinks.find((function(e){return e.equals(a)}))?a:this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&1===e.literalPath.length&&e.childTopic.caps===r.topic.caps&&e.childSubtopic.caps===r.topic.caps}))||this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&e.childTopic.caps===r.topic.caps}))}},{key:"parentLinks",get:function(){var e=this;return this.sectionElement.parentNode===i.m0?null:this.parentParagraph.linksBySelector((function(t){return t.isGlobal&&t.childTopic.caps===e.topic.caps||t.isLocal&&t.targetSubtopic.caps===e.subtopic.caps}))}},{key:"displayTopicName",get:function(){return this.sectionElement.dataset.displayTopicName}},{key:"parentParagraph",get:function(){if(this.parentNode&&"SECTION"===this.parentNode.tagName)return e.for(this.parentNode);if(this.sectionElement){var t,n,r=null===(t=this.sectionElement)||void 0===t||null===(n=t.parentNode)||void 0===n?void 0:n.closest(".canopy-section");return r?new e(r):null}return null}},{key:"topicParagraph",get:function(){if(this.isTopic)return this;var t=this.sectionElement.parentNode.closest(".canopy-topic-section");if(!t)throw new Error("Missing topic paragraph");return new e(t)}},{key:"isTopic",get:function(){return this.topic.mixedCase===this.subtopic.mixedCase}},{key:"isInDom",get:function(){return!!this.sectionElement.closest("div#_canopy")}},{key:"isBig",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight>.75}},{key:"fits",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight<.8}},{key:"top",get:function(){return this.paragraphElement.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.paragraphElement.getBoundingClientRect().bottom}},{key:"addSelectionClass",value:function(){this.sectionElement.classList.add("canopy-selected-section")}},{key:"scrollComplete",value:function(){this.sectionElement.classList.add("canopy-scroll-complete")}},{key:"removeFromDom",value:function(){this.sectionElement.parentNode.removeChild(this.sectionElement)}},{key:"addToDom",value:function(){if(!this.parentNode)throw new Error("Every sectionElement must have parentNode");if(this.parentNode.appendChild(this.sectionElement),this.parentParagraph&&this.parentParagraph.addToDom(),this.path.isSingleTopic)return i.m0.appendChild(this.sectionElement)}}])&&s(t.prototype,n),c&&s(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}();d={},(u="paragraphsByPath")in(p=A)?Object.defineProperty(p,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):p[u]=d;const h=A},514:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(1995),o=(n(9903),n(4207)),i=n(797),a=n(4244),c=n.n(a),l=n(5044);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h,f,y,g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t?Array.isArray(t)?(0===t.length?this.pathArray=[]:(this.pathArray=t.slice(),e.validatePathArray(this.array)),this.pathString=e.arrayToString(this.array)):("string"==typeof t||t instanceof String)&&(this.pathArray=e.stringToArray(t),this.pathString=e.arrayToString(this.array)):this.pathArray=[]}var t,n,a;return t=e,n=[{key:"length",get:function(){return this.pathArray[0]?this.pathArray.length:0}},{key:"equals",value:function(e){return!!e&&this.string===e.string}},{key:"isIn",value:function(e){var t;return!!e&&(!!this.equals(e)||!e.isSingleTopic&&!this.visitsTopicNotIn(e)&&this.isIn(null==e||null===(t=e.paragraph)||void 0===t?void 0:t.parentParagraph.path))}},{key:"visitsTopicNotIn",value:function(e){return this.topicStringArray.some((function(t){return!e.topicStringArray.includes(t)}))}},{key:"includes",value:function(e){return e.isIn(this)}},{key:"array",get:function(){return this.pathArray}},{key:"string",get:function(){return this.pathString}},{key:"empty",get:function(){return!this.array[0]}},{key:"slice",value:function(){var e;return new this.constructor((e=this.pathArray.slice).call.apply(e,[this.pathArray].concat(Array.prototype.slice.call(arguments))))}},{key:"segments",get:function(){return this.pathArray}},{key:"firstTopic",get:function(){return this.empty?null:this.pathArray[0][0]}},{key:"firstTopicPath",get:function(){return this.constructor.forSegment(this.pathArray[0][0],this.pathArray[0][0])}},{key:"lastTopic",get:function(){return this.lastSegment.topic}},{key:"topic",get:function(){var e;return null===(e=this.lastSegment.array[0])||void 0===e?void 0:e[0]}},{key:"firstSubtopic",get:function(){return this.empty?null:this.pathArray[0][1]}},{key:"lastSubtopic",get:function(){return this.lastSegment.subtopic}},{key:"secondTopic",get:function(){return this.pathArray[1]&&this.pathArray[1][0]}},{key:"secondSubtopic",get:function(){return this.pathArray[1]&&this.pathArray[1][1]}},{key:"firstSegment",get:function(){return new this.constructor(this.pathArray.slice(0,1))}},{key:"lastSegment",get:function(){return new this.constructor(this.pathArray.slice(-1))}},{key:"withoutFirstSegment",get:function(){return new this.constructor(this.pathArray.slice(1))}},{key:"withoutLastSegment",get:function(){return new this.constructor(this.pathArray.slice(0,-1))}},{key:"isSingleTopic",get:function(){return 1===this.pathArray.length&&this.pathArray[0][0].mixedCase===this.pathArray[0][1].mixedCase}},{key:"parentPath",get:function(){var e,t;return null===(e=this.paragraph)||void 0===e||null===(t=e.parentParagraph)||void 0===t?void 0:t.path}},{key:"parentLink",get:function(){var e;return null===(e=this.paragraph)||void 0===e?void 0:e.parentLink}},{key:"nextLink",get:function(){var e,t;return(null===(e=this.paragraph)||void 0===e?void 0:e.firstLink)||(null===(t=this.paragraph)||void 0===t?void 0:t.parentLink)}},{key:"forEach",value:function(e){this.array.forEach(e)}},{key:"clone",value:function(){return new e(this.array.slice())}},{key:"cycle",get:function(){var e=this,t=null;return this.array.forEach((function(n,r){e.array.forEach((function(e,o){n[0].mixedCase===e[0].mixedCase&&r<o&&(t={start:r,end:o})}))})),t}},{key:"reduce",value:function(){var t=this.cycle;return t?new e([].concat(p(this.array.slice(0,t.start)),p(this.array.slice(t.end)))):this.clone()}},{key:"overlap",value:function(e){if(this.firstTopic.mixedCase!==e.firstTopic.mixedCase)return null;for(var t=e;!t.isSingleTopic;){if(this.includes(t))return t;if(!t.parentPath)throw new Error("Undefined parent path for ".concat(t));t=t.parentPath}return t}},{key:"fulcrumElement",value:function(e){return this.includes(e)||e.includes(this)?this.overlap(e).paragraphElement:this.overlapAndNextTopic(e).parentLink.element}},{key:"overlapAndNextTopic",value:function(e){var t=this.overlap(e);return this.includes(e)?null:t.intermediaryPathsTo(e)[1]}},{key:"firstDestination",value:function(e){return!this.overlap(e)||this.includes(e)||e.includes(this)?e:this.overlap(e)}},{key:"subsetOf",value:function(e){return e.includes(this)&&!this.equals(e)}},{key:"intermediaryPathsTo",value:function(e){for(var t=[],n=e.clone();n&&!this.equals(n);)t.unshift(n),n=n.parentPath;return t.unshift(this),t}},{key:"includedParagraphs",get:function(){for(var e=[],t=this.paragraph;t;)e.push(t),t=t.parentParagraph;return e}},{key:"childOf",value:function(e){var t;return null===(t=this.parentPath)||void 0===t?void 0:t.equals(e)}},{key:"parentOf",value:function(e){var t;return null===(t=e.parentPath)||void 0===t?void 0:t.equals(this)}},{key:"display",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&e.newTab?window.open(location.origin+this.string,"_blank"):this.empty?console.error("Cannot display empty path"):(0,l.A)(this,null,e)}},{key:"selectALink",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.display({renderOnly:!0}).then((function(){return(e.paragraph.firstLink||e.paragraph.parentLink).select(t)}))}},{key:"addSegment",value:function(t,n){return this.empty?new e([[t,n]]):new e(this.array.concat([[t,n]]))}},{key:"append",value:function(t){return new e(this.string+"/"+t.string)}},{key:"replaceTerminalSubtopic",value:function(e){if(0===this.length)return this;var t=this.lastSegment;return this.withoutLastSegment.addSegment(t.firstTopic,e)}},{key:"removeTerminalSubtopic",get:function(){if(0===this.length)return this;var e=this.lastSegment;return this.withoutLastSegment.addSegment(e.firstTopic,e.firstTopic)}},{key:"toString",value:function(){return this.string}},{key:"rootTopicPath",get:function(){return this.length>0?new e([[this.firstTopic,this.firstTopic]]):this}},{key:"topicArray",get:function(){return this.array.map((function(e){var t=s(e,2),n=t[0];return t[1],n}))}},{key:"topicStringArray",get:function(){return this.array.map((function(e){var t=s(e,2),n=t[0];return t[1],n.mixedCase}))}},{key:"sectionElement",get:function(){return e.elementAtRelativePath(this,r.m0)}},{key:"paragraph",get:function(){return o.A.byPath(this)?o.A.byPath(this):this.sectionElement?new o.A(this.sectionElement):null}},{key:"paragraphElement",get:function(){return this.paragraph.paragraphElement}},{key:"parentParagraph",get:function(){return this.paragraph.parentParagraph}},{key:"present",get:function(){return!!this.array[0]}},{key:"productionPathString",get:function(){var e="";return r.fP&&(e+="/".concat(r.fP)),r.T6&&(e+="/#"),e+this.pathString}}],a=[{key:"stringToArray",value:function(t){if("string"!=typeof t)throw new Error("Function requires string argument");if(this.stringToArrayCache.hasOwnProperty(t))return this.stringToArrayCache[t];if("/"===t)return[];var n=t.replace(/%5C%5C(%23|#)|%5C(%23|#)|(%23|#)/g,(function(e){return e.startsWith("%5C%5C")?"%5C%5C#":e.startsWith("%5C")?"%5C#":"#"})).split("/").filter((function(e){return""!==e})),r=(n=e.fixOrphanSubtopics(t,n)).map((function(e){var t=s(c().parseUrlSegment(e),2),n=t[0];return[n,t[1]||n]})).filter((function(e){return e[0]}));return this.stringToArrayCache[t]=r,r}},{key:"arrayToString",value:function(e){if(!Array.isArray(e))throw new Error("Argument must be array");if(Array.isArray(e)&&0===e.length)return"/";if(!Array.isArray(e[0]))throw new Error("Path array must be two-dimensional array");return"/"+e.map((function(e){var t=s(e,2),n=t[0],r=t[1],o=n.url;return r&&r.url!==n.url&&(o+="#"+r.url),o})).join("/")}},{key:"introducesNewCycle",value:function(e,t){if(t.reduce().length<t.length)return!0;var n=e.topicArray.map((function(e){return e.mixedCase})),r=t.topicArray.map((function(e){return e.mixedCase}));return n.some((function(n,o){return r.some((function(r,o){return n===r&&!e.equals(e.append(t).reduce())}))}))}},{key:"default",get:function(){var t=c().for((0,r.PZ)());return new e([[t,t]])}},{key:"root",get:function(){return e.url.rootTopicPath}},{key:"current",get:function(){return e.rendered||e.url}},{key:"rendered",get:function(){var e;return null===(e=o.A.selection)||void 0===e?void 0:e.path}},{key:"url",get:function(){var t=window.location.href.slice(window.location.origin.length);return r.fP&&0===t.indexOf("/".concat(r.fP))&&(t=t.slice(r.fP.length+1)),0===t.indexOf("/#")&&(t=t.slice(2)),new e(t)}},{key:"initial",get:function(){return e.url.present&&i.A.savedSelection?i.A.savedSelection.previewPath:e.url.empty?e.default:e.url}},{key:"connectingLinkValid",value:function(t,n){if(!t)throw new Error("Parent element required");if(!(n instanceof e))throw new Error("pathToAppend must be a Path object");if(t===r.m0)return!0;var i=new o.A(t);return!!i.linkByChild(n.firstTopic)||(console.error("Parent element [".concat(i.topic.mixedCase,", ").concat(i.subtopic.mixedCase,"] has no ")+"connecting link to subsequent path segment [".concat(n.firstTopic.mixedCase,"]")),!1)}},{key:"elementAtRelativePath",value:function(t,n){if(!(t instanceof e))throw new Error("pathToDisplay must be a Path object");for(var o=n=n||r.m0,i=t,a=Number(n.dataset.pathDepth||-1),c=0;c<t.length;c++){if(a+=1,!(o=o.querySelector(":scope > "+'[data-topic-name="'.concat(i.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(i.firstTopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]')+(i.firstTopic.mixedCase!==i.firstSubtopic.mixedCase?" "+'[data-topic-name="'.concat(i.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(i.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]'):""))))return null;i=i.withoutFirstSegment}return o||console.log("element at relative path",t,n,o),o}},{key:"setPath",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t instanceof e))throw new Error("newPath must be Path object");if(!n.popState){var r=e.url,o=t.lastTopic.mixedCase,i=e.url.empty||t.equals(r);n.pushHistoryState&&(i=!1),n.replaceHistoryState&&(i=!0);var a=i?function(e,t,n){history.replaceState(e,t,n)}:function(e,t,n){history.pushState(e,t,n)},c=t.productionPathString;a(history.state,o,c)}}},{key:"fixOrphanSubtopics",value:function(e,t){if("string"!=typeof e)throw new Error("pathString must be a string argument");if(!Array.isArray(t))throw new Error("slashSeparatedUnits must be an array");if(e.match(/\/#\w+/))for(var n=1;n<t.length;n++)if(t[n].match(/^#/)){if(t[n-1].match(/#/)){var r=t[n].slice(1);return t.slice(0,n).concat([r]).concat(t.slice(n+1))}var o=t[n-1]+t[n];return t.slice(0,n-1).concat([o]).concat(t.slice(n+1))}return t}},{key:"validatePathArray",value:function(e){e.forEach((function(e){if(2!==e.length)throw new Error("Invalid path segment format: ".concat(e));if(!(e[0]instanceof c()&&e[1]instanceof c()))throw new Error("Invalid path segment format: ".concat(JSON.stringify(e)))}))}},{key:"forTopic",value:function(e){return new this([[e,e]])}},{key:"forSegment",value:function(e,t){if(!(e instanceof c()&&t instanceof c()))throw new Error("Argument must be of type Topic");return new this([[e,t]])}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],n&&A(t.prototype,n),a&&A(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();y={},(f="stringToArrayCache")in(h=g)?Object.defineProperty(h,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[f]=y;const m=g},5806:(e,t,n)=>{"use strict";n.d(t,{d:()=>T});var r=n(1995),o=n(4244),i=n.n(o),a=(n(5044),n(2593)),c=n(514);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const s=function(e){if(a.A[e.mixedCase])return a.A[e.mixedCase];var t=(r.fP?"/"+r.fP:"")+"/_data/"+e.requestFileName+".json",n=fetch(t).then((function(e){return e.json().then((function(e){return function(e){var t,n=JSON.stringify(e);r.m0.imagePreloadArray=r.m0.imagePreloadArray||[],(t=n.matchAll(/<img\s[^>]*?src=\\?["']([^"']+?)\\?["']|resourceUrl": ?"([^"]+)/g),function(e){if(Array.isArray(e))return l(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e[1]||e[2]})).forEach((function(e){var t=new Image;t.src=e,r.m0.imagePreloadArray.push(t)}))}(e),e}))})).catch((function(t){return a.A[e.mixedCase]=void 0,Promise.reject(new Error('Unable to find topic file: "'.concat(e.requestFileName,'"')))}));return a.A[e.mixedCase]=n,n};var p=n(4207),u=n(797);function d(e){return function(t){if(t.preventDefault(),!((n=window.getSelection())&&n.rangeCount>0)||n.isCollapsed){var n,r,o=t.metaKey||t.ctrlKey,i=(t.altKey,t.shiftKey),a=e.cycle&&!i;return o||t.altKey||!e.isSelected||e.isClosedCycle||e.isPathReference||e.isInlinedCycleReference?(o||t.altKey||!e.isOpen||e.isClosedCycle||e.isPathReference||e.isInlinedCycleReference)&&(o||t.altKey||!e.isOffScreen||e.isClosedCycle)?o||t.altKey||!e.isInlinedCycleReference?e.execute({newTab:o,redirect:t.altKey,inlineCycles:t.shiftKey,scrollDirect:!0,selectALink:!1,pushHistoryState:!0,scrollToParagraph:!0,noBeforeChangeScroll:!a}):e.select():e.select({scrollDirect:!0,noBeforeChangeScroll:!0}):(null===(r=e.parentLink)||void 0===r?void 0:r.select({scrollDirect:!0,noBeforeChangeScroll:!0}))||c.A.root.display({scrollDirect:!0,noBeforeChangeScroll:!0})}}}var A=n(9903),h=n(1246);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||g(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if("text"===e.type)return function(e){var t=[];if(!e.text.includes("\n")){var n=document.createElement("SPAN");return n.classList.add("canopy-text-span"),n.innerText=e.text,[n]}return e.text.split("\n").forEach((function(e,n,r){if(e){var o=document.createElement("SPAN");o.classList.add("canopy-text-span"),o.innerText=e,t.push(o)}if(n!==r.length-1){var i=document.createElement("SPAN");i.classList.add("canopy-linebreak-span"),t.push(i)}})),t}(e);if("local"===e.type)return t.localLinkSubtreeCallback(e),function(e,t){var n=document.createElement("a");n.classList.add("canopy-selectable-link"),n.dataset.targetTopic=e.targetTopic,n.targetTopic=e.targetTopic,n.dataset.targetSubtopic=e.targetSubtopic,n.targetSubtopic=e.targetSubtopic,n.dataset.enclosingTopic=e.enclosingTopic,n.dataset.enclosingSubtopic=e.enclosingSubtopic,n.dataset.text=e.text;var o=document.createElement("SPAN");o.classList.add("canopy-link-content-container"),n.appendChild(o),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return o.appendChild(e)}))})),n.addEventListener("dragstart",(function(e){e.preventDefault()}));var a=d(new u.A(n));n._CanopyClickHandler=a,n.addEventListener("click",a),n.classList.add("canopy-local-link"),n.dataset.type="local";var c=new(i())(e.targetTopic),l=new(i())(e.targetSubtopic);return n.href="".concat(r.fP?"/"+r.fP:"").concat(r.T6?"/#":"","/").concat(c.url,"#").concat(l.url),[n]}(e,t);if("global"===e.type)return c.A.for(e.pathString).topicArray.map((function(e){return s(e)})),function(e,t){t.fullPath,t.remainingPath,t.currentTopic,t.currentSubtopic;var n=document.createElement("a"),r=document.createElement("SPAN");r.classList.add("canopy-link-content-container"),n.appendChild(r),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return r.appendChild(e)}))})),n.classList.add("canopy-global-link"),n.classList.add("canopy-selectable-link"),n.dataset.type="global",n.dataset.literalPathString=e.pathString,n.path=e.path,n.dataset.enclosingTopic=e.enclosingTopic,n.dataset.enclosingSubtopic=e.enclosingSubtopic,n.dataset.text=e.text,n.href=c.A.for(e.pathString).productionPathString;var o=new u.A(n),i=d(o);return n.addEventListener("click",i),n._CanopyClickHandler=i,o.isPathReference&&n.classList.add("canopy-provisional-icon-link"),setTimeout((function(){o.element&&(o.element.closest(".canopy-paragraph")||console.error("No paragraph for link",n),n.classList.remove("canopy-provisional-icon-link"),o.isBackCycle?n.classList.add("canopy-back-cycle-link"):o.isLateralCycle?n.classList.add("canopy-lateral-cycle-link"):o.isPathReference&&n.classList.add("canopy-path-reference"))})),[n]}(e,t);if("disabled_reference"===e.type)return function(e,t){var n=document.createElement("a"),r=document.createElement("SPAN");return r.classList.add("canopy-link-content-container"),n.appendChild(r),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return r.appendChild(e)}))})),n.classList.add("canopy-disabled-link"),n.dataset.type="disabled",[n]}(e,t);if("fragment_reference"===e.type)return function(e,t){var n=document.createElement("a");n.classList.add("canopy-selectable-link"),n.dataset.targetTopic=e.targetTopic,n.targetTopic=e.targetTopic,n.dataset.targetSubtopic=e.targetSubtopic,n.targetSubtopic=e.targetSubtopic,n.dataset.enclosingTopic=e.enclosingTopic,n.dataset.enclosingSubtopic=e.enclosingSubtopic,n.dataset.text=e.text,e.tokens.forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))})),n.addEventListener("dragstart",(function(e){e.preventDefault()}));var o=d(new u.A(n));n._CanopyClickHandler=o,n.addEventListener("click",o),n.classList.add("canopy-local-link"),n.dataset.type="local";var a=new(i())(e.targetTopic),c=new(i())(e.targetSubtopic);return n.href="".concat(r.fP?"/"+r.fP:"").concat(r.T6?"/#":"","/").concat(a.url,"#").concat(c.url),[n]}(e,t);if("external"===e.type)return function(e,t){var n=document.createElement("A");n.classList.add("canopy-external-link"),n.classList.add("canopy-selectable-link"),n.dataset.type="external",n.dataset.text=e.text,n.setAttribute("href",e.url),n.setAttribute("target","_blank"),n.dataset.targetUrl=e.url,setTimeout((function(){n.querySelector("img")&&n.classList.add("canopy-linked-image")}));var r=document.createElement("SPAN");return r.classList.add("canopy-link-content-container"),n.appendChild(r),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return r.appendChild(e)}))})),[n]}(e,t);if("image"===e.type)return function(e,t){var n=document.createElement("DIV");n.classList.add("canopy-image-container");var r=document.createElement("DIV");r.classList.add("canopy-image");var o=document.createElement("IMG");if(o.setAttribute("src",e.resourceUrl),o.setAttribute("decoding","async"),r.appendChild(o),e.title&&o.setAttribute("title",e.title),e.caption){var i=document.createElement("SPAN");i.classList.add("canopy-image-caption"),r.appendChild(i),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return i.appendChild(e)}))}))}return e.altText&&o.setAttribute("alt",e.altText),C(o,t),n.appendChild(r),[n]}(e,t);if("html_element"===e.type)return function(e,t){var n=document.createElement("DIV"),r=document.createRange().createContextualFragment(e.html);return n.appendChild(r),Array.from(n.querySelectorAll(".canopy-html-insertion")).forEach((function(n){var r=n.dataset.replacementNumber;e.tokenInsertions[r].forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))}))})),n.classList.add("canopy-raw-html"),y(n.querySelectorAll("img")).forEach((function(e){C(e,t)})),[n]}(e,t);if("footnote_marker"===e.type)return function(e){var t=document.createElement("SUP"),n=document.createTextNode(e.text);return t.appendChild(n),[t]}(e);if("code_block"===e.type)return function(e){var t=document.createElement("PRE"),n=document.createElement("CODE");return t.appendChild(n),n.innerText=e.text,n.classList.add("canopy-code-block"),[t]}(e);if("block_quote"===e.type)return function(e,t){var n=document.createElement("BLOCKQUOTE");n.setAttribute("dir",e.direction),e.tokens.forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))}));var o=n.cloneNode(!0);y(o.querySelectorAll("*")).forEach((function(e){y(e.childNodes).forEach((function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent.length>1){var t,n=e.textContent,r=e.parentNode,o=document.createDocumentFragment(),i=function(e){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=g(e))){t&&(e=t);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,a=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return i=e.done,e},e:function(e){a=!0,o=e},f:function(){try{i||null==t.return||t.return()}finally{if(a)throw o}}}}(n);try{for(i.s();!(t=i.n()).done;){var a=t.value,c=document.createElement("span");c.classList.add("canopy-blockquote-character"),c.textContent=a,o.appendChild(c)}}catch(e){i.e(e)}finally{i.f()}r.replaceChild(o,e)}}))}));var i=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,a=i.querySelector("p");r.m0.appendChild(i),a.appendChild(o);var c=!1,l=null;return y(o.querySelectorAll("span.canopy-blockquote-character,span.canopy-linebreak-span")).forEach((function(e,t,n){if(e.classList.contains("canopy-linebreak-span"))l=null;else{var r,o=e.getBoundingClientRect(),i=n[t-1],a=null===(r=n[t-1])||void 0===r?void 0:r.getBoundingClientRect();null==i||i.closest(".canopy-text-span"),i&&!i.classList.contains("canopy-linebreak-span")&&(null===l?l=o.right>a.right?1:-1:c=c||(o.right>a.right?1:-1)!==l)}})),a.removeChild(o),c&&n.querySelectorAll(".canopy-linebreak-span").forEach((function(e,t,n){e.classList.add("canopy-blockquote-padded-linebreak")})),[n]}(e,t);if("outline"===e.type)return v(e.topLevelNodes,t);if("table"===e.type)return function(e,t){var n=document.createElement("TABLE");n.setAttribute("dir","auto"),e.rtl&&n.setAttribute("dir","rtl"),e.rows.forEach((function(r){var o=document.createElement("TR");e.rtl&&o.setAttribute("dir","rtl"),r.forEach((function(e){var n=document.createElement("TD");e.hidden&&n.classList.add("hidden"),e.colspan&&n.setAttribute("colspan",e.colspan),e.rowspan&&n.setAttribute("rowspan",e.rowspan),e.tokens.forEach((function(r){b(r,t).forEach((function(t){1===e.tokens.length&&function e(t){return"A"===t.tagName||1===t.children.length&&e(t.children[0])}(t)&&(n.classList.add("canopy-table-link-cell"),n.classList.add("canopy-arrow-key-container"),setTimeout((function(){var e=t.parentNode.querySelector("a");e.classList.add("canopy-table-link"),e.removeEventListener("click",e._CanopyClickHandler),n.addEventListener("click",e._CanopyClickHandler)}))),n.appendChild(t)}))})),e.merge||o.appendChild(n)})),n.appendChild(o)}));var o=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,i=o.querySelector("p");r.m0.appendChild(o),i.appendChild(n);var a={widest:-1,narrowest:1/0,tallest:-1,shortest:1/0};return i.appendChild(n),y(n.querySelectorAll("td")).forEach((function(e){var t=e.getAttribute("colspan"),n=e.getAttribute("rowspan");!t&&e.offsetWidth>a.widest&&(a.widest=e.offsetWidth),!t&&e.offsetWidth<a.narrowest&&(a.narrowest=e.offsetWidth),!n&&e.offsetHeight>a.tallest&&(a.tallest=e.offsetHeight),!n&&e.offsetHeight<a.shortest&&(a.shortest=e.offsetHeight)})),a.widest-a.narrowest<60&&y(n.querySelectorAll("td")).forEach((function(e){e.style.width=a.widest+"px"})),a.tallest-a.shortest<50&&y(n.querySelectorAll("td")).forEach((function(e){e.style.height=a.tallest+"px"})),r.m0.removeChild(o),i.removeChild(n),[n]}(e,t);if("menu"===e.type)return function(e,t){var n=document.createElement("DIV");n.classList.add("canopy-menu"),e.rtl&&(n.dir="rtl"),"right"===e.alignment&&n.classList.add("canopy-align-right"),"left"===e.alignment&&n.classList.add("canopy-align-left"),"mixed"===e.alignment&&n.classList.add("canopy-align-mixed");var o,i=["eigth-pill","quarter-pill","third-pill","half-pill","quarter-card","third-card","half-tube","half-card"],a=0,c=e.items.map((function(n,r){var o=document.createElement("DIV");o.classList.add("canopy-menu-cell");var i=document.createElement("DIV");i.classList.add("canopy-menu-content-container"),n.hidden&&(o.style.opacity="0");var a=b(n.tokens[0],t);if(a.forEach((function(t){if(1===n.tokens.length&&"A"===t.tagName){for(t.classList.add("canopy-menu-cell"),t.classList.add("canopy-menu-link-cell");t.firstChild;)i.appendChild(t.firstChild);(o=t).appendChild(i),o.addEventListener("dragstart",(function(e){return e.preventDefault()}))}else n.tokens.forEach((function(e){a.forEach((function(e){return i.appendChild(e)}))})),o.appendChild(i);(n.alignment||e.alignment)&&o.classList.add("canopy-menu-cell-".concat(n.alignment||e.alignment,"-aligned"))})),n.list){var c=document.createElement("SPAN");c.classList.add("canopy-menu-ordinal"),c.innerHTML=n.ordinal+".&nbsp;",i.prepend(c),o.classList.add("canopy-menu-ordinal-cell")}return o})),l=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,s=l.querySelector("p"),p=g();r.m0.appendChild(l),s.appendChild(n),n.appendChild(p);for(var u=0;u<c.length;u++){var d=c[u];for(p.appendChild(d);;){a===i.indexOf("half-pill")&&e.items.length>2&&(a=i.indexOf("quarter-card")),n.classList.add("canopy-".concat(i[a]));var A=d.clientWidth-parseFloat(window.getComputedStyle(d).paddingLeft)-parseFloat(window.getComputedStyle(d).paddingRight),h=d.clientHeight-parseFloat(window.getComputedStyle(d).paddingTop)-parseFloat(window.getComputedStyle(d).paddingBottom),f=d.firstChild.scrollWidth-2*parseFloat(window.getComputedStyle(d).borderWidth),y=d.firstChild.scrollHeight-2*parseFloat(window.getComputedStyle(d).borderWidth);if(!(f>A||y>h))break;if(a>=i.length-1)break;n.classList.remove("canopy-".concat(i[a])),a++,u=0}}function g(){var t=document.createElement("DIV");return t.classList.add("canopy-menu-row"),e.rtl&&(t.dir="rtl"),n.appendChild(t),t}s.remove(),p.remove(),l.remove(),n.classList.add("canopy-".concat(i[a])),i[a].includes("half")&&(o=2),i[a].includes("third")&&(o=3),i[a].includes("quarter")&&(o=4),i[a].includes("eigth")&&(o=8);for(var m=g(),C=0;C<c.length;C++)m.appendChild(c[C]),(C+1)%o==0&&C+1!==c.length&&(m=g());if(n.childNodes.length>1)for(var v=c.length%o,k=v>0?o-v:0,w=0;w<k;w++){var x=document.createElement("DIV");x.classList.add("canopy-menu-cell"),x.style.opacity="0",m.appendChild(x)}return[n]}(e,t);if("footnote_lines"===e.type)return function(e,t){var n=document.createElement("DIV"),r=document.createElement("HR");return r.classList.add("canopy-footnote-rule"),n.appendChild(r),e.lines.forEach((function(e){var r=document.createElement("SPAN");r.classList.add("canopy-footnote-span");var o=document.createTextNode(e.superscript+". ");r.appendChild(o),e.tokens.forEach((function(e){var n=f(b(e,t),1)[0];r.appendChild(n)})),n.appendChild(r)})),[n]}(e,t);if("bold"===e.type)return function(e,t){var n=document.createElement("B");return e.tokens.forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))})),[n]}(e,t);if("strikethrough"===e.type)return function(e,t){var n=document.createElement("S");return e.tokens.forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))})),[n]}(e,t);if("italics"===e.type)return function(e,t){var n=document.createElement("I");return e.tokens.forEach((function(e){b(e,t).forEach((function(e){return n.appendChild(e)}))})),[n]}(e,t);if("inline_code"===e.type)return function(e){var t=document.createElement("CODE");return t.innerText=e.text,[t]}(e);if("tool_tip"===e.type)return function(e,t){var n=document.createElement("span");n.className="canopy-tooltip";var r=document.createElement("sup");r.textContent="ⓘ",r.classList.add("canopy-tooltip-icon"),n.appendChild(r);var o=document.createElement("span");return o.className="canopy-tooltiptext",o.dir="auto",e.tokens.forEach((function(e){b(e,t).forEach((function(e){return o.appendChild(e)}))})),n.appendChild(o),[n]}(e,t);throw"Unhandled token type: ".concat(e.type)}function C(e,t){var n=e.style.height,r=e.style.opacity,o=e.style.width;if(e.closest(".canopy-image"))var i=e.closest(".canopy-image").style.width;e.style.setProperty("height",A.A.visibleHeight+"px"),e.style.setProperty("width","100%"),e.style.setProperty("opacity","0"),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width","100%"),setTimeout((function(){e.complete||(e.closest(".canopy-image")||e).style.setProperty("background-color","#f5f5f5")}),200),e.addEventListener("load",(function(){((0,h.Yw)()||Promise.resolve()).then((function(){var a,l=A.A.focusedElement,s=l.getBoundingClientRect().bottom;e.style.setProperty("height",n),e.style.setProperty("width",o),e.style.setProperty("opacity",r),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width",i),null===(a=e.closest(".canopy-image"))||void 0===a||a.style.setProperty("background-color","transparent");var p=l.getBoundingClientRect().bottom-s,u=(A.A.currentScroll,A.A.currentScroll+p),d=t.pathToParagraph;c.A.current.includes(d)&&(0,h.Cj)({top:u,behavior:"instant"})}))}))}function v(e,t){var n=e[0].ordered?document.createElement("OL"):document.createElement("UL");return e[0].ordered&&n.setAttribute("type",e[0].ordinal),e.forEach((function(e){var r=document.createElement("LI");if(e.tokensOfLine.forEach((function(e){b(e,t).forEach((function(e){return r.appendChild(e)}))})),e.children.length>0){var o=f(v(e.children),1)[0];r.appendChild(o)}n.appendChild(r)})),[n]}const k=b;const w=function e(t,n,r){var o=r.paragraphsBySubtopic,a=function(e,t,n){var r=n.displayTopicName,o=n.pathDepth,i=n.paragraphsBySubtopic,a=n.pathToParagraph,c=document.createElement("section");c.classList.add("canopy-section");var l=document.createElement("p");l.classList.add("canopy-paragraph"),c.appendChild(l),c.style.display="none",c.style.opacity="0",c.dataset.displayTopicName=r,c.dataset.topicName=e.mixedCase,c.topicName=e.mixedCase,c.dataset.subtopicName=t.mixedCase,c.subtopicName=t.mixedCase,c.dataset.pathDepth=o,c.dataset.pathString=a.replaceTerminalSubtopic(t).string;var s=i[e.mixedCase];if(e.mixedCase===t.mixedCase){var p=document.createElement("hr");p.classList.add("canopy-hr"),o>0&&s.length>0&&c.prepend(p),c.classList.add("canopy-topic-section")}return c}(t,n,r),c=new p.A(a);r.localLinkSubtreeCallback=function(t,n,r){return function(o){var a=r.fullPath,c=r.remainingPath,l=(r.currentTopic,i().fromMixedCase(o.targetSubtopic)),s=a.slice(0,a.length-c.length).addSegment(t,l),p=e(t,i().fromMixedCase(o.targetSubtopic),Object.assign({pathToParagaph:s},r));n.appendChild(p)}}(t,a,r);var l=o[n.mixedCase];if(!l)throw new Error("Paragraph with subtopic not found: ".concat(n.mixedCase));return r.currentTopic=t,r.currentSubtopic=n,l.forEach((function(e){k(e,r).forEach((function(e){return c.paragraphElement.appendChild(e)}))})),a};function x(e,t){var n=new(i())(t),r=document.querySelector('h1[data-topic-name="'.concat(n.cssMixedCase,'"]'));if(r)return r;var o=document.createElement("h1");return o.dataset.topicName=n.mixedCase,o.style.display="none",o.classList.add("canopy-header"),e.forEach((function(e){k(e).forEach((function(e){return o.appendChild(e)}))})),o}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P={},L={},T=function e(t,n,o){if(0===n.length)return Promise.resolve();var i=t.slice(0,t.length-n.length+1),a=i.removeTerminalSubtopic,l=c.A.elementAtRelativePath(a,r.m0),u=(l?Promise.resolve(l):null)||P[a.string]||s(n.firstTopic).then((function(e){var r=e.paragraphsBySubtopic,o=e.displayTopicName,a=e.topicTokens;return L[n.firstTopic.mixedCase]=[a,o],w(n.firstTopic,n.firstTopic,{remainingPath:n,displayTopicName:o,paragraphsBySubtopic:r,fullPath:t,pathToParagraph:i,pathDepth:t.length-n.length})})).catch((function(e){return console.error(e),null}));P[a.string]=u;var d=Promise.all([o,u]).then((function(e){var o=S(e,2),i=o[0],l=o[1];return i&&l?(t.equals(n)&&r.m0.prepend(x.apply(void 0,L[l.dataset.topicName])),i===r.m0||c.A.connectingLinkValid(i,n)?(p.A.byPath(a)||(p.A.registerChild(l,i),p.A.registerSubtopics(l),p.A.detachSubtopics(l)),Promise.resolve(!0)):Promise.resolve(!1)):Promise.resolve()})),A=u.then((function(e){return e?n.firstSubtopic.mixedCase===e.dataset.topicName?e:e.querySelector('section[data-subtopic-name="'.concat(n.firstSubtopic.cssMixedCase,'"]'))||(null===(t=p.A.byPath(i))||void 0===t?void 0:t.sectionElement):null;var t})),h=Promise.all([d,A,o]).then((function(e){var t=S(e,2),n=t[0],r=t[1];return n&&r})),f=e(t,n.withoutFirstSegment,h);return Promise.all([u,f,d]).then((function(e){return S(e,1)[0]}))}},2593:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(1995),o={};(0,r.Ly)()&&(o[(0,r.PZ)()]=Promise.resolve(JSON.parse((0,r.Ly)())));const i=o},6705:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(1354),o=n.n(r),i=n(6314),a=n.n(i),c=n(4417),l=n.n(c),s=new URL(n(6097),n.b),p=a()(o()),u=l()(s);p.push([e.id,'#_canopy{margin-top:20px;overflow-anchor:none;padding-bottom:100vh;min-height:110vh;font-family:"Times New Roman",Times,serif}#_canopy h1.canopy-header{text-align:center;margin:auto;margin-top:20px;max-width:750px;word-break:break-word;hyphens:auto}#_canopy hr.canopy-hr{width:120px;display:block;height:1px;border:0;border-top:5px solid #ccc;margin:0px auto}#_canopy h1+section.canopy-topic-section{margin-top:30px}#_canopy section.canopy-topic-section{margin-top:32px}#_canopy section.canopy-section{margin-top:32px;unicode-bidi:unset}#_canopy .canopy-topic-section hr+p{margin-top:27px}#_canopy p.canopy-paragraph{overflow:visible;font-size:21px;max-width:750px;overflow-wrap:break-word;word-break:break-word;hyphens:auto;margin:auto;line-height:1.3;letter-spacing:-0.003em;font-weight:400;position:relative;unicode-bidi:plaintext}#_canopy .canopy-topic-section hr+p{margin-top:31px}#_canopy code.canopy-code-block{font-family:"Courier New",Courier,monospace;background-color:#eee;padding:2px 4px;border-radius:3px;border:.5px solid #ddd;color:#5a5a5a}#_canopy .canopy-tooltip{position:relative;display:inline-block;cursor:pointer}#_canopy .canopy-tooltip .canopy-tooltip-icon{font-size:11px}#_canopy .canopy-tooltip .canopy-tooltiptext{visibility:hidden;width:140px;background-color:#fff;color:#000;text-align:center;border-radius:6px;border:1px solid #000;padding:10px;position:absolute;z-index:1;top:50%;left:105%;margin-left:10px;transform:translateY(-50%);opacity:0;transition:opacity .3s;font-size:14px}#_canopy .canopy-tooltip:hover .canopy-tooltiptext{visibility:visible;opacity:1}#_canopy .canopy-text-span{display:inline}#_canopy .canopy-linebreak-span{display:block;margin-bottom:12px}#_canopy a.canopy-selectable-link{text-decoration:none;color:#000;cursor:pointer}#_canopy a.canopy-selectable-link:focus{outline:0}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image){padding-right:10px;margin-right:-10px}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) .canopy-link-content-container{background-color:#fff;padding-left:2px;padding-right:2px;border-radius:1px;border:1px solid #ddd}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) .canopy-link-content-container:hover{background-color:#f5f6fe}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-selected-link .canopy-link-content-container,#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-selected-link code .canopy-link-content-container{background-color:#edeefc;text-decoration:none}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-open-link:not(.canopy-selected-link) .canopy-link-content-container{background-color:#edecec;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-external-link .canopy-link-content-container::after{content:"   ";font-size:10px;background-image:url('+u+');background-size:contain;background-repeat:no-repeat;top:1px;left:0px;position:relative;vertical-align:text-bottom}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-path-reference .canopy-link-content-container::after{top:1px;left:1.5px;font-size:9px;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-back-cycle-link .canopy-link-content-container::after{content:"↩";top:2px;left:1px;text-decoration:none;font-size:9px;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-lateral-cycle-link .canopy-link-content-container::after{content:"↪";top:2px;left:1px;text-decoration:none;font-size:9px;position:relative}#_canopy a.canopy-disabled-link{color:#000;pointer-events:none;cursor:not-allowed;opacity:.7;text-decoration:none;background-color:#e3dfdf}#_canopy a.canopy-selectable-link.canopy-linked-image{text-decoration:none}#_canopy hr.canopy-footnote-rule{width:750px;display:block;height:1px;border:0;border-top:1px solid #ccc;margin:12px 0;padding:0}#_canopy sup{font-size:60%;padding:2px}#_canopy .canopy-footnote-span{font-size:80%;display:block}#_canopy .canopy-footnote-span span{margin-left:2px}#_canopy .canopy-footnote-span:not(:last-child){padding-bottom:7px}#_canopy blockquote{padding:0 .7em;color:#565e67;white-space:pre-wrap;margin-left:0px;margin-right:0px;margin-top:12px;margin-bottom:12px}#_canopy blockquote a,#_canopy blockquote a.canopy-selectable-link{color:#565e67}#_canopy blockquote[dir=rtl]{border-right:.25em solid #d3d3d3}#_canopy blockquote[dir=ltr]{border-left:.25em solid #d3d3d3}#_canopy blockquote a.canopy-selectable-link{text-decoration:underline #d3d3d3;background-color:rgba(255,255,255,0);padding-left:0px;padding-right:0px;border:none}#_canopy blockquote a.canopy-selectable-link:hover{text-decoration:underline #000}#_canopy blockquote a.canopy-selectable-link.canopy-open-link{background-color:#c9c9c9}#_canopy blockquote .canopy-linebreak-span{margin-bottom:0px}#_canopy blockquote .canopy-blockquote-padded-linebreak{margin-bottom:8px;display:block}#_canopy pre{margin:10px 10px;background-color:#eff0f1;padding:5px;font-size:85%}#_canopy code{background-color:#eff0f1;font-size:90%}#_canopy table{margin:21px auto auto auto;table-layout:auto;max-width:90%;border-collapse:collapse;border:none;font-size:18px;min-width:500px;table-layout:fixed}#_canopy table:not(:last-child){margin-bottom:25px}#_canopy table td,#_canopy table th{border:1px solid #000;text-align:center;padding:10px}#_canopy table td.hidden,#_canopy table th.hidden{display:none}#_canopy table td br,#_canopy table th br{display:block;content:"";padding-bottom:2px}#_canopy table td.canopy-table-link-cell{cursor:pointer;user-select:text;background-color:#fff}#_canopy table td.canopy-table-link-cell a.canopy-selectable-link{text-decoration:none;text-shadow:none;background-color:rgba(255,255,255,0);border:none;padding:4px}#_canopy table td.canopy-table-link-cell:has(.canopy-selected-link){background-color:#edeefc}#_canopy table td.canopy-table-link-cell:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f3f3f3}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)),#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f5f6fe}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)) .canopy-selected-link,#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) .canopy-selected-link{background-color:#f5f6fe}#_canopy table td.canopy-table-link-cell:has(a.canopy-disabled-link){background-color:#fff;color:#000;cursor:not-allowed;opacity:.7;pointer-events:none}#_canopy table td.canopy-table-link-cell:has(a.canopy-disabled-link) a.canopy-disabled-link{background-color:rgba(255,255,255,0);text-decoration:none;text-shadow:none}#_canopy .canopy-menu{display:flex;flex-direction:column;align-items:center;margin:0 auto;gap:10px}#_canopy .canopy-menu .canopy-menu-row{display:flex;justify-content:center;box-sizing:border-box;gap:10px}#_canopy .canopy-menu.canopy-align-right{align-items:flex-end}#_canopy .canopy-menu.canopy-align-right .canopy-menu-row{justify-content:flex-end}#_canopy .canopy-menu.canopy-align-left{align-items:flex-start}#_canopy .canopy-menu.canopy-align-mixed{align-items:normal}#_canopy .canopy-menu:not(:first-child){margin-top:25px}#_canopy .canopy-menu:not(:last-child){margin-bottom:25px}#_canopy .canopy-menu .canopy-menu-cell{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;border:1px solid #000;border-radius:0px;box-sizing:border-box;background-color:#fff;padding:10px;text-align:center;align-self:stretch;white-space:normal;overflow-wrap:normal;word-break:normal;hyphens:none}#_canopy .canopy-menu .canopy-menu-cell.canopy-menu-cell-left-aligned{margin-right:auto}#_canopy .canopy-menu .canopy-menu-cell.canopy-menu-cell-right-aligned{margin-left:auto}#_canopy .canopy-menu .canopy-menu-cell .canopy-menu-content-container{display:inline;max-width:100%;max-height:100%}#_canopy .canopy-menu .canopy-menu-cell br{display:block;content:"";padding-bottom:2px}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell{cursor:pointer;border:1.5px solid #000;border-radius:5px;display:flex;justify-content:center;align-items:center;user-select:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-selectable-link{text-decoration:none;text-shadow:none;user-select:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-selected-link{background-color:#edeefc}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-open-link:not(.canopy-selected-link){background-color:#edecec}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover:not(.canopy-selected-link),#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover.canopy-open-link:not(.canopy-selected-link){background-color:#f5f6fe}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover:not(.canopy-selected-link) .canopy-selected-link,#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover.canopy-open-link:not(.canopy-selected-link) .canopy-selected-link{background-color:#f5f6fe}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell .canopy-menu-content-container::after{font-size:11px;margin-left:-5px;position:relative;top:5px;left:5px;white-space:nowrap}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-external-link.canopy-selectable-link *{text-decoration:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-external-link .canopy-menu-content-container::after{content:"   ";background-image:url('+u+');top:2.5px;background-size:contain;background-repeat:no-repeat;vertical-align:text-bottom}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-provisional-icon-link .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-back-cycle-link .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-lateral-cycle-link .canopy-menu-content-container::after{content:" ↪"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-lateral-cycle-link.canopy-menu-cell-left-aligned .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-path-reference .canopy-menu-content-container::after{left:6px;top:2px}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-disabled-link{background-color:#fff;color:#000;cursor:not-allowed;opacity:.4;pointer-events:none}#_canopy .canopy-menu.canopy-eigth-pill .canopy-menu-cell{width:85px;padding-left:10px;padding-right:10px;padding-top:2px;padding-bottom:2px;height:45px}#_canopy .canopy-menu.canopy-quarter-pill .canopy-menu-cell{width:180px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-third-pill .canopy-menu-cell{width:243.3333333333px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-half-pill .canopy-menu-cell{width:370px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-quarter-card .canopy-menu-cell{width:180px;height:95px;padding:15px}#_canopy .canopy-menu.canopy-third-card .canopy-menu-cell{width:243.3333333333px;height:120px;padding:15px}#_canopy .canopy-menu.canopy-half-tube .canopy-menu-cell{width:370px;height:160px;padding:30px}#_canopy .canopy-menu.canopy-half-card .canopy-menu-cell{width:370px;height:265px;min-height:160px;padding:30px}#_canopy .canopy-image-container{display:flex;justify-content:center;object-fit:cover;margin-top:15px}#_canopy .canopy-image-container:not(:last-child){margin-bottom:15px}#_canopy .canopy-image-container a{margin:0 auto;display:block}#_canopy .canopy-image-container .canopy-image img{display:block;max-width:100%;width:auto}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption{margin:0px auto;width:100%;padding:6px 0px;text-align:left;display:block;font-size:16px;line-height:18px;color:#595959;background-color:#fff}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a{color:#595959}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a.canopy-selected-link{background-color:#c9ccff}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a.canopy-external-link:not(.canopy-menu-link-cell):not(.canopy-linked-image)::after{content:""}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption span{display:inline}#_canopy div.canopy-image-div{float:right;border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center;overflow:hidden;margin:10px}#_canopy .canopy-open-link .canopy-image,#_canopy .canopy-selected-link .canopy-image{position:relative}#_canopy .canopy-selected-link .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(130,150,250,.3);pointer-events:none}#_canopy .canopy-open-link:not(.canopy-selected-link) .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(128,128,128,.2);pointer-events:none}#_canopy div.canopy-image-div>sup{display:block}#_canopy ol,#_canopy ul{margin-top:15px;margin-left:10px;margin-right:10px;margin-bottom:0px}#_canopy ol:not(:last-child),#_canopy ul:not(:last-child){margin-bottom:15px}#_canopy ol li:not(:last-child),#_canopy ul li:not(:last-child){margin-bottom:10px}#_canopy div.canopy-raw-html{display:inline}#_canopy div.canopy-raw-html .canopy-html-insertion{display:inline}',"",{version:3,sources:["webpack://./client/style/canopy.scss"],names:[],mappings:"AAAA,SAAA,eACE,CAAA,oBACA,CAAA,oBAOA,CAAA,gBACA,CAAA,yCAEA,CAAA,0BAEA,iBACE,CAAA,WACA,CAAA,eACA,CAAA,eACA,CAAA,qBACA,CAAA,YACA,CAAA,sBAGF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,eACA,CAAA,yCAGF,eACE,CAAA,sCAGF,eACE,CAAA,gCAGF,eACE,CAAA,kBACA,CAAA,oCAGF,eACE,CAAA,4BAGF,gBACE,CAAA,cACA,CAAA,eACA,CAAA,wBACA,CAAA,qBACA,CAAA,YACA,CAAA,WACA,CAAA,eAEA,CAAA,uBACA,CAAA,eACA,CAAA,iBAEA,CAAA,sBACA,CAAA,oCAGF,eACE,CAAA,gCAGF,2CACE,CAAA,qBACA,CAAA,eACA,CAAA,iBACA,CAAA,sBACA,CAAA,aACA,CAAA,yBAKF,iBACE,CAAA,oBACA,CAAA,cACA,CAAA,8CAEA,cACE,CAAA,6CAGF,iBACE,CAAA,WACA,CAAA,qBACA,CAAA,UACA,CAAA,iBACA,CAAA,iBACA,CAAA,qBACA,CAAA,YACA,CAAA,iBACA,CAAA,SACA,CAAA,OACA,CAAA,SACA,CAAA,gBACA,CAAA,0BACA,CAAA,SACA,CAAA,sBACA,CAAA,cACA,CAAA,mDAGF,kBACE,CAAA,SACA,CAAA,2BAKJ,cACE,CAAA,gCAGF,aACE,CAAA,kBACA,CAAA,kCAKF,oBACE,CAAA,UACA,CAAA,cACA,CAAA,wCAEA,SACE,CAAA,gHAIJ,kBACE,CAAA,kBACA,CAAA,+IAEA,qBACE,CAAA,gBAEA,CAAA,iBACA,CAAA,iBAEA,CAAA,qBACA,CAAA,qJAEA,wBACE,CAAA,6UAKF,wBACE,CAAA,oBACA,CAAA,2LAIJ,wBACE,CAAA,iBACA,CAAA,2KAGF,aACE,CAAA,cACA,CAAA,wDAEA,CAAA,uBACA,CAAA,2BACA,CAAA,OACA,CAAA,QACA,CAAA,iBACA,CAAA,0BACA,CAAA,4KAGF,OAEE,CAAA,UACA,CAAA,aACA,CAAA,iBACA,CAAA,6KAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,oBACA,CAAA,aACA,CAAA,iBACA,CAAA,gLAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,oBACA,CAAA,aACA,CAAA,iBACA,CAAA,gCAIJ,UACE,CAAA,mBACA,CAAA,kBACA,CAAA,UACA,CAAA,oBACA,CAAA,wBACA,CAAA,sDAGF,oBACE,CAAA,iCAKF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,aACA,CAAA,SACA,CAAA,aAGF,aACE,CAAA,WACA,CAAA,+BAGF,aACE,CAAA,aACA,CAAA,oCACA,eACE,CAAA,gDAEF,kBACE,CAAA,oBAIJ,cACE,CAAA,aACA,CAAA,oBACA,CAAA,eAgBA,CAAA,gBACA,CAAA,eACA,CAAA,kBACA,CAAA,mEAjBA,aACE,CAAA,6BAGF,gCACE,CAAA,6BAIF,+BACE,CAAA,6CASF,iCACE,CAAA,oCAGA,CAAA,gBACA,CAAA,iBACA,CAAA,WACA,CAAA,mDAEA,8BACE,CAAA,8DAIJ,wBACE,CAAA,2CAGF,iBACE,CAAA,wDAGF,iBACE,CAAA,aACA,CAAA,aAIJ,gBACE,CAAA,wBACA,CAAA,WACA,CAAA,aACA,CAAA,cAGF,wBACE,CAAA,aACA,CAAA,eAGF,0BACE,CAAA,iBACA,CAAA,aACA,CAAA,wBACA,CAAA,WACA,CAAA,cACA,CAAA,eACA,CAAA,kBACA,CAAA,gCAEA,kBACE,CAAA,oCAGF,qBACE,CAAA,iBACA,CAAA,YACA,CAAA,kDAEA,YACE,CAAA,0CAGF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,yCAIJ,cACE,CAAA,gBACA,CAAA,qBACA,CAAA,kEAEA,oBACE,CAAA,gBACA,CAAA,oCACA,CAAA,WACA,CAAA,WACA,CAAA,oEAGF,wBACE,CAAA,iGAGF,wBACE,CAAA,uLAGF,wBAEE,CAAA,mOAEA,wBACI,CAAA,qEAIN,qBACE,CAAA,UACA,CAAA,kBACA,CAAA,UACA,CAAA,mBACA,CAAA,4FAEA,oCACE,CAAA,oBACA,CAAA,gBACA,CAAA,sBAMR,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,aACA,CAAA,QACA,CAAA,uCAEA,YACE,CAAA,sBACA,CAAA,qBACA,CAAA,QACA,CAAA,yCAGF,oBACE,CAAA,0DACA,wBACE,CAAA,wCAIJ,sBACE,CAAA,yCAGF,kBACE,CAAA,wCAGF,eACE,CAAA,uCAGF,kBACE,CAAA,wCAGF,YACE,CAAA,kBACA,CAAA,cACA,CAAA,sBACA,CAAA,kBACA,CAAA,qBACA,CAAA,iBACA,CAAA,qBACA,CAAA,qBACA,CAAA,YACA,CAAA,iBACA,CAAA,kBACA,CAAA,kBAEA,CAAA,oBACA,CAAA,iBACA,CAAA,YACA,CAAA,sEAEA,iBACE,CAAA,uEAGF,gBACE,CAAA,uEAGF,cACE,CAAA,cACA,CAAA,eACA,CAAA,2CAOF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,8DAIJ,cACE,CAAA,uBACA,CAAA,iBACA,CAAA,YACA,CAAA,sBACA,CAAA,kBACA,CAAA,gBACA,CAAA,qFAEA,oBACE,CAAA,gBACA,CAAA,gBACA,CAAA,mFAGF,wBACE,CAAA,0GAGF,wBACE,CAAA,+MAGF,wBAEE,CAAA,2PAEA,wBACI,CAAA,oGAIN,cACE,CAAA,gBACA,CAAA,iBACA,CAAA,OACA,CAAA,QACA,CAAA,kBACA,CAAA,4GAIA,oBACE,CAAA,yHAGF,aACE,CAAA,wDAEA,CAAA,SACA,CAAA,uBACA,CAAA,2BACA,CAAA,0BACA,CAAA,iIAIJ,YACE,CAAA,2HAGF,YACE,CAAA,8HAGF,YACE,CAAA,4JAGF,YACE,CAAA,0HAGF,QAEE,CAAA,OACA,CAAA,mFAGF,qBACE,CAAA,UACA,CAAA,kBACA,CAAA,UACA,CAAA,mBACA,CAAA,0DAIJ,UACE,CAAA,iBACA,CAAA,kBACA,CAAA,eACA,CAAA,kBACA,CAAA,WACA,CAAA,4DAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,0DAGF,sBACE,CAAA,WACA,CAAA,WACA,CAAA,yDAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,4DAGF,WACE,CAAA,WACA,CAAA,YACA,CAAA,0DAGF,sBACE,CAAA,YACA,CAAA,YACA,CAAA,yDAGF,WACE,CAAA,YACA,CAAA,YACA,CAAA,yDAGF,WACE,CAAA,YACA,CAAA,gBACA,CAAA,YACA,CAAA,iCAIJ,YACE,CAAA,sBACA,CAAA,gBACA,CAAA,eAMA,CAAA,kDAJA,kBACE,CAAA,mCAKF,aACE,CAAA,aACA,CAAA,mDAIA,aACE,CAAA,cACA,CAAA,UACA,CAAA,yEAGF,eACE,CAAA,UACA,CAAA,eACA,CAAA,eACA,CAAA,aACA,CAAA,cACA,CAAA,gBACA,CAAA,aACA,CAAA,qBACA,CAAA,2EAEA,aACE,CAAA,gGAGF,wBACE,CAAA,6JAGF,UACE,CAAA,8EAGF,cACE,CAAA,8BAMR,WACE,CAAA,wBACA,CAAA,WACA,CAAA,wBACA,CAAA,aACA,CAAA,iBACA,CAAA,eACA,CAAA,WACA,CAAA,sFAGF,iBACE,CAAA,oDAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,2EAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,kCAGF,aACE,CAAA,wBAGF,eACE,CAAA,gBACA,CAAA,iBACA,CAAA,iBACA,CAAA,0DAEA,kBACE,CAAA,gEAGF,kBACE,CAAA,6BAIJ,cACE,CAAA,oDAEA,cACE",sourcesContent:["#_canopy {\n  margin-top: 20px;\n  overflow-anchor: none; // Prevent browser from trying to maintain position when page contents change, which might interfere with window.scrollTo\n\n  /* Removing DOM elements from the bottom of the screen can force the page to scroll upward to the existing elements\n  which is not animated. If we keep a padding on the bottom of the last element just beyond the viewport, then\n  removal of elements from the bottom of the visible stack never brings the real bottom of the page into view, and so\n  the scroll upwards can be animated using the window.scrollTo method. */\n\n  padding-bottom: calc(100vh);\n  min-height: calc(110vh); // to avoid scroll bar appearing when page length changes for small content that doesn't need scrolling\n\n  font-family: \"Times New Roman\", Times, serif; // good default and standardizes layout for browser tests\n\n  h1.canopy-header {\n    text-align: center;\n    margin: auto;\n    margin-top: 20px;\n    max-width: 750px;\n    word-break: break-word;\n    hyphens: auto;\n  }\n\n  hr.canopy-hr {\n    width: 120px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 5px solid #ccc;\n    margin: 0px auto;\n  }\n\n  h1 + section.canopy-topic-section {\n    margin-top: 30px;\n  }\n\n  section.canopy-topic-section {\n    margin-top: 32px; // has to match .canopy-topic-section hr + p\n  }\n\n  section.canopy-section {\n    margin-top: 32px;\n    unicode-bidi: unset;\n  }\n\n  .canopy-topic-section hr + p {\n    margin-top: 27px;\n  }//\n\n  p.canopy-paragraph {\n    overflow: visible; // In case external link icon is at end of line\n    font-size: 21px;\n    max-width: 750px;\n    overflow-wrap: break-word; // this causes eg table cells to break long lines into rows\n    word-break: break-word; // break before trying to put element on line alone\n    hyphens: auto; // not sure we want this, rather put whole word on next line?\n    margin: auto;\n\n    line-height: 1.3;\n    letter-spacing: -.003em;\n    font-weight: 400;\n\n    position: relative; // to allow absolute children\n    unicode-bidi: plaintext; // to allow lines in different directions\n  }//\n\n  .canopy-topic-section hr + p {\n    margin-top: 31px; // 35px minus 1px bar thickness\n  }\n\n  code.canopy-code-block {\n    font-family: 'Courier New', Courier, monospace; /* Monospaced font for code */\n    background-color: #eee; /* Light background to highlight code */\n    padding: 2px 4px; /* Small padding around the code */\n    border-radius: 3px; /* Optional: rounded corners */\n    border: .5px solid #ddd; /* Optional: light border */\n    color: #5a5a5a; /* Subtle dark gray color for the code text, less harsh than black */\n  }\n\n  // Tool tip\n\n  .canopy-tooltip {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n\n    .canopy-tooltip-icon {\n      font-size: 11px;\n    }\n\n    .canopy-tooltiptext {\n      visibility: hidden;\n      width: 140px;\n      background-color: white;\n      color: black;\n      text-align: center;\n      border-radius: 6px;\n      border: 1px solid black;\n      padding: 10px;\n      position: absolute;\n      z-index: 1;\n      top: 50%;\n      left: 105%;\n      margin-left: 10px;\n      transform: translateY(-50%);\n      opacity: 0;\n      transition: opacity 0.3s;\n      font-size: 14px;\n    }\n\n    &:hover .canopy-tooltiptext {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n\n  // Text\n  .canopy-text-span {\n    display: inline;\n  }\n\n  .canopy-linebreak-span {\n    display: block;\n    margin-bottom:12px;\n  }\n\n///////////// Link styles /////////////////\n\n  a.canopy-selectable-link { // even menu and table cells\n    text-decoration: none;\n    color: black;\n    cursor: pointer;\n\n    &:focus {\n      outline:0;\n    }\n  }\n\n  a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) {\n    padding-right: 10px; // following punctuation shouldn't wrap without link\n    margin-right: -10px;\n    \n    .canopy-link-content-container { // putting bg on inner container lets outer wrapper have non-bg padding\n      background-color: #FFFFFF;\n      \n      padding-left: 2px;\n      padding-right: 2px;\n\n      border-radius: 1px;\n      border: 1px solid #dddddd;\n\n      &:hover {\n        background-color: #f5f6fe;\n      }\n    }\n\n    &.canopy-selected-link, &.canopy-selected-link code  {\n      .canopy-link-content-container {\n        background-color: #edeefc;\n        text-decoration: none;\n      }\n    }\n\n    &.canopy-open-link:not(.canopy-selected-link) .canopy-link-content-container {\n      background-color: #edecec;\n      position: relative;\n    }\n\n    &.canopy-external-link .canopy-link-content-container::after {\n      content: '\\00a0\\00a0\\00a0';\n      font-size: 10px;\n      /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n      background-image: url('data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K');\n      background-size: contain;\n      background-repeat: no-repeat;\n      top: 1px;\n      left: 0px;\n      position: relative; /* Adjust positioning if needed */\n      vertical-align: text-bottom; /* Aligns with text */\n    }\n\n    &.canopy-path-reference .canopy-link-content-container::after {\n      //content: '↳';\n      top: 1px;\n      left: 1.5px;\n      font-size: 9px;\n      position: relative;\n    }\n\n    &.canopy-back-cycle-link .canopy-link-content-container::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↩';\n      top: 2px;\n      left: 1px;\n      text-decoration: none;\n      font-size: 9px;\n      position: relative;\n    }\n\n    &.canopy-lateral-cycle-link .canopy-link-content-container::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↪';\n      top: 2px;\n      left: 1px;\n      text-decoration: none;\n      font-size: 9px;\n      position: relative;\n    }\n  }\n\n  a.canopy-disabled-link {\n    color: #000000;\n    pointer-events: none;\n    cursor: not-allowed;\n    opacity: 0.7;\n    text-decoration: none;\n    background-color: #e3dfdf;\n  }\n\n  a.canopy-selectable-link.canopy-linked-image {\n    text-decoration: none;\n  }\n\n/////////////////////////////////////////////\n\n  hr.canopy-footnote-rule {\n    width: 750px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid #ccc;\n    margin: 12px 0;\n    padding: 0;\n  }\n\n  sup {\n    font-size: 60%;\n    padding: 2px;\n  }\n\n  .canopy-footnote-span {\n    font-size: 80%;\n    display: block;\n    span { // text after number\n      margin-left: 2px;\n    }\n    &:not(:last-child) {\n      padding-bottom: 7px;\n    }\n  }\n\n  blockquote {\n    padding: 0 .7em;\n    color: #565e67;\n    white-space: pre-wrap;\n\n    a, a.canopy-selectable-link {\n      color: #565e67;\n    }\n\n    &[dir=\"rtl\"] {\n      border-right: 0.25em solid lightgray;\n/*      margin-right: 10px;*/\n    }\n\n    &[dir=\"ltr\"] {\n      border-left: 0.25em solid lightgray;\n/*      margin-left: 10px;*/\n    }\n\n    margin-left: 0px;\n    margin-right: 0px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n\n    a.canopy-selectable-link {\n      text-decoration: underline #D3D3D3;\n\n      //reset button styling\n      background-color: #FFFFFF00;\n      padding-left: 0px;\n      padding-right: 0px;\n      border: none;\n\n      &:hover {\n        text-decoration: underline #000000;\n      }\n    }\n\n    a.canopy-selectable-link.canopy-open-link {\n      background-color: #c9c9c9;\n    }\n\n    .canopy-linebreak-span {\n      margin-bottom: 0px; // unset default\n    }\n\n    .canopy-blockquote-padded-linebreak { // we replace break tags to be able to give them padding\n      margin-bottom: 8px;\n      display: block;\n    }\n  }\n\n  pre {\n    margin: 10px 10px;\n    background-color: #eff0f1;\n    padding: 5px;\n    font-size: 85%;\n  }\n\n  code {\n    background-color: #eff0f1;\n    font-size: 90%;\n  }\n\n  table {\n    margin: 21px auto auto auto;\n    table-layout: auto;\n    max-width: 90%;\n    border-collapse: collapse;\n    border: none; // we put the border on the TDs to allow omitted table cells\n    font-size: 18px;\n    min-width: 500px;\n    table-layout: fixed;\n\n    &:not(:last-child) {\n      margin-bottom: 25px;\n    }\n\n    td, th {\n      border: 1px solid black;\n      text-align: center;\n      padding: 10px;\n\n      &.hidden {\n        display: none;\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    td.canopy-table-link-cell {\n      cursor: pointer;\n      user-select: text;\n      background-color: #ffffff;\n\n      a.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n        background-color: #FFFFFF00;\n        border: none;\n        padding: 4px; // to force breaking onto multiple lines\n      }\n      \n      &:has(.canopy-selected-link) {\n        background-color: #edeefc;\n      }\n\n      &:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #F3F3F3;\n      }\n\n      &:hover:not(:has(.canopy-selected-link)), // selected link style overrides hover\n      &:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n\n      &:has(a.canopy-disabled-link) {\n        background-color: #ffffff;\n        color: #000000;\n        cursor: not-allowed;\n        opacity: 0.7;\n        pointer-events: none;\n\n        a.canopy-disabled-link {\n          background-color: #FFFFFF00;\n          text-decoration: none;\n          text-shadow: none;\n        }\n      }\n    }\n  }\n\n  .canopy-menu {\n    display: flex;\n    flex-direction: column;\n    align-items: center; /* This centers the rows within the container */\n    margin: 0 auto;\n    gap: 10px;\n\n    .canopy-menu-row {\n      display: flex;\n      justify-content: center;\n      box-sizing: border-box;\n      gap: 10px;\n    }\n\n    &.canopy-align-right {\n      align-items: flex-end;\n      .canopy-menu-row {\n        justify-content: flex-end;\n      }\n    }\n\n    &.canopy-align-left {\n      align-items: flex-start;\n    }\n\n    &.canopy-align-mixed {\n      align-items: normal;\n    }\n\n    &:not(:first-child) {\n      margin-top: 25px; // has to be in sync with size between section elements for button-paragraph sequences\n    }\n\n    &:not(:last-child) {\n      margin-bottom: 25px;\n    }\n\n    .canopy-menu-cell {\n      display: flex;\n      flex-direction: row; /* Arrange items horizontally */\n      flex-wrap: wrap; /* Allow items to wrap within the cell */\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n      border: 1px solid black;\n      border-radius: 0px;\n      box-sizing: border-box;\n      background-color: white;\n      padding: 10px; /* Add some padding inside cells */\n      text-align: center; /* This will center the text inside the flex items */\n      align-self: stretch; /* Stretch the child items to fill the cell's width */\n      \n      white-space: normal; /* Allow the text to wrap */\n      overflow-wrap: normal; // we don't want breaking during size evaluation\n      word-break: normal; \n      hyphens: none;\n\n      &.canopy-menu-cell-left-aligned {\n        margin-right: auto;\n      }\n\n      &.canopy-menu-cell-right-aligned {\n        margin-left: auto;\n      }\n\n      .canopy-menu-content-container {\n        display: inline;\n        max-width: 100%;\n        max-height: 100%;\n      }\n\n      &.canopy-menu-ordinal-cell .canopy-menu-content-container {\n        //width: 80%; // to keep the numbers in a similar location in each cell\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    .canopy-menu-link-cell.canopy-menu-cell {\n      cursor: pointer;\n      border: 1.5px solid black;\n      border-radius: 5px;\n      display: flex;\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n      user-select: none;\n\n      &.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n        user-select: none;\n      }\n\n      &.canopy-selected-link {\n        background-color: #edeefc;\n      }\n\n      &.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #edecec\n      }\n\n      &:hover:not(.canopy-selected-link), // selected link style overrides hover\n      &:hover.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n\n      .canopy-menu-content-container::after {\n        font-size: 11px;\n        margin-left: -5px; // Negative margin to pull the icon closer to the last word\n        position: relative; // Allows for position adjustment\n        top: 5px; // Move the icon up (- value) or down (+ value)\n        left: 5px;\n        white-space: nowrap; // Prevents the icon from wrapping\n      }\n\n      &.canopy-external-link {\n        &.canopy-selectable-link * {\n          text-decoration: none;\n        }\n\n        .canopy-menu-content-container::after {\n          content: '\\00a0\\00a0\\00a0';\n          /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n          background-image: url('data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K');\n          top: 2.5px;\n          background-size: contain;\n          background-repeat: no-repeat;\n          vertical-align: text-bottom;\n        }\n      }\n\n      &.canopy-provisional-icon-link .canopy-menu-content-container::after { // add a placeholder icon for menu size evaluation\n        content: ' ↩';\n      }\n\n      &.canopy-back-cycle-link .canopy-menu-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↩';\n      }\n\n      &.canopy-lateral-cycle-link .canopy-menu-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↪';\n      }\n\n      &.canopy-lateral-cycle-link.canopy-menu-cell-left-aligned .canopy-menu-content-container::after { // override direction\n        content: ' ↩'; // hard-coding special case of back and forth buttons\n      }\n\n      &.canopy-path-reference .canopy-menu-content-container::after {\n        //content: ' ↳';\n        left: 6px;\n        top: 2px;\n      }\n\n      &.canopy-disabled-link {\n        background-color: #FFFFFF;\n        color: #000000;\n        cursor: not-allowed;\n        opacity: 0.4; // more than tables because includes border\n        pointer-events: none;\n      }\n    }\n\n    &.canopy-eigth-pill .canopy-menu-cell {\n      width: calc((750px - 70px)/8); // take total width, subtract gaps, and divide by total number\n      padding-left: 10px; // make it a little harder to qualify\n      padding-right: 10px; // make it a little harder to qualify\n      padding-top: 2px;\n      padding-bottom: 2px;\n      height: 45px; // more button-esque\n    }\n\n    &.canopy-quarter-pill .canopy-menu-cell {\n      width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-third-pill .canopy-menu-cell {\n      width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-half-pill .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-quarter-card .canopy-menu-cell {\n      width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n      height: 95px;\n      padding: 15px;\n    }\n\n    &.canopy-third-card .canopy-menu-cell {\n      width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n      height: 120px;\n      padding: 15px;\n    }\n\n    &.canopy-half-tube .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      height: 160px;\n      padding: 30px;\n    }\n\n    &.canopy-half-card .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      height: 265px;\n      min-height: 160px;\n      padding: 30px;\n    }\n  }\n\n  .canopy-image-container {\n    display: flex;\n    justify-content: center;\n    object-fit: cover;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    margin-top: 15px;\n\n    a {\n      margin: 0 auto;\n      display: block;\n    }\n\n    .canopy-image {\n      img {\n        display: block;\n        max-width: 100%;\n        width: auto;\n      }\n\n      span.canopy-image-caption {\n        margin: 0px auto;\n        width: 100%;\n        padding: 6px 0px;\n        text-align: left;\n        display: block;\n        font-size: 16px;\n        line-height: 18px;\n        color: #595959;\n        background-color: white;\n\n        a {\n          color: #595959;\n        }\n\n        a.canopy-selected-link {\n          background-color: #c9ccff; // extra dark so it is noticible\n        }\n\n        a.canopy-external-link:not(.canopy-menu-link-cell):not(.canopy-linked-image)::after { // need to beat specificity of general definition\n          content: ''; // no ⧉ icon for links in image captions because usually they'll be external\n        }\n\n        span {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  div.canopy-image-div {\n    float: right;\n    border: 1px solid #c8ccd1;\n    padding: 3px;\n    background-color: #f8f9fa;\n    font-size: 94%;\n    text-align: center;\n    overflow: hidden;\n    margin: 10px;\n  }\n\n  .canopy-open-link .canopy-image, .canopy-selected-link .canopy-image {\n    position: relative;\n  }\n\n  .canopy-selected-link .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(130, 150, 250, 0.3); /* Deeper blue with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  .canopy-open-link:not(.canopy-selected-link) .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(128, 128, 128, 0.2); /* Gray color with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  div.canopy-image-div > sup {\n    display: block;\n  }\n\n  ol, ul {\n    margin-top: 15px;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-bottom: 0px;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    li:not(:last-child) {\n      margin-bottom: 10px;\n    }\n  }\n\n  div.canopy-raw-html {\n    display: inline;\n\n    .canopy-html-insertion {\n      display: inline;\n    }\n  }\n}\n"],sourceRoot:""}]);const d=p},6314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var p=[].concat(e[s]);r&&a[p[0]]||(void 0!==i&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=i),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),o&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=o):p[4]="".concat(o)),t.push(p))}},t}},4417:e=>{"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1354:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),i="/*# ".concat(o," */"),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(a).concat([i]).join("\n")}return[t].join("\n")}},2205:function(e,t,n){var r;r=void 0!==n.g?n.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var t=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var t,n=String(e),r=n.length,o=-1,i="",a=n.charCodeAt(0);++o<r;)0!=(t=n.charCodeAt(o))?i+=t>=1&&t<=31||127==t||0==o&&t>=48&&t<=57||1==o&&t>=48&&t<=57&&45==a?"\\"+t.toString(16)+" ":0==o&&1==r&&45==t||!(t>=128||45==t||95==t||t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122)?"\\"+n.charAt(o):n.charAt(o):i+="�";return i};return e.CSS||(e.CSS={}),e.CSS.escape=t,t}(r)},5072:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],c=0;c<e.length;c++){var l=e[c],s=r.base?l[0]+r.base:l[0],p=i[s]||0,u="".concat(s," ").concat(p);i[s]=p+1;var d=n(u),A={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==d)t[d].references++,t[d].updater(A);else{var h=o(A,r);r.byIndex=c,t.splice(c,0,{identifier:u,updater:h,references:1})}a.push(u)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var c=n(i[a]);t[c].references--}for(var l=r(e,o),s=0;s<i.length;s++){var p=n(i[s]);0===t[p].references&&(t[p].updater(),t.splice(p,1))}i=l}}},7659:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},5056:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7825:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},6097:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}return n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.b=document.baseURI||self.location.href,n.nc=void 0,(()=>{"use strict";var e=n(5072),t=n.n(e),r=n(7825),o=n.n(r),i=n(7659),a=n.n(i),c=n(5056),l=n.n(c),s=n(540),p=n.n(s),u=n(1113),d=n.n(u),A=n(6705),h={};h.styleTagTransform=d(),h.setAttributes=l(),h.insert=a().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=p(),t()(A.A,h),A.A&&A.A.locals&&A.A.locals;var f=n(5044),y=n(514),g=n(797),m=n(4207),b=n(1246);function C(){var e=g.A.selection,t=g.A.lastSelectionOfParagraph(e.enclosingParagraph.topicParagraph.parentParagraph)||e.enclosingParagraph.topicParagraph.parentLink;return(null==t?void 0:t.select())||g.A.deselect()}function v(){var e,t=g.A.selection,n=t&&t.parentLink&&g.A.lastSelectionOfParagraph(null===(e=t.parentLink)||void 0===e?void 0:e.enclosingParagraph)||t.parentLink,r=!n;if(r&&!t.isVisible){var o=g.A.selection.enclosingParagraph.sectionElement;return(0,b.cw)(o,{targetRatio:.75,maxScrollRatio:.5,minDiff:0,direction:"up",behavior:"smooth"})}return r&&t.isVisible?(0,f.A)(t.enclosingParagraph.path):n&&!n.isVisible?(0,b.cw)(n.element,{targetRatio:.3,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}).then((function(){if(n.isFocused)return n.select({noScroll:!0})})):n&&n.isVisible?t.parentLink.select():void 0}function k(e){var t=e.newTab,n=e.altKey,r=e.shiftKey,o=!g.A.selection.isClosedCycle&&g.A.selection.firstChild;if(o&&o.isBelowViewport&&!g.A.selection.isPathReference)return(0,b.cw)(o.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"});if(o&&o.isAboveViewport&&!g.A.selection.isPathReference)return(0,b.cw)(o.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth",side:"bottom"});if(g.A.selection.isParent&&!g.A.selection.hasChildren&&!g.A.selection.cycle&&!g.A.selection.isPathReference){var i=g.A.selection.targetParagraph.sectionElement;return(0,b.cw)(i,{targetRatio:.2,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}return!o||!o.isVisible||o.isSelected||t||g.A.selection.isPathReference?g.A.selection.execute({newTab:t,redirect:n,inlineCycles:r}):o.select({newTab:t,redirect:n,inlineCycles:r})}function w(){return g.A.selection.isCycle?g.A.selection.execute({inlineCycles:!0}):moveInDirection("down")}var x=n(9903);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){var n,r=null===(n=g.A.selection)||void 0===n?void 0:n.element;if("up"===e){if(!r)return;var o=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent})),i=U(r,"up"),a=U(r,"down"),c=H(o).filter((function(e){return O(e,a)&&!R(e,a)&&e.element!==r}));if(0===c.length)return a.top<-10?(0,b.cw)(r,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}):y.A.root.display();M(c.reduce((function(e,t){var n,r=e.link,o=t.link;return o.siblingOf(r)&&r.isParentLinkOf(g.A.selection.enclosingParagraph)?e:r.siblingOf(o)&&g.A.for(t.element).isParentLinkOf(null===(n=g.A.selection)||void 0===n?void 0:n.enclosingParagraph)?t:!_(e,t)||R(e,t)||R(e,a)?!_(t,e)||R(e,t)||R(t,a)?I(i,e)?e:I(i,t)?t:I(e,i)&&!I(t,i)?e:I(t,i)&&!I(e,i)?t:F(e,i)&&!F(t,i)?e:F(t,i)&&!F(e,i)?t:e.element.closest("p.canopy-paragraph")===g.A.selection.parentLink.enclosingParagraph.paragraphElement?F(e,i)&&F(t,i)?q(i,e,t):D(e,t,i):F(e,a)&&F(t,a)?q(a,e,t):D(e,t,a):t:e})),{direction:"up"})}else if("down"===e){if(!r)return y.A.rendered.selectALink({direction:"down"});var l=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent&&(t=e,"none"!==(n=window.getComputedStyle(t)).display&&"hidden"!==n.visibility&&"0"!==n.opacity&&"0%"!==n.opacity);var t,n})),s=U(r,"up"),p=U(r,"down"),u=H(l).filter((function(e){return _(e,s)&&!R(e,s)&&(t=e,n=x.A.visibleHeight,t.top>=0&&t.top<=n||t.bottom>=0&&t.bottom<=n)&&(!g.A.selection.isAboveViewport||!g.A.selection.siblingOf(e.link))&&e.element!==r;var t,n}));if(0===u.length){var d=m.A.current.sectionElement;return(0,b.cw)(d,{targetRatio:.05,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}M(u.reduce((function(e,t){var n,r,o=e.link,i=t.link;return i.isLastSelection&&o.siblingOf(i)?t:o.isLastSelection&&i.siblingOf(o)?e:!O(e,t)||R(e,t)||R(e,s)?!O(t,e)||R(e,t)||R(t,s)?I(p,e)?e:I(p,t)?t:I(e,p)&&!I(t,p)?e:I(t,p)&&!I(e,p)?t:e.element.closest("p.canopy-paragraph")===(null===(n=g.A.selection)||void 0===n||null===(r=n.targetParagraph)||void 0===r?void 0:r.paragraphElement)?F(e,p)&&!F(t,p)?e:F(t,p)&&!F(e,p)?t:m.A.current.links[0].element===e.element?e:m.A.current.links[0].element===t.element?t:q(s,e,t):F(e,s)&&!F(t,s)?e:F(t,s)&&!F(e,s)?t:q(p,e,t):t:e})),{direction:"down"})}else if("left"===e){var A=g.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),h=U(r,"right"),f=H(A),C=f.filter((function(e){return e.right<h.right}));if((C=(C=C.filter((function(e){return R(e,h)}))).filter((function(e){return e.element!==r}))).length>0){var v=C.reduce((function(e,t){return e.bottom===h.bottom&&t.bottom!==h.bottom?e:t.bottom===h.bottom&&e.bottom!==h.bottom?t:e.right>t.right?e:e.right<t.right?t:e.right===t.right?G(h,e,"bottom")>G(h,t,"bottom")?t:e:void 0}));if(v)return M(v)}var k="ltr"===J(r)?"up":"down",w=z(r,k),S="up"===k?O:_,E="up"===k?_:O,P="right"===w?N:j;if((C=(C=(C=f.filter((function(e){return S(e,h)}))).filter((function(e){return!R(e,h)}))).filter((function(e){return e.element!==r}))).length>0){var L=C.reduce((function(e,t){return E(e,t)&&!R(e,t)?e:E(t,e)&&!R(e,t)?t:P(e,t)}));if(L)return M(L)}var T="ltr"===J(r)?"down":"up",B=W(r,T),K="up"===T?O:_,Y="right"===B?N:j,V=f.reduce((function(e,t){return K(e,t)&&!R(e,t)?e:K(t,e)&&!R(e,t)?t:Y(e,t)}));if(V)return M(V)}else if("right"===e){var Z=g.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),Q=U(r,"left"),X=H(Z),$=X.filter((function(e){return e.left>Q.left}));if(($=($=$.filter((function(e){return R(e,Q)}))).filter((function(e){return e.element!==r}))).length>0){var ee=$.reduce((function(e,t){return e.bottom===Q.bottom&&t.bottom!==Q.bottom?e:t.bottom===Q.bottom&&e.bottom!==Q.bottom?t:e.left<t.left?e:e.left>t.left?t:e.left===t.left?(r=t,(n=e).top<r.top?n:r):void 0;var n,r}));if(ee)return M(ee)}var te=function(e){return"ltr"===J(e)?"down":"up"}(r),ne=(z(r,te),"up"===te?O:_),re="up"===te?_:O,oe="right"===ce?N:j;if(($=($=($=X.filter((function(e){return ne(e,Q)}))).filter((function(e){return!R(e,Q)}))).filter((function(e){return e.element!==r}))).length>0){var ie=$.reduce((function(e,t){return re(e,t)&&!R(e,t)?e:re(t,e)&&!R(t,e)?t:oe(e,t)}));if(ie)return M(ie)}var ae=function(e){return"ltr"===J(e)?"up":"down"}(r),ce=W(r,ae),le=("left"===ce||window.innerWidth,"up"===ae?"top":"bottom"),se="up"===ae?O:_,pe="right"===ce?N:j,ue=X.reduce((function(e,t){return se(e,t)?e:se(t,e)?t:e[le]===t[le]?pe(e,t):void 0}));if(ue)return M(ue)}}function O(e,t){return e.bottom<t.bottom}function _(e,t){return e.top>t.top}function N(e,t){return e.right>t.right?e:t}function j(e,t){return e.left<t.left?e:t}function I(e,t){return e.left>t.left&&e.right<t.right}function F(e,t){return e.left<t.right&&t.left<e.right}function R(e,t){return e.top<t.bottom&&e.bottom>t.top||t.top<e.bottom&&t.bottom>e.top}function D(e,t,n){var r=(e.left+e.right)/2,o=(t.left+t.right)/2,i=(n.left+n.right)/2;return Math.abs(r-i)<Math.abs(o-i)?e:t}function M(e,t){return e.top-x.A.top>window.innerHeight- -10?(0,b.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"down",behavior:"smooth"}):e.bottom-x.A.top<-10?(0,b.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"up",behavior:"smooth"}):new g.A(e.element).select(t)}function q(e,t,n){function r(e,t){return Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))}return r(e,t)>r(e,n)?t:n}function G(e,t,n){switch("number"==typeof e&&(e=T({},n,e)),"number"==typeof t&&(t=T({},n,t)),n){case"left":return Math.abs(e.left-t.left);case"right":return Math.abs(e.right-t.right);case"top":return Math.abs(e.top-t.top);case"bottom":return Math.abs(e.bottom-t.bottom);case"middle":return Math.abs((e.left-e.right)/2-(t.left-t.right)/2);default:return null}}function H(e,t){var n,r=[],o=P(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=i;i.closest(".canopy-arrow-key-container")&&(a=i.closest(".canopy-arrow-key-container"));var c=Array.from(a.getClientRects()),l=E({element:i,link:g.A.for(i),text:i.innerText},JSON.parse(JSON.stringify(a.getBoundingClientRect())));if(i.closest(".canopy-arrow-key-container"))r.push(l);else for(var s=0;s<c.length;s++){var p=c[s];r.push({x:p.x,y:p.y,width:p.width,height:p.height,top:p.top,right:p.right,bottom:p.bottom,left:p.left,element:i,text:i.innerText,link:g.A.for(i)})}}}catch(e){o.e(e)}finally{o.f()}return r}function U(e,t){var n=JSON.parse(JSON.stringify(e.getBoundingClientRect())),r=function(e){var t=[];e.sort((function(e,t){return e.top-t.top}));for(var n=e[0],r=1;r<e.length;r++){var o=e[r];n.top===o.top?(n.left=Math.min(n.left,o.left),n.right=Math.max(n.right,o.right)):(t.push(n),n=o)}return t.push(n),t}(function(e){var t=[];return function e(n){if(n.nodeType===Node.TEXT_NODE){var r=document.createRange();r.selectNodeContents(n);for(var o=r.getClientRects(),i=0;i<o.length;i++)t.push(o[i])}else if(n.nodeType===Node.ELEMENT_NODE){var a,c=P(n.childNodes);try{for(c.s();!(a=c.n()).done;)e(a.value)}catch(e){c.e(e)}finally{c.f()}}}(e),t.map((function(e){return JSON.parse(JSON.stringify(e))}))}(e));if(1===r.length||e.closest(".canopy-arrow-key-container"))return E({element:e},n);if(0===r.length)return null;switch(t){case"left":return E({element:e,link:g.A.for(e)},r.reduce((function(e,t){return t.right>e.right?e:t})));case"right":return E({element:e,link:g.A.for(e)},r.reduce((function(e,t){return t.left<e.left?e:t})));case"up":return E({element:e,link:g.A.for(e)},r.reduce((function(e,t){return t.bottom<e.bottom?t:e})));case"down":return E({element:e,link:g.A.for(e)},r.reduce((function(e,t){return t.top>e.top?t:e})));default:throw new Error("Invalid direction argument")}}function z(e,t){return"up"===t?"ltr"===J(Y(e))?"right":"left":"down"===t?"ltr"===J(K(e))?"left":"right":void 0}function W(e,t){return"up"===t?"ltr"===J(Y(e))?"left":"right":"down"===t?"ltr"===J(K(e))?"right":"left":void 0}function K(e){var t=e.closest("p.canopy-paragraph"),n=Array.from(t.querySelectorAll(".canopy-selectable-link")),r=n.indexOf(g.A.selection.element);return r<n.length-1?n[r+1]:g.A.selection.element}function Y(e){var t=e.closest("p.canopy-paragraph"),n=Array.from(t.querySelectorAll(".canopy-selectable-link")),r=n.indexOf(g.A.selection);return r>0?n[r-1]:g.A.selection.element}function J(e){return"rtl"===e.dir?"rtl":(t=function(e){for(;e.parentNode!==g.A.selection.element.closest("p.canopy-paragraph");)e=e.parentNode;return e}(e).innerText,new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")).test(t)?"rtl":"ltr");var t}var V={left:B.bind(null,"left"),up:B.bind(null,"up"),down:B.bind(null,"down"),"shift-down":w,"alt-down":w,right:B.bind(null,"right"),h:B.bind(null,"left"),k:B.bind(null,"up"),j:B.bind(null,"down"),"shift-j":w,"alt-j":w,l:B.bind(null,"right"),u:v,i:v,"shift-enter":v,n:k,m:k,escape:function(){return(0,f.A)(y.A.current.rootTopicPath,null,{scrollStyle:"instant"})},z:function(){var e,t=g.A.selection.relativeLinkNumber;return null===(e=g.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.display({renderOnly:!0}).then((function(){g.A.from((function(){var e;return null===(e=g.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.parentParagraph.nthLink(t)})).select({scrollStyle:"instant"})}))},d:function(){return window.open(window.location.href,"_blank")},"shift-up":C,"shift-k":C,c:function(){navigator.clipboard.writeText(decodeURIComponent(window.location))},enter:function(){return k({})},"meta-enter":function(){return k({newTab:!0})},"ctrl-enter":function(){return k({newTab:!0})},"alt-enter":function(){return k({newTab:!1,altKey:!0})},"meta-alt-enter":function(){return k({newTab:!0,altKey:!0})},"ctrl-alt-enter":function(){return k({newTab:!0,altKey:!0})},"enter-shift":function(){return k({})},"meta-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"ctrl-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"alt-shift-enter":function(){return k({newTab:!1,altKey:!0,shiftKey:!0})},"meta-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})},"ctrl-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})}},Z=["c","d","up","down"],Q={37:"left",39:"right",38:"up",40:"down",71:"g",72:"h",75:"k",74:"j",76:"l",186:";",90:"z",68:"d",67:"c",85:"u",73:"i",78:"n",77:"m",13:"enter",9:"tab",27:"escape",32:"space",192:"`",49:"1",50:"2",51:"3",52:"4",53:"5"};window.addEventListener("keydown",(function(e){if(!(o=document.activeElement)||!("TEXTAREA"===o.tagName||"INPUT"===o.tagName&&["text","password","email","search","number","tel","url"].includes(o.type.toLowerCase()))){var t=(e.metaKey?"meta-":"")+(e.ctrlKey?"ctrl-":"")+(e.altKey?"alt-":"")+(e.shiftKey?"shift-":""),n=Q[e.keyCode],r=t+n;if(["tab","down","up","left","right"].includes(n)&&((e.metaKey||e.ctrlKey)&&["left","right"].includes(n)||e.preventDefault()),"escape"===n&&!g.A.selection)return(0,f.A)(y.A.default,null);g.A.selection||Z.includes(r)?(V[r]||function(){})():V[r]&&y.A.rendered.selectALink()}var o})),"scrollRestoration"in history&&(history.scrollRestoration="manual"),history.replaceState(history.state,document.title,window.location.href),window.addEventListener("popstate",(function(e){var t,n,r,o=null!=e&&null!==(t=e.state)&&void 0!==t&&t.linkSelection?new g.A(null==e||null===(n=e.state)||void 0===n?void 0:n.linkSelection):null;r=y.A.current.rootTopicPath.equals(y.A.url.rootTopicPath)?"smooth":"instant",(0,f.A)(y.A.url,o||y.A.url.parentLink,{scrollStyle:r,scrollDirect:!0,popState:!0})})),(0,f.A)(y.A.initial,g.A.savedSelection||g.A.from((function(){return y.A.initial.parentLink})),{scrollStyle:"instant",initialLoad:!0})})(),{}})()));
//# sourceMappingURL=_canopy.js.map