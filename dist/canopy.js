/*! For license information please see canopy.js.LICENSE.txt */
(()=>{var t={8482:t=>{t.exports=function t(e){var n=e.replace(/(.*?(?:^|[^\\]))([_`*~])(\S*?[^\\])\2(.*)/,"$1$3$4");return(n=n.replace(/(.*?(?:^|[^\\]))([_`*~])(.*?[^\\])\2(?![A-Za-z0-9])(.*)/,"$1$3$4"))!==e?t(n):e}},3911:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(8482);n(8269);var o=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("String required to instantiate Topic");this.display=e,this.mixedCase=i(e).split(/\\\\/g).map((function(t){return t.replace(/\\/g,"")})).join("\\\\"),this.cssMixedCase=CSS.escape(this.mixedCase),this.escapedMixedCase=this.mixedCase.replace(/#/g,"\\#").replace(/\//g,"\\/").replace(/\\/g,"\\\\"),this.slug=this.mixedCase.replace(/%/g,"%25").replace(/\\\\/g,"%5C%5C").replace(/`/g,"%60").replace(/_/g,"%5C_").replace(/ /g,"_").replace(/\//g,"%2F").replace(/([.,])(?=["'')}\]]+$)/g,""),this.url=this.slug.replace(/#/g,"%23"),this.fileName=this.slug.replace(/"/g,"%22").replace(/'/g,"%27").replace(/,/g,"%2C").replace(/:/g,"%3A").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\|/g,"%7C").replace(/\*/g,"%2A").replace(/\?/g,"%3F"),this.caps=this.mixedCase.toUpperCase().replace(/\?$/,"").replace(/["”“’‘']/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/ +/g," ").replace(/&NBSP;/g," ").trim(),this.requestFileName=encodeURIComponent(this.fileName)}var e,n;return e=t,n=[{key:"fromMixedCase",value:function(e){var n=new t(e=e.replace(/([`_~*])/g,"\\$1"));return n.display=null,n}},{key:"fromEncodedSlug",value:function(e){e=function(t){return t.split(/%5C%5C/g).map((function(t){return t.split(/%5C_/g).map((function(t){return t.replace(/_/g," ")})).join("%5C_")})).join("%5C%5C")}(e);var n=new t(e=(e=decodeURIComponent(e)).replace(/\*/g,"\\*").replace(/`/g,"\\`").replace(/~/g,"\\~"));return n.display=null,n}}],null&&r(e.prototype,null),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();o.convertUnderscoresToSpaces=function(t){return t.split(/%5C%5C/g).map((function(t){return t.split(/%5C_/g).map((function(t){return t.replace(/_/g," ")})).join("%5C_")})).join("%5C%5C")},o.convertSpacesToUnderscores=function(t){return t.split("/").map((function(t){return o.for(t).fileName})).join("/")},o.for=function(t){return new o(t)},t.exports=o},6121:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var r=n(7366),i=n(6204),o=(n(1242),n(6240)),a=n(2769);n(4178);var l=function t(e,n,r){return"instant"===r.scrollStyle?e.allocateSpace():e.display(),n.push(e),e.isroot?n:(e.parentLink&&(null===(o=e.parentLink)||void 0===o||o.open(),i.Z.persistLastLinkSelection(e.parentLink)),i.Z.persistLastLinkSelection(e.parentLink),t(e.parentParagraph,n,r));var o};const c=function(t,e){var n,c,s,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e||(e=null===(n=t.paragraph)||void 0===n?void 0:n.parentLink),r.Z.shouldAnimate(t,e,p))return(0,a.ml)(t,e,p);try{var u;null===(u=e)||void 0===u||u.element}catch(e){return(0,o.Z)(t,null,p)}if(e&&!t.includes(e.enclosingPath))throw"linkToSelect argument is not on given pathToDisplay";if(!t.paragraph)return(0,a.lr)(t,p);if(null!==(c=e)&&void 0!==c&&c.isCycle&&(0,o.Z)(e.inlinePath,null,{renderOnly:!0}),r.Z.setPath((null===(s=e)||void 0===s?void 0:s.urlPath)||t,p),i.Z.updateSelectionClass(e),i.Z.persistSelection(e),!p.noDisplay){(0,a._s)();var h=(0,a.Ec)(t.rootTopicPath.topic,p),d=l(t.paragraph,[],p);return t.paragraph.addSelectionClass(),setTimeout((function(){return d.forEach((function(t){return t.display()}))||h.show()})),p.noScroll?Promise.resolve():(0,a.lV)(e,p)}}},2769:(t,e,n)=>{"use strict";n.d(e,{Ec:()=>A,H6:()=>v,_8:()=>k,_s:()=>m,hv:()=>x,lV:()=>b,lr:()=>g,ml:()=>E});var r=n(4178),i=n(5286),o=n(6121),a=n(6204),l=n(7366),c=n(1242),s=n(6240);function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function u(){u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,o=Object.create(i.prototype),a=new E(r||[]);return o._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var l=k(a,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=s(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,a),o}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function f(){}function y(){}var A={};l(A,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(S([])));m&&m!==e&&n.call(m,i)&&(A=m);var b=y.prototype=d.prototype=Object.create(A);function v(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(i,o,a,l){var c=s(t[i],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==p(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,l)}),(function(t){r("throw",t,a,l)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,l)}))}l(c.arg)}var i;this._invoke=function(t,n){function o(){return new e((function(e,i){r(t,n,e,i)}))}return i=i?i.then(o,o):o()}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function w(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function E(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(w,this),this.reset(!0)}function S(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=y,l(b,"constructor",y),l(y,"constructor",f),f.displayName=l(y,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,l(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},v(C.prototype),l(C.prototype,o,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(c(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},v(b),l(b,a,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,E.prototype={constructor:E,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function h(t,e,n,r,i,o,a){try{var l=t[o](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(r,i)}function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A(t,e){var n=document.querySelector('h1[data-topic-name="'.concat(t.cssMixedCase,'"]'));return n.style.display="block",n.style.opacity="0%","instant"!==e.scrollStyle&&(n.style.opacity="100%"),{show:function(){n.style.opacity="100%"}}}function g(t,e){if(console.error("No section element found for path: ",t.string),t.length>1)return console.log("Trying: ",t.withoutLastSegment.string),(0,o.Z)(t.withoutLastSegment,null,{scrollStyle:"instant"});if(e.defaultRedirect)throw new Error("Redirect to default topic failed terminally.");return console.error("No path prefixes remain to try. Redirecting to default topic: "+l.Z.default),(0,s.Z)(l.Z.default,null,{defaultRedirect:!0,scrollStyle:"instant"})}n(5662),n(3658);var m=function(){Array.from(document.querySelectorAll("#_canopy h1")).forEach((function(t){t.style.display="none"})),Array.from(document.getElementsByTagName("a")).forEach((function(t){t.classList.remove("canopy-open-link")})),Array.from(document.getElementsByTagName("section")).forEach((function(t){t.style.display="none"})),Array.from(document.querySelectorAll(".canopy-selected-section")).forEach((function(t){t.classList.remove("canopy-selected-section")})),Array.from(document.querySelectorAll(".canopy-scroll-complete")).forEach((function(t){t.classList.remove("canopy-scroll-complete")}))};function b(t,e){var n=(e=e||{}).scrollStyle||"smooth",i=e,o=i.scrollToParagraph,a=i.direction;if(r.Dk.dataset.imageLoadScrollBehavior=n,r.Dk.dataset.initialLoad=e.initialLoad,!t)return v(c.Z.root.paragraphElement,{targetRatio:.5,maxScrollRatio:1/0,behavior:n,side:"top"});var l="instant"===n||o||e.scrollDirect?1/0:.75;if(o)return v(t.childParagraph.paragraphElement,{targetRatio:.3,maxScrollRatio:l,minDiff:75,behavior:n,side:"top",direction:a});var s=null==t?void 0:t.element;return s?v(s,{targetRatio:.3,maxScrollRatio:l,minDiff:75,behavior:n,direction:a}):v(c.Z.current.sectionElement,{targetRatio:0,maxScrollRatio:l,minDiff:75,behavior:n,direction:a})}function v(t,e){if(!(t instanceof Element))throw new Error("Argument to scrollElementToPosition must be DOM element");var n,r=e.targetRatio,o=e.maxScrollRatio,a=e.minDiff,l=e.direction,c=e.behavior,s=e.side,p=t.getBoundingClientRect(),u=i.Z.visibleHeight*r;"bottom"===s?n=p.bottom-i.Z.top+i.Z.currentScroll:"top"===s?n=p.top-i.Z.top+i.Z.currentScroll:(s="middle",n=p.top-i.Z.top+i.Z.currentScroll+p.height/2),"A"!==t.tagName||"middle"!==s&&"bottom"!==s||("bottom"===s?1:.5)*(p.bottom-p.top)+20>u&&(r=.05,u=i.Z.visibleHeight*r,n=p.top+i.Z.currentScroll);var h=n-u;i.Z.innerHeight-i.Z.visibleHeight<h&&console.error("Scrollable area not long enough to scroll to desired position"),h=Math.max(0,Math.min(h,i.Z.innerHeight-i.Z.visibleHeight));var d,y=o?i.Z.visibleHeight*o:1/0;d=h>i.Z.currentScroll?Math.min(h,i.Z.currentScroll+y):Math.max(h,i.Z.currentScroll-y);var A=h-i.Z.currentScroll!=0;if(a){var g=Math.abs(i.Z.currentScroll-d),m="A"===t.tagName&&(p.top<5||p.bottom>i.Z.visibleHeight);A=!a||a&&g>a||m}return"up"===l&&(A=A&&d<i.Z.currentScroll),"down"===l&&(A=A&&d>i.Z.currentScroll),A?x(f({top:d,behavior:c},e)):Promise.resolve(!0)}var C=null;function k(){return C}var w=null;function x(t){return w=t,C=new Promise(function(){var e,n=(e=u().mark((function e(n,r){var o,a,l,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.Z.scrollTo(w),Date.now(),o=i.Z.currentScroll,a=null,l=0,c=function e(){var r=i.Z.currentScroll;if(o!==r||a||(a=Date.now()),o!==r&&(a=null),o===r&&l<1&&i.Z.scrollTo(w),o=r,l++,a&&Date.now()-a>1e3)return C=null,n(!1);Math.abs(r-t.top)<10?(C=null,n(!0)):setTimeout(e,50)},setTimeout(c,50);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(t){h(o,r,i,a,l,"next",t)}function l(t){h(o,r,i,a,l,"throw",t)}a(void 0)}))});return function(t,e){return n.apply(this,arguments)}}())}function E(t,e){var n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=null!==(n=a.Z.selection)&&void 0!==n&&n.effectivePathReference?a.Z.selection.enclosingPath:l.Z.rendered,s=c.overlap(t),p=t.subsetOf(c),u=(null==e?void 0:e.element)||(null===(r=s.parentLink)||void 0===r?void 0:r.element)||(null===(i=s.paragraph)||void 0===i?void 0:i.paragraphElement),h=o.noMinDiff?null:75,d=p?.3:.1;return(S(u)?Promise.resolve():v(u,{targetRatio:d,maxScrollRatio:1/0,minDiff:h,behavior:"smooth",side:"top"}).then((function(){return new Promise((function(t){return setTimeout(t,110)}))}))).then((function(){return(null==e?void 0:e.select(f({noScroll:!0,noAnimate:!0},o)))||t.display(f({noScroll:!0,noAnimate:!0},o))})).then((function(){return!p&&new Promise((function(t){return setTimeout(t,150)}))})).then((function(){return!p&&!S(t.paragraph.paragraphElement)&&v(t.paragraph.paragraphElement,{targetRatio:.15,maxScrollRatio:1/0,minDiff:h,behavior:"smooth",side:"top"})}))}function S(t){var e=t.getBoundingClientRect(),n=.3*i.Z.visibleHeight,r=.4*i.Z.visibleHeight,o=e.bottom>n,a=e.top<r;return o&&a&&e.top>0}},6240:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(3658),i=n(6121),o=(n(6204),n(7366)),a=n(1242),l=n(4178),c=null;const s=function t(e,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.empty&&(e=o.Z.default),s.renderOnly||s.noDisplay||(document.title=e.lastTopic.mixedCase);var p=(c=!s.pending&&e||c)&&(0,r.Z)(e,e,l.Dk).catch((function(t){return console.error(t)}));return Promise.race([p,new Promise((function(t){return setTimeout(t,400)}))]).then((function(e){!e&&n&&a.Z.contentLoaded&&((null==n?void 0:n.addSelectionClass())||t(n.enclosingPath,n,{pending:!0}))})),p.then((function(){null!=s&&s.renderOnly||!e.equals(c)||(0,i.Z)(e,n,s)})).catch((function(t){return console.error(t)}))}},4178:(t,e,n)=>{"use strict";n.d(e,{Dk:()=>r,R_:()=>i,Ui:()=>a,Jy:()=>o});var r=document.getElementById("_canopy");r.dataset.canopyVersion="0.4.12";var i=function(){return r&&r.dataset.defaultTopic},o=r&&r.dataset.projectPathPrefix,a=r&&r.dataset.hashUrls},5286:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var r=n(4178);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(1242);const o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"windowMode",get:function(){return t=r.Dk.parentElement,n="scroll"===(e=window.getComputedStyle(t).overflowY)||"auto"===e,i=t.scrollHeight>t.clientHeight,!(n&&i);var t,e,n,i}},{key:"element",get:function(){return this.windowMode?document.body:this.windowMode?void 0:r.Dk.parentElement}},{key:"visibleHeight",get:function(){return this.windowMode?window.innerHeight:this.windowMode?void 0:this.element.clientHeight}},{key:"innerHeight",get:function(){return this.windowMode?document.documentElement.scrollHeight:this.windowMode?void 0:this.element.scrollHeight}},{key:"currentScroll",get:function(){return this.windowMode?window.scrollY:this.windowMode?void 0:this.element.scrollTop}},{key:"top",get:function(){return this.windowMode?0:r.Dk.parentElement.getBoundingClientRect().top}},{key:"addEventListener",value:function(t,e){return this.windowMode?window.addEventListener(t,e):this.windowMode?void 0:this.element.addEventListener(t,e)}},{key:"scrollTo",value:function(t){return this.windowMode?window.scrollTo(t):this.windowMode?void 0:this.element.scrollTo(t)}},{key:"focusGap",get:function(){return.3*t.visibleHeight}},{key:"focusY",get:function(){return.3*t.visibleHeight+t.currentScroll}},{key:"focusedElement",get:function(){var t=this;return Array.from(document.querySelectorAll("*")).filter((function(e){if(0===e.offsetWidth&&0===e.offsetHeight)return!1;if(e.closest(".canopy-image"))return!1;var n=e.getBoundingClientRect();return n.bottom>0&&n.bottom<=t.visibleHeight})).reduce((function(t,e){return null!=t&&t.classList.contains("canopy-selected-link")?t:null!=e&&e.classList.contains("canopy-selected-link")||!t||e.getBoundingClientRect().bottom<t.getBoundingClientRect().bottom?e:t}),null)||r.Dk}}],null&&i(e.prototype,null),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},6204:(t,e,n)=>{"use strict";n.d(e,{Z:()=>f});var r=n(7366),i=n(1242),o=n(3911),a=n.n(o),l=n(6240);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),"A"===(null==e?void 0:e.tagName))this.element=e;else{if(e instanceof t)throw new Error("Cannot instantiate link from link");if("object"===p(e))this.metadataObject=e;else{if("function"!=typeof e)throw new Error("Invalid argument to Link constructor");this.selectorCallback=e}}}var e,n,o;return e=t,n=[{key:"equals",value:function(t){return this.element===t.element}},{key:"matches",value:function(t){if(!t)throw new Error("Invalid link argument to Link#matches");return this.targetTopic===t.targetTopic&&this.targetSubtopic===t.targetSubtopic&&this.relativeLinkNumber===t.relativeLinkNumber}},{key:"contradicts",value:function(t){if(!(t instanceof r.Z))throw new Error("Invalid path argument to Link#contradicts");return this.targetPath.string!==t.string}},{key:"element",get:function(){if(this.linkElement)return this.linkElement;if(this.metadataObject){if(this.element=t.elementFromMetadata(this.metadata),!this.linkElement)throw new Error("Metadata refered to non-existant link");return this.linkElement}if(this.selectorCallback){var e=this.selectorCallback();if(!e)throw new Error("Link selector callback provided no link");return this.element=e.element,this.linkElement}},set:function(e){e instanceof HTMLAnchorElement?this.linkElement=e:e instanceof t&&(this.linkElement=e.element),this.transferDataset()}},{key:"top",get:function(){return this.element.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.element.getBoundingClientRect().bottom}},{key:"innerText",get:function(){return this.element.innerText}},{key:"transferDataset",value:function(){this.linkElement&&(this._pathString=this.linkElement.dataset.pathString,this._enclosingTopic=this.linkElement.dataset.enclosingTopic,this._enclosingSubtopic=this.linkElement.dataset.enclosingSubtopic,this._typeValue=this.linkElement.dataset.type)}},{key:"targetTopic",get:function(){return this.literalPath.lastTopic}},{key:"targetSubtopic",get:function(){return this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.lastSubtopic}},{key:"childTopic",get:function(){return this.literalPath.firstTopic}},{key:"childSubtopic",get:function(){return this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.firstSubtopic}},{key:"enclosingTopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingTopic)}},{key:"enclosingTopicParagraph",get:function(){return this.enclosingParagraph.topicParagraph}},{key:"enclosingSubtopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingSubtopic)}},{key:"topicName",get:function(){throw new Error("Links have no topicName, only targetTopic or enclosingTopic")}},{key:"subtopicName",get:function(){throw new Error("Links have no subtopicName, only targetSubtopic or enclosingSubtopic")}},{key:"type",get:function(){return this.element.dataset.type}},{key:"enclosingSectionElement",get:function(){return this.element.parentNode.closest(".canopy-section")}},{key:"sectionElement",get:function(){throw new Error("Depreciated in favor of #enclosingSectionElement")}},{key:"enclosingParagraphElement",get:function(){return this.element.parentNode.closest(".canopy-paragraph")}},{key:"parentParagraphElement",get:function(){throw new Error("Depreciated in favor of #enclosingParagraphElement")}},{key:"enclosingParagraph",get:function(){return new i.Z(this.enclosingSectionElement)}},{key:"enclosingPath",get:function(){return this.metadataObject&&!i.Z.contentLoaded?new r.Z(this.metadataObject.enclosingPathString):this.enclosingParagraph.path}},{key:"targetParagraph",get:function(){if(!this.isParent)return null;var t=this.enclosingParagraph.pathDepth;this.isGlobal&&(t=Number(t)+1);var e=this.enclosingParagraph.sectionElement.querySelector('section[data-topic-name="'.concat(this.literalPath.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(this.literalPath.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(t,'"'));return e?new i.Z(e):(this.cycle||console.log("Did not find paragraph child element matching link [".concat(this.literalPath.firstTopic.mixedCase,", ").concat(this.literalPath.firstSubtopic.mixedCase,"]")),null)}},{key:"childPath",get:function(){return this.childParagraph.path}},{key:"childParagraph",get:function(){return this.isLocal?this.targetParagraph:this.isGlobal?this.enclosingPath.append(this.literalPath.firstTopicPath).paragraph:null}},{key:"matcher",get:function(){var t=this;return function(e){return e.matches(t)}}},{key:"relativeLinkNumber",get:function(){return this.storedRelativeLinkNumber||(this.storedRelativeLinkNumber=this.enclosingParagraph.links.map((function(t){return t.element})).indexOf(this.element)),this.storedRelativeLinkNumber}},{key:"metadata",get:function(){if(this.metadataObject)return null!=this&&this.linkElement?t.collectMetadata(this.linkElement):this.metadataObject;if(this.linkElement){var e=t.collectMetadata(this.linkElement);return this.metadataObject=e,e}if(this.selectorCallback)return this.element=this.selectorCallback(),this.metadata;throw new Error("Link has neither supplied metadata, dom element, nor selector function")}},{key:"path",get:function(){throw"#path is deprecated in favor of #inlinePath or #literalPath"}},{key:"targetPath",get:function(){throw"#targetPath is deprecated in favor of #inlinePath or #literalPath"}},{key:"literalPath",get:function(){return this.isLocal?r.Z.forSegment(this.enclosingTopic,this.targetSubtopic):this.isGlobal?r.Z.for(this.element.dataset.pathString):null}},{key:"nextSibling",get:function(){var t=this.enclosingParagraph.links;if(this.equals(t[t.length-1]))return null;var e=t.map((function(t){return t.element}));return t[e.indexOf(this.element)+1]}},{key:"previousSibling",get:function(){var t=this.enclosingParagraph.links;if(this.equals(t[0]))return null;var e=t.map((function(t){return t.element}));return t[e.indexOf(this.element)-1]}},{key:"siblings",get:function(){return this.enclosingParagraph.links}},{key:"firstSibling",get:function(){return this.siblings[0]}},{key:"lastSibling",get:function(){return this.siblings[this.siblings.length-1]}},{key:"firstChildLink",get:function(){return this.targetParagraph.firstLink}},{key:"lastChildLink",get:function(){return this.targetParagraph.lastLink}},{key:"siblingOf",value:function(t){return this.enclosingParagraph&&this.enclosingParagraph.equals(null==t?void 0:t.enclosingParagraph)}},{key:"parentLink",get:function(){return this.enclosingParagraph.parentLink}},{key:"isParentLinkOf",value:function(t){var e;return null==t||null===(e=t.parentLink)||void 0===e?void 0:e.equals(this)}},{key:"grandParentLink",get:function(){var t;return null===(t=this.parentLink)||void 0===t?void 0:t.parentLink}},{key:"topicParagraph",get:function(){return new i.Z(this.element.parentNode.closest(".canopy-topic-section"))}},{key:"selected",get:function(){return this.element.classList.includes("canopy-selected-link")}},{key:"open",value:function(){this.element.classList.add("canopy-open-link")}},{key:"isOpen",get:function(){return this.element.classList.contains("canopy-open-link")}},{key:"isClosed",get:function(){return!this.isOpen}},{key:"isClosedCycle",get:function(){return!this.isOpen&&this.cycle}},{key:"isSelected",get:function(){return this.element.classList.contains("canopy-selected-link")}},{key:"isGlobal",get:function(){return"global"===this.type}},{key:"isPathReference",get:function(){return"global"===this.type&&(this.literalPath.length>1||this.childTopic.mixedCase!==this.childSubtopic.mixedCase)}},{key:"isSimpleGlobal",get:function(){return this.isGlobal&&!this.isPathReference}},{key:"effectivePathReference",get:function(){return this.isPathReference&&(!this.cycle||this.inlinedCycleReference)}},{key:"inlinedCycleReference",get:function(){return this.introducesNewCycle&&this.isOpen}},{key:"isInDom",get:function(){return!!this.element.closest("div#_canopy")}},{key:"isExternal",get:function(){return"external"===this.type}},{key:"isLocal",get:function(){return"local"===this.type}},{key:"isCycle",get:function(){return this.introducesNewCycle}},{key:"isBackCycle",get:function(){return this.inlinePath.reduce().subsetOf(this.inlinePath)}},{key:"isLateralCycle",get:function(){return this.cycle&&!this.inlinePath.reduce().subsetOf(this.inlinePath)}},{key:"isParent",get:function(){return this.isGlobal||this.isLocal}},{key:"isSiblingOf",value:function(t){return this.enclosingParagraph.equals(t.enclosingParagraph)}},{key:"hasChildren",get:function(){var t;return null===(t=this.childParagraph)||void 0===t?void 0:t.hasLinks}},{key:"firstChild",get:function(){var t;return null===(t=this.childParagraph)||void 0===t?void 0:t.firstLink}},{key:"firstChildOf",value:function(t){var e;return!(null===(e=t.firstChild)||void 0===e||!e.equals(this))}},{key:"isOffScreen",get:function(){var t=this.element.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight;return t.top<0||t.bottom>e}},{key:"isVisible",value:function(){if(!this.element)return!1;var t=this.element.getBoundingClientRect(),e=window.innerHeight,n=window.innerWidth,r=Math.min(t.right,n)-Math.max(t.left,0);return(Math.min(t.bottom,e)-Math.max(t.top,0))*r/((t.bottom-t.top)*(t.right-t.left))>=.5}},{key:"isAboveViewport",value:function(){return!(!this.element||!this.element.getBoundingClientRect)&&this.element.getBoundingClientRect().top<0}},{key:"isBelowViewport",value:function(){if(!this.element||!this.element.getBoundingClientRect)return!1;var t=this.element.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight;return t.bottom>e}},{key:"isDistantParent",value:function(){return this.top+.5*ScrollableContainer.visibleHeight<this.childParagraph.top}},{key:"isHigherThan",value:function(t){return this.top<t.top}},{key:"isFocused",get:function(){var t=this.element.getBoundingClientRect(),e=window.innerHeight||document.documentElement.clientHeight,n=.25*e,r=.6*e,i=t.bottom>n,o=t.top<r;return i&&o}},{key:"cycle",get:function(){return this.introducesNewCycle}},{key:"introducesNewCycle",get:function(){return!!this.isGlobal&&r.Z.introducesNewCycle(this.enclosingPath,this.literalPath)}},{key:"inlinePath",get:function(){return this.isGlobal?this.enclosingParagraph.path.append(this.literalPath):this.isLocal?this.enclosingParagraph.path.replaceTerminalSubtopic(this.targetSubtopic):this.enclosingParagraph.path}},{key:"previewPath",get:function(){return this.metadataObject&&!i.Z.contentLoaded?new r.Z(this.metadataObject.previewPathString):this.isExternal||this.isGlobal&&this.introducesNewCycle&&!this.inlinedCycleReference?this.enclosingPath:this.isGlobal||this.isLocal?this.inlinePath:void 0}},{key:"urlPath",get:function(){return this.cycle||this.isPathReference||this.externalLink?this.enclosingPath:this.isLocal||this.isSimpleGlobal?this.inlinePath:void 0}},{key:"select",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=t&&t.newTab&&this.isParent&&t.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!=t&&t.newTab&&this.isParent?window.open(location.origin+this.previewPath.productionPathString,"_blank"):(0,l.Z)(this.previewPath,this,t)}},{key:"execute",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=s({scrollDirect:!0},n),t.persistLastLinkSelection(this),this.isExternal?window.open(this.element.href,"_blank"):n.redirect?this.literalPath.display(s({scrollStyle:"instant"},n)):this.isGlobal&&this.introducesNewCycle&&!n.inlineCycles?(n.pushHistoryState?this.select({noScroll:!0,noDisplay:!0}):Promise.resolve()).then((function(){return e.inlinePath.reduce().display(n)})):this.isPathReference&&!this.cycle||this.cycle&&n.inlineCycles?(n.pushHistoryState?this.select({noScroll:!0,noDisplay:!0}):Promise.resolve()).then((function(){return e.inlinePath.display(s({scrollDirect:!0},n))})):(n.selectALink&&this.firstChild||this).select(n)}},{key:"addSelectionClass",value:function(){t.updateSelectionClass(this)}},{key:"onCurrentPage",get:function(){var t=window.getComputedStyle(this.element);return this.element.offsetWidth>0&&this.element.offsetHeight>0&&"none"!==t.display&&"hidden"!==t.visibility}},{key:"isLastSelection",get:function(){var e;return!(null===(e=t.lastSelectionOfParagraph(this.enclosingParagraph))||void 0===e||!e.equals(this))}}],o=[{key:"collectMetadata",value:function(e){var n=new t(e);return i.Z.containingLink(n),{enclosingPathString:n.enclosingPath.string,text:e.dataset.text,relativeLinkNumber:n.relativeLinkNumber,previewPathString:n.previewPath.string}}},{key:"containsLinkSelectionMetadata",value:function(t){return void 0!==t.relativeLinkNumber}},{key:"elementFromMetadata",value:function(t){var e=new r.Z(t.enclosingPathString).paragraph;if(!e)throw new Error("Link selection data refers to non-existant link");var n=e.linkBySelector((function(e,n){return e.element.dataset.text===t.text&&n===t.relativeLinkNumber}));return n&&n.element||null}},{key:"removeSelectionClass",value:function(){Array.from(document.getElementsByTagName("a")).forEach((function(t){t.classList.remove("canopy-selected-link")}))}},{key:"deselect",value:function(e){t.updateSelectionClass(e||null)}},{key:"updateSelectionClass",value:function(e){var n;this.lastSelection!==e&&(this.lastSelection=t.selection),null===(n=document.querySelector("a.canopy-selected-link"))||void 0===n||n.classList.remove("canopy-selected-link"),e&&e.element.classList.add("canopy-selected-link")}},{key:"persistSelection",value:function(e){t.persistInHistory(e),t.persistInSession(e),t.persistLastLinkSelection(e)}},{key:"selectionPresentInEvent",value:function(e){return e.state&&t.containsLinkSelectionMetadata(e.state)}},{key:"sessionSelection",get:function(){if(r.Z.url.empty)return null;var e=sessionStorage.getItem(r.Z.url.string);return e&&"null"!==e?new t(JSON.parse(e)):null}},{key:"historySelection",get:function(){return r.Z.url.empty?null:history.state&&t.containsLinkSelectionMetadata(history.state)?new t(history.state):null}},{key:"savedSelection",get:function(){return this.historySelection||this.sessionSelection||null}},{key:"selection",get:function(){var e=document.querySelector("a.canopy-selected-link");return e?new t(e):null}},{key:"persistInSession",value:function(t){var e=t&&JSON.stringify(t.metadata);sessionStorage.setItem(location.pathname+location.hash,e||null)}},{key:"persistInHistory",value:function(t){history.replaceState(t&&t.metadata||null,document.title,window.location.href)}},{key:"current",value:function(){throw new Error("Link#current does not exist, try Link#selection")}},{key:"persistLastLinkSelection",value:function(t){if(t){var e=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");e[t.enclosingParagraph.path]=t.metadata,sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(e))}}},{key:"lastSelectionOfParagraph",value:function(e){var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");if(n[e.path]){var r=new t(n[e.path]);try{if(r.element)return r}catch(t){return null}}}},{key:"visible",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(e){return t.for(e)})).filter((function(t){return t.isVisible}))}},{key:"for",value:function(t){return new this(t)}},{key:"from",value:function(t){return new this(t)}}],n&&u(e.prototype,n),o&&u(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();h(d,"lastSelection",null);const f=d},1242:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var r=n(7366),i=n(6204),o=n(4178),a=n(5286),l=n(3911),c=n.n(l),s=n(6240);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const u=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e||"SECTION"!==e.tagName)throw new Error("Paragraph instantiation requires section element");if(!e.classList.contains("canopy-section"))throw new Error("Paragraph class requires Canopy section element");this.sectionElement=e,this.transferDataset()}var e,n,l;return e=t,n=[{key:"equals",value:function(t){return!!t&&this.sectionElement===t.sectionElement}},{key:"allocateSpace",value:function(){this.sectionElement.style.display="block",this.sectionElement.style.opacity="0%"}},{key:"display",value:function(){this.sectionElement.style.display="block",this.sectionElement.style.opacity="100%"}},{key:"element",get:function(){throw new Error("Depreciated in favor of #sectionElement property")}},{key:"transferDataset",value:function(){this._topicName=this.sectionElement.dataset.topicName,this._subtopicName=this.sectionElement.dataset.subtopicName,this.pathDepth=Number(this.sectionElement.dataset.pathDepth)}},{key:"topic",get:function(){return c().fromMixedCase(this.sectionElement.dataset.topicName)}},{key:"subtopic",get:function(){return c().fromMixedCase(this.sectionElement.dataset.subtopicName)}},{key:"topicName",get:function(){throw new Error("Depreciated in favor of #topic")}},{key:"subtopicName",get:function(){throw new Error("Depreciated in favor of #subtopic")}},{key:"paragraphElement",get:function(){var t=Array.from(this.sectionElement.childNodes).find((function(t){return"P"===t.tagName}));if(!t)throw new Error("Paragraph has no paragraph element");return t}},{key:"path",get:function(){if(!this.isInDom)throw"Cannot call Paragraph#path until paragraph is appended to DOM.";for(var e=[],n=this.sectionElement,i=this,a=this.topicParagraph;n!==o.Dk;)for(a=i.topicParagraph,e.unshift([c().fromMixedCase(n.dataset.topicName),c().fromMixedCase(n.dataset.subtopicName)]);n!==o.Dk&&i.topicParagraph.equals(a);)(n=n.parentNode)!==o.Dk&&(i=new t(n));return new r.Z(e)}},{key:"pathDown",get:function(){return this.path.slice(this.pathDepth)}},{key:"links",get:function(){if(this.linkObjects)return this.linkObjects;var t=this.paragraphElement.querySelectorAll("a.canopy-selectable-link");return this.linkObjects=Array.from(t).map((function(t){return new i.Z(t)})),this.linkObjects}},{key:"linkElements",get:function(){return Array.from(this.paragraphElement.querySelectorAll(".canopy-selectable-link"))}},{key:"firstLink",get:function(){return this.links[0]||null}},{key:"nthLink",value:function(t){return this.links[t]||null}},{key:"lastLink",get:function(){return this.links[this.links.length-1]||null}},{key:"previousLink",get:function(){return i.Z.lastSelectionOfParagraph(this)}},{key:"isroot",get:function(){return this.sectionElement.parentNode===o.Dk}},{key:"isSingleTopic",get:function(){return this.topic.caps===this.subtopic.caps}},{key:"hasLinks",get:function(){return this.links.length>0}},{key:"linkBySelector",value:function(t){return this.links.find(t)}},{key:"linksBySelector",value:function(t){return this.links.filter(t)}},{key:"linkByChild",value:function(t,e){return this.linkBySelector((function(n){return n.isGlobal&&n.childTopic.caps===(null==t?void 0:t.caps)||n.isLocal&&n.targetSubtopic.caps===(null==e?void 0:e.caps)}))}},{key:"parentLink",get:function(){var t,e,n,r=this;if(this.sectionElement.parentNode===o.Dk)return null;if(this.parentParagraph.linkElements.includes(null===(t=i.Z.selection)||void 0===t?void 0:t.element)&&null!==(e=i.Z.selection)&&void 0!==e&&null!==(n=e.childParagraph)&&void 0!==n&&n.equals(this))return i.Z.selection;if(!this.isTopic)return this.parentParagraph.links.find((function(t){return t.isLocal&&t.targetSubtopic.caps===r.subtopic.caps}));var a=i.Z.lastSelectionOfParagraph(this.parentParagraph);return this.parentLinks.length>1&&a&&this.parentLinks.find((function(t){return t.equals(a)}))?a:this.parentParagraph&&this.parentParagraph.links.find((function(t){return t.isGlobal&&1===t.literalPath.length&&t.childTopic.caps===r.topic.caps&&t.childSubtopic.caps===r.topic.caps}))||this.parentParagraph&&this.parentParagraph.links.find((function(t){return t.isGlobal&&t.childTopic.caps===r.topic.caps}))}},{key:"parentLinks",get:function(){var t=this;return this.sectionElement.parentNode===o.Dk?null:this.parentParagraph.linksBySelector((function(e){return e.isGlobal&&e.childTopic.caps===t.topic.caps||e.isLocal&&e.targetSubtopic.caps===t.subtopic.caps}))}},{key:"displayTopicName",get:function(){return this.sectionElement.dataset.displayTopicName}},{key:"parentParagraph",get:function(){if(this.sectionElement){var e=this.sectionElement.parentNode.closest(".canopy-section");return e?new t(e):null}return null}},{key:"topicParagraph",get:function(){return this.isTopic?this:new t(this.sectionElement.parentNode.closest(".canopy-topic-section"))}},{key:"isTopic",get:function(){return this.topic.mixedCase===this.subtopic.mixedCase}},{key:"isInDom",get:function(){return!!this.sectionElement.closest("div#_canopy")}},{key:"top",get:function(){return this.paragraphElement.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.paragraphElement.getBoundingClientRect().bottom}},{key:"select",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=t&&t.newTab?window.open(location.origin+this.path.string,"_blank"):(0,s.Z)(this.path,this.parentLink,t)}},{key:"addSelectionClass",value:function(){this.sectionElement.classList.add("canopy-selected-section")}},{key:"scrollComplete",value:function(){this.sectionElement.classList.add("canopy-scroll-complete")}}],l=[{key:"from",value:function(t){return new this(t)}},{key:"selection",get:function(){return t.current}},{key:"current",get:function(){var e=document.querySelector(".canopy-selected-section");return e?new t(e):null}},{key:"root",get:function(){return r.Z.current.rootTopicPath.paragraph}},{key:"containingLink",value:function(e){if(!(e instanceof i.Z))throw new Error("Must provide link instance argument");return new t(e.element.parentNode.closest(".canopy-section"))}},{key:"visible",get:function(){for(var t=r.Z.rendered,e=[];t;)e.push(t.paragraph),t=parentPath;return e}},{key:"atY",value:function(e){return t.visible.reduce((function(t,n){return t.top<e&&t.bottom>e?t:n.top<e&&n.bottom>e?n:Math.abs(t.top-e)<Math.abs(n.top-e)?t:n}))}},{key:"focused",get:function(){return t.atY(.3*a.Z.visibleHeight+a.Z.currentScroll)}},{key:"contentLoaded",get:function(){return!!document.querySelector("h1")}},{key:"for",value:function(e){return new t(e)}}],n&&p(e.prototype,n),l&&p(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},7366:(t,e,n)=>{"use strict";n.d(e,{Z:()=>y});var r=n(4178),i=n(5286),o=n(1242),a=n(6204),l=n(3911),c=n.n(l),s=n(6240);function p(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||h(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}const y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e?Array.isArray(e)?(0===e.length?this.pathArray=[]:(this.pathArray=e.slice(),t.validatePathArray(this.array)),this.pathString=t.arrayToString(this.array)):("string"==typeof e||e instanceof String)&&(this.pathArray=t.stringToArray(e),this.pathString=t.arrayToString(this.array)):this.pathArray=[]}var e,n,l;return e=t,n=[{key:"length",get:function(){return this.pathArray[0]?this.pathArray.length:0}},{key:"equals",value:function(t){return!!t&&this.string===t.string}},{key:"isIn",value:function(t){var e;return!!t&&(!!this.equals(t)||!t.isSingleTopic&&(!!this.isSegmentOf(t)||!this.visitsTopicNotIn(t)&&this.isIn(null==t||null===(e=t.paragraph)||void 0===e?void 0:e.parentParagraph.path)))}},{key:"visitsTopicNotIn",value:function(t){return this.topicStringArray.some((function(e){return!t.topicStringArray.includes(e)}))}},{key:"isSegmentOf",value:function(t){return t.string.includes(this.string)}},{key:"includes",value:function(t){return t.isIn(this)}},{key:"array",get:function(){return this.pathArray}},{key:"string",get:function(){return this.pathString}},{key:"empty",get:function(){return!this.array[0]}},{key:"slice",value:function(){var t;return new this.constructor((t=this.pathArray.slice).call.apply(t,[this.pathArray].concat(Array.prototype.slice.call(arguments))))}},{key:"segments",get:function(){return this.pathArray}},{key:"firstTopic",get:function(){return this.empty?null:this.pathArray[0][0]}},{key:"firstTopicPath",get:function(){return this.constructor.forSegment(this.pathArray[0][0],this.pathArray[0][0])}},{key:"lastTopic",get:function(){return this.lastSegment.topic}},{key:"topic",get:function(){var t;return null===(t=this.lastSegment.array[0])||void 0===t?void 0:t[0]}},{key:"firstSubtopic",get:function(){return this.empty?null:this.pathArray[0][1]}},{key:"lastSubtopic",get:function(){return this.lastSegment.subtopic}},{key:"secondTopic",get:function(){return this.pathArray[1]&&this.pathArray[1][0]}},{key:"secondSubtopic",get:function(){return this.pathArray[1]&&this.pathArray[1][1]}},{key:"firstSegment",get:function(){return new this.constructor(this.pathArray.slice(0,1))}},{key:"lastSegment",get:function(){return new this.constructor(this.pathArray.slice(-1))}},{key:"withoutFirstSegment",get:function(){return new this.constructor(this.pathArray.slice(1))}},{key:"withoutLastSegment",get:function(){return new this.constructor(this.pathArray.slice(0,-1))}},{key:"isSingleTopic",get:function(){return 1===this.pathArray.length&&this.pathArray[0][0].mixedCase===this.pathArray[0][1].mixedCase}},{key:"parentPath",get:function(){var t,e;return null===(t=this.paragraph)||void 0===t||null===(e=t.parentParagraph)||void 0===e?void 0:e.path}},{key:"parentLink",get:function(){var t;return null===(t=this.paragraph)||void 0===t?void 0:t.parentLink}},{key:"nextLink",get:function(){var t,e;return(null===(t=this.paragraph)||void 0===t?void 0:t.firstLink)||(null===(e=this.paragraph)||void 0===e?void 0:e.parentLink)}},{key:"forEach",value:function(t){this.array.forEach(t)}},{key:"clone",value:function(){return new t(this.array.slice())}},{key:"cycle",get:function(){var t=this,e=null;return this.array.forEach((function(n,r){t.array.forEach((function(t,i){n[0].mixedCase===t[0].mixedCase&&r<i&&(e={start:r,end:i})}))})),e}},{key:"reduce",value:function(){var e=this.cycle;return e?new t([].concat(u(this.array.slice(0,e.start)),u(this.array.slice(e.end)))):this.clone()}},{key:"overlap",value:function(t){if(this.firstTopic.mixedCase!==t.firstTopic.mixedCase)return null;for(var e=t;!e.isSingleTopic;){if(this.includes(e))return e;if(!e.parentPath)throw new Error("Undefined parent path for ".concat(e));e=e.parentPath}return e}},{key:"subsetOf",value:function(t){return t.includes(this)&&!this.equals(t)}},{key:"intermediaryPaths",value:function(t){if(!this.overlap(t))return null;if(!this.subsetOf(t))return null;for(var e=[],n=t.clone();n&&!this.equals(n);)e.unshift(n),n=n.parentPath;return e.unshift(this),e}},{key:"siblingOf",value:function(t){return!(!this.parentPath||!t.parentPath)&&!this.equals(t)&&this.parentPath.equals(t.parentPath)}},{key:"childOf",value:function(t){var e;return null===(e=this.parentPath)||void 0===e?void 0:e.equals(t)}},{key:"parentOf",value:function(t){var e;return null===(e=t.parentPath)||void 0===e?void 0:e.equals(this)}},{key:"display",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=t&&t.newTab?window.open(location.origin+this.string,"_blank"):this.empty?console.error("Cannot display empty path"):(0,s.Z)(this,this.parentLink,t)}},{key:"selectALink",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.display({renderOnly:!0}).then((function(){return(t.paragraph.firstLink||t.paragraph.parentLink).select(e)}))}},{key:"addSegment",value:function(e,n){return this.empty?new t([[e,n]]):new t(this.array.concat([[e,n]]))}},{key:"append",value:function(e){return new t(this.string+"/"+e.string)}},{key:"replaceTerminalSubtopic",value:function(t){if(0===this.length)return this;var e=this.lastSegment;return this.withoutLastSegment.addSegment(e.firstTopic,t)}},{key:"toString",value:function(){return this.string}},{key:"rootTopicPath",get:function(){return this.length>0?new t([[this.firstTopic,this.firstTopic]]):this}},{key:"topicArray",get:function(){return this.array.map((function(t){var e=p(t,2),n=e[0];return e[1],n}))}},{key:"topicStringArray",get:function(){return this.array.map((function(t){var e=p(t,2),n=e[0];return e[1],n.mixedCase}))}},{key:"sectionElement",get:function(){return t.elementAtRelativePath(this,r.Dk)}},{key:"paragraph",get:function(){return this.sectionElement?new o.Z(this.sectionElement):null}},{key:"parentParagraph",get:function(){return this.paragraph.parentParagraph}},{key:"present",get:function(){return!!this.array[0]}},{key:"productionPathString",get:function(){var t="";return r.Jy&&(t+="/".concat(r.Jy)),r.Ui&&(t+="/#"),t+this.pathString}}],l=[{key:"stringToArray",value:function(e){if("string"!=typeof e)throw new Error("Function requires string argument");if("/"===e)return[];var n=e.split("/").filter((function(t){return""!==t})),r=(n=t.fixOrphanSubtopics(e,n)).map((function(t){var e=t.match(/([^#]*)(?:#([^#]*))?/);return[e[1]||e[2]||null,e[2]||e[1]||null]})).filter((function(t){return null!==t[0]}));return r.map((function(t){var e=p(t,2),n=e[0],r=e[1];return[c().fromEncodedSlug(n),c().fromEncodedSlug(r)]}))}},{key:"arrayToString",value:function(t){if(!Array.isArray(t))throw new Error("Argument must be array");if(Array.isArray(t)&&0===t.length)return"/";if(!Array.isArray(t[0]))throw new Error("Path array must be two-dimensional array");return"/"+t.map((function(t){var e=p(t,2),n=e[0],r=e[1],i=n.url;return r&&r.url!==n.url&&(i+="#"+r.url),i})).join("/")}},{key:"introducesNewCycle",value:function(t,e){if(e.reduce().length<e.length)return!0;var n=t.topicArray.map((function(t){return t.mixedCase})),r=e.topicArray.map((function(t){return t.mixedCase}));return n.some((function(n,i){return r.some((function(r,i){return n===r&&!t.equals(t.append(e).reduce())}))}))}},{key:"shouldAnimate",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.rendered)return!1;if(!e.paragraph)return!1;if(r.noScroll||r.noAnimate||r.initialLoad||r.noDisplay||"instant"===r.scrollStyle)return!1;var o=r.scrollToParagraph||!n?e.paragraph.paragraphElement:n.element,a=o.top-i.Z.focusGap,l=a-i.Z.currentScroll<-i.Z.focusGap,c=!(!t.rendered.overlap(e)||t.rendered.equals(e)||t.rendered.subsetOf(e)||t.rendered.siblingOf(e)||e.parentOf(t.rendered));return l||c}},{key:"default",get:function(){var e=c().for((0,r.R_)());return new t([[e,e]])}},{key:"root",get:function(){return t.url.rootTopicPath}},{key:"current",get:function(){return t.rendered||t.url}},{key:"rendered",get:function(){var t;return null===(t=o.Z.selection)||void 0===t?void 0:t.path}},{key:"focused",get:function(){i.Z.visibleHeight,i.Z.currentScroll,Array.from(document.querySelectorAll(".canopy-paragraph")).find((function(t){}))}},{key:"url",get:function(){var e=window.location.href.slice(window.location.origin.length);return r.Jy&&0===e.indexOf("/".concat(r.Jy))&&(e=e.slice(r.Jy.length+1)),0===e.indexOf("/#")&&(e=e.slice(2)),new t(e)}},{key:"initial",get:function(){return t.url.present&&a.Z.savedSelection?a.Z.savedSelection.previewPath:t.url.empty?t.default:t.url}},{key:"connectingLinkValid",value:function(e,n){if(!e)throw new Error("Parent element required");if(!(n instanceof t))throw new Error("pathToAppend must be a Path object");if(e===r.Dk)return!0;var i=new o.Z(e);return!!i.linkByChild(n.firstTopic)||(console.error("Parent element [".concat(i.topic.mixedCase,", ").concat(i.subtopic.mixedCase,"] has no ")+"connecting link to subsequent path segment [".concat(n.firstTopic.mixedCase,", ").concat(n.firstTopic.mixedCase,"]")),!1)}},{key:"elementAtRelativePath",value:function(e,n){if(!(e instanceof t))throw new Error("pathToDisplay must be a Path object");for(var i=n=n||r.Dk,o=e,a=Number(n.dataset.pathDepth||-1),l=0;l<e.length;l++){if(a+=1,!(i=i.querySelector(":scope > "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]')+(o.firstTopic.mixedCase!==o.firstSubtopic.mixedCase?" "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]'):""))))return null;o=o.withoutFirstSegment}return i||console.log("element at relative path",e,n,i),i}},{key:"setPath",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(e instanceof t))throw new Error("newPath must be Path object");var r=t.url,i=e.lastTopic.mixedCase,o=!t.url.empty&&!e.equals(r)||n.pushHistoryState?c:l,a=e.productionPathString;function l(t,e,n){history.replaceState(t,e,n)}function c(t,e,n){history.pushState(t,e,n)}o(history.state,i,a)}},{key:"fixOrphanSubtopics",value:function(t,e){if("string"!=typeof t)throw new Error("pathString must be a string argument");if(!Array.isArray(e))throw new Error("slashSeparatedUnits must be an array");if(t.match(/\/#\w+/))for(var n=1;n<e.length;n++)if(e[n].match(/^#/)){if(e[n-1].match(/#/)){var r=e[n].slice(1);return e.slice(0,n).concat([r]).concat(e.slice(n+1))}var i=e[n-1]+e[n];return e.slice(0,n-1).concat([i]).concat(e.slice(n+1))}return e}},{key:"validatePathArray",value:function(t){t.forEach((function(t){if(2!==t.length)throw new Error("Invalid path segment format: ".concat(t));if(!(t[0]instanceof c()&&t[1]instanceof c()))throw new Error("Invalid path segment format: ".concat(JSON.stringify(t)))}))}},{key:"forTopic",value:function(t){return new this([[t,t]])}},{key:"forSegment",value:function(t,e){if(!(t instanceof c()&&e instanceof c()))throw new Error("Argument must be of type Topic");return new this([[t,e]])}},{key:"for",value:function(t){return new this(t)}},{key:"from",value:function(t){return new this(t)}}],n&&f(e.prototype,n),l&&f(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},3658:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var r=n(3216),i=n(1242),o=(n(6204),n(7366)),a=n(3911),l=n.n(a),c=n(5662);const s=function t(e,n,r){var o=r.paragraphsBySubtopic,a=function(t,e,n){var r=n.displayTopicName,i=n.pathDepth,o=n.paragraphsBySubtopic,a=document.createElement("section");a.classList.add("canopy-section");var l=document.createElement("p");l.classList.add("canopy-paragraph"),a.appendChild(l),a.style.display="none",a.style.opacity="0",a.dataset.displayTopicName=r,a.dataset.topicName=t.mixedCase,a.topicName=t.mixedCase,a.dataset.subtopicName=e.mixedCase,a.subtopicName=e.mixedCase,a.dataset.pathDepth=i;var c=o[t.mixedCase];return t.mixedCase===e.mixedCase&&(i>0&&c.length>0&&a.prepend(document.createElement("hr")),a.classList.add("canopy-topic-section")),a}(e,n,r),s=new i.Z(a);r.localLinkSubtreeCallback=function(e,n,r){return function(i){var o=r.fullPath,a=r.remainingPath,c=(r.currentTopic,l().fromMixedCase(i.targetSubtopic)),s=o.slice(0,o.length-a.length).addSegment(e,c),p=t(e,l().fromMixedCase(i.targetSubtopic),Object.assign({pathToParagaph:s},r));n.appendChild(p)}}(e,a,r);var p=o[n.mixedCase];if(!p)throw new Error("Paragraph with subtopic not found: ".concat(n.mixedCase));return r.currentTopic=e,r.currentSubtopic=n,p.forEach((function(t){var e=(0,c.Z)(t,r);s.paragraphElement.appendChild(e)})),a};var p=n(4178);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,l=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(t){l=!0,i=t}finally{try{a||null==n.return||n.return()}finally{if(l)throw i}}return o}}(t,e)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(5286);const d=function t(e,n,i){if(0===n.length)return Promise.resolve(i);if(i instanceof HTMLElement){var a=o.Z.elementAtRelativePath(n.firstSegment,i);if(a)return t(e,n.withoutFirstSegment,a);i=Promise.resolve(i)}var h=(0,r.Z)(n.firstTopic).then((function(t){var r=t.paragraphsBySubtopic,i=t.displayTopicName,o=t.topicTokens;return e.equals(n)&&p.Dk.prepend(function(t,e){var n=new(l())(e),r=document.querySelector('h1[data-topic-name="'.concat(n.cssMixedCase,'"]'));if(r)return r;var i=document.createElement("h1");return i.dataset.topicName=n.mixedCase,i.style.display="none",t.forEach((function(t){var e=(0,c.Z)(t);i.appendChild(e)})),i}(o,i)),s(n.firstTopic,n.firstTopic,{remainingPath:n,displayTopicName:i,paragraphsBySubtopic:r,fullPath:e,pathToParagraph:e.slice(0,e.length-n.length+1),pathDepth:e.length-n.length})})).catch((function(t){return null})),d=Promise.all([i,h]).then((function(t){var e=u(t,2),r=e[0],i=e[1];return r&&i&&o.Z.connectingLinkValid(r,n)?void r.appendChild(i):Promise.resolve()})),f=h.then((function(t){return t?t.querySelector('section[data-subtopic-name="'.concat(n.firstSubtopic.cssMixedCase,'"]'))||t:null})),y=t(e,n.withoutFirstSegment,f);return Promise.all([h,i,y,d]).then((function(t){return u(t,1)[0]}))}},5662:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A}),n(6240);var r=n(7366),i=n(6204);function o(t){return function(e){e.preventDefault();var n,i=e.metaKey||e.ctrlKey,o=(e.altKey,e.shiftKey),a=t.cycle&&!o;return i||e.altKey||!t.isSelected||t.isClosedCycle||t.isPathReference?(i||e.altKey||!t.isOpen||t.isClosedCycle||t.isPathReference)&&(i||e.altKey||!t.isOffScreen||t.isClosedCycle)?t.execute({newTab:i,redirect:e.altKey,inlineCycles:e.shiftKey,scrollDirect:!0,scrollToParagraph:!(null!=t&&t.isBackCycle),selectALink:!1,pushHistoryState:!0,noAnimate:!a}):t.select({scrollDirect:!0,noAnimate:!0}):(null===(n=t.parentLink)||void 0===n?void 0:n.select({scrollDirect:!0,noAnimate:!0}))||r.Z.root.display({scrollDirect:!0,noAnimate:!0})}}n(1242);var a=n(3911),l=n.n(a),c=n(4178),s=n(5286),p=n(2769),u=n(3216);function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e){if("text"===t.type)return function(t){var e=document.createElement("SPAN");return e.innerText=t.text,e}(t);if("local"===t.type)return e.localLinkSubtreeCallback(t),function(t,e){var n=document.createElement("a");n.classList.add("canopy-selectable-link"),n.dataset.targetTopic=t.targetTopic,n.targetTopic=t.targetTopic,n.dataset.targetSubtopic=t.targetSubtopic,n.targetSubtopic=t.targetSubtopic,n.dataset.enclosingTopic=t.enclosingTopic,n.dataset.enclosingSubtopic=t.enclosingSubtopic,n.dataset.text=t.text,t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)}));var r=o(new i.Z(n));n.addEventListener("click",r),n._CanopyClickHandler=r,n.classList.add("canopy-local-link"),n.dataset.type="local";var a=new(l())(t.targetTopic),s=new(l())(t.targetSubtopic);return n.href="".concat(c.Jy?"/"+c.Jy:"").concat(c.Ui?"/#":"","/").concat(a.url,"#").concat(s.url),n}(t,e);if("global"===t.type)return(0,u.Z)(r.Z.for(t.pathString).firstTopic),function(t,e){e.fullPath,e.remainingPath,e.currentTopic,e.currentSubtopic;var n=document.createElement("a");t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n.classList.add("canopy-global-link"),n.classList.add("canopy-selectable-link"),n.dataset.type="global",n.dataset.pathString=r.Z.for(t.pathString).string,n.path=t.path,n.dataset.enclosingTopic=t.enclosingTopic,n.dataset.enclosingSubtopic=t.enclosingSubtopic,n.dataset.text=t.text,n.href=r.Z.for(t.pathString).productionPathString;var a=new i.Z(n);return n.addEventListener("click",o(a)),setTimeout((function t(){a.isInDom||setTimeout(t),a.isBackCycle?n.classList.add("canopy-back-cycle-link"):a.isLateralCycle?n.classList.add("canopy-lateral-cycle-link"):a.isPathReference&&n.classList.add("canopy-path-reference")})),n}(t,e);if("import"===t.type)return renderImportLink(t,e);if("external"===t.type)return function(t,e){var n=document.createElement("A");return n.classList.add("canopy-external-link"),n.classList.add("canopy-selectable-link"),n.dataset.type="external",n.dataset.text=t.text,n.setAttribute("href",t.url.match(/^https?:\/\//)?t.url:"http://"+t.url),n.setAttribute("target","_blank"),setTimeout((function(){n.querySelector("img")&&n.classList.add("canopy-linked-image")})),t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n}(t,e);if("image"===t.type)return function(t,e){var n=document.createElement("DIV");n.classList.add("canopy-image");var r=document.createElement("IMG");if(r.setAttribute("src",t.resourceUrl),r.setAttribute("decoding","async"),n.appendChild(r),t.title&&r.setAttribute("title",t.title),t.caption){var i=document.createElement("SPAN");i.classList.add("canopy-image-caption"),n.appendChild(i),t.tokens.forEach((function(t){var n=d(t,e);i.appendChild(n)}))}return t.altText&&r.setAttribute("alt",t.altText),f(r,e),n}(t,e);if("html_element"===t.type)return function(t,e){var n,r=document.createElement("DIV"),i=document.createRange().createContextualFragment(t.html);return r.appendChild(i),r.classList.add("canopy-raw-html"),(n=r.querySelectorAll("img"),function(t){if(Array.isArray(t))return h(t)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).forEach((function(t){f(t,e)})),r}(t,e);if("footnote_marker"===t.type)return function(t){var e=document.createElement("SUP"),n=document.createTextNode(t.text);return e.appendChild(n),e}(t);if("code_block"===t.type)return function(t){var e=document.createElement("PRE"),n=document.createElement("CODE");return e.appendChild(n),n.innerText=t.text,e}(t);if("block_quote"===t.type)return function(t,e){var n=document.createElement("BLOCKQUOTE");return n.setAttribute("dir",t.direction),t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n}(t,e);if("outline"===t.type)return y(t.topLevelNodes,e);if("table"===t.type)return function(t,e){var n=document.createElement("TABLE");return n.setAttribute("dir","instant"),t.rtl&&n.setAttribute("dir","rtl"),t.rows.forEach((function(r){var i=document.createElement("TR");t.rtl&&i.setAttribute("dir","rtl"),r.forEach((function(t){var n=document.createElement("TD");t.hidden&&n.classList.add("hidden"),t.tokens.forEach((function(r){var i=d(r,e);t.colspan&&n.setAttribute("colspan",t.colspan),t.rowspan&&n.setAttribute("rowspan",t.rowspan),1===t.tokens.length&&"A"===i.tagName&&(n.classList.add("canopy-table-link-cell"),i.classList.add("canopy-table-link"),n.addEventListener("click",i._CanopyClickHandler),i.removeEventListener("click",i._CanopyClickHandler)),n.appendChild(i)})),t.merge||i.appendChild(n)})),n.appendChild(i)})),n}(t,e);if("table_list"===t.type)return function(t,e){var n=document.createElement("DIV");n.classList.add("canopy-table-list"),t.rtl&&(n.dir="rtl"),"right"===t.alignment&&n.classList.add("canopy-align-right"),"left"===t.alignment&&n.classList.add("canopy-align-left");var r=["quarter-pill","third-pill","half-pill","quarter-card","third-card","half-tube","half-card"],i=0,o=t.items.map((function(t,n){var r=document.createElement("DIV");r.classList.add("canopy-table-list-cell");var i=document.createElement("DIV");i.classList.add("canopy-table-list-content-container"),t.hidden&&(r.style.opacity="0");var o=d(t.tokens[0],e);if(1===t.tokens.length&&"A"===o.tagName){for(o.classList.add("canopy-table-list-cell"),o.classList.add("canopy-table-list-link-cell");o.firstChild;)i.appendChild(o.firstChild);(r=o).appendChild(i)}else t.tokens.forEach((function(t){o=d(t,e),i.appendChild(o)})),r.appendChild(i);if(t.list){var a=document.createElement("SPAN");a.classList.add("canopy-table-list-ordinal"),a.innerHTML=t.ordinal+".&nbsp;",i.prepend(a),r.classList.add("canopy-table-list-ordinal-cell")}return r})),a=document.createElement("p");a.classList.add("canopy-paragraph");var l=document.createElement("section");l.classList.add("canopy-section");var s,p=m();c.Dk.appendChild(l),l.appendChild(a),a.appendChild(n),n.appendChild(p);for(var u=0;u<o.length;u++){var h=o[u];for(p.appendChild(h),h.style.overflow="scroll";;){2===i&&t.items.length>2&&(i=3),t.items.length<3&&!t.alignment&&i<2&&(i=2),n.classList.add("canopy-".concat(r[i]));var f=h.clientWidth-parseFloat(window.getComputedStyle(h).paddingLeft)-parseFloat(window.getComputedStyle(h).paddingRight),y=h.clientHeight-parseFloat(window.getComputedStyle(h).paddingTop)-parseFloat(window.getComputedStyle(h).paddingBottom),A=h.firstChild.scrollWidth-2*parseFloat(window.getComputedStyle(h).borderWidth),g=h.firstChild.scrollHeight-2*parseFloat(window.getComputedStyle(h).borderWidth);if(!(A>f||g>y))break;if(i>=r.length-1)break;n.classList.remove("canopy-".concat(r[i])),i++,u=0}}function m(){var e=document.createElement("DIV");return e.classList.add("canopy-table-list-row"),t.rtl&&(e.dir="rtl"),n.appendChild(e),e}a.remove(),p.remove(),l.remove(),n.classList.add("canopy-".concat(r[i])),r[i].includes("half")&&(s=2),r[i].includes("third")&&(s=3),r[i].includes("quarter")&&(s=4);for(var b=m(),v=0;v<o.length;v++)b.appendChild(o[v]),(v+1)%s==0&&v+1!==o.length&&(b=m());if(n.childNodes.length>1)for(var C=o.length%s,k=C>0?s-C:0,w=0;w<k;w++){var x=document.createElement("DIV");x.classList.add("canopy-table-list-cell"),x.style.opacity="0",b.appendChild(x)}return n}(t,e);if("footnote_lines"===t.type)return function(t,e){var n=document.createElement("DIV"),r=document.createElement("HR");return r.classList.add("canopy-footnote-rule"),n.appendChild(r),t.lines.forEach((function(t){var r=document.createElement("SPAN");r.classList.add("canopy-footnote-span");var i=document.createTextNode(t.superscript+". ");r.appendChild(i),t.tokens.forEach((function(t){var n=d(t,e);r.appendChild(n)})),n.appendChild(r)})),n}(t,e);if("bold"===t.type)return function(t,e){var n=document.createElement("B");return t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n}(t,e);if("strikethrough"===t.type)return function(t,e){var n=document.createElement("S");return t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n}(t,e);if("italics"===t.type)return function(t,e){var n=document.createElement("I");return t.tokens.forEach((function(t){var r=d(t,e);n.appendChild(r)})),n}(t,e);if("inline_code"===t.type)return function(t,e){var n=document.createElement("CODE");return n.innerText=t.text,n}(t);throw"Unhandled token type: ".concat(t.type)}function f(t,e){var n=t.style.height,i=t.style.opacity;t.style.setProperty("height","500px"),t.style.setProperty("opacity","0"),setTimeout((function(){t.complete||(t.closest(".canopy-image")||t).style.setProperty("background-color","#f5f5f5")}),200),t.addEventListener("load",(function(){((0,p._8)()||Promise.resolve()).then((function(){var o,a=s.Z.focusedElement,l=a.getBoundingClientRect().bottom;t.style.setProperty("height",n),t.style.setProperty("opacity",i),null===(o=t.closest(".canopy-image"))||void 0===o||o.style.setProperty("background-color","transparent");var c=a.getBoundingClientRect().bottom-l,u=(s.Z.currentScroll,s.Z.currentScroll+c),h=e.pathToParagraph;r.Z.current.includes(h)&&(0,p.hv)({top:u,behavior:"instant"})}))}))}function y(t,e){var n=t[0].ordered?document.createElement("OL"):document.createElement("UL");return t[0].ordered&&n.setAttribute("type",t[0].ordinal),t.forEach((function(t){var r=document.createElement("LI");if(t.tokensOfLine.forEach((function(t){var n=d(t,e);r.appendChild(n)})),t.children.length>0){var i=y(t.children);r.appendChild(i)}n.appendChild(r)})),n}const A=d},7130:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});const r={}},3216:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var r=n(4178),i=(n(3911),n(6240),n(7130));function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(7366);const a=function(t){if(i.Z[t.mixedCase])return i.Z[t.mixedCase];var e=(r.Jy?"/"+r.Jy:"")+"/_data/"+t.requestFileName+".json",n=fetch(e).then((function(t){return t.json().then((function(t){return function(t){var e,n=JSON.stringify(t);r.Dk.imagePreloadArray=r.Dk.imagePreloadArray||[],(e=n.matchAll(/<img\s[^>]*?src=\\?["']([^"']+?)\\?["']|resourceUrl": ?"([^"]+)/g),function(t){if(Array.isArray(t))return o(t)}(e)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(t){return t[1]||t[2]})).forEach((function(t){var e=new Image;e.src=t,r.Dk.imagePreloadArray.push(e)}))}(t),t}))})).catch((function(){return i.Z[t.mixedCase]=void 0,Promise.reject(new Error('Unable to find topic file: "'.concat(t.requestFileName,'"')))}));return i.Z[t.mixedCase]=n,n}},3570:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(7537),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([t.id,'#_canopy{margin-top:20px;overflow-anchor:none;padding-bottom:100vh;min-height:110vh;font-family:"Times New Roman",Times,serif}#_canopy h1{text-align:center;margin:auto;margin-top:10px}#_canopy hr{width:120px;display:block;height:1px;border:0;border-top:5px solid #ccc;margin:0px auto}#_canopy h1+section.canopy-topic-section{margin-top:20px}#_canopy section.canopy-topic-section{margin-top:35px}#_canopy section{margin-top:35px}#_canopy p{overflow:visible;font-size:21px;max-width:750px;margin:auto;line-height:1.3;letter-spacing:-0.003em;font-weight:400;position:relative}#_canopy .canopy-topic-section hr+p{margin-top:24px}#_canopy a.canopy-selectable-link{text-decoration:underline #ddd;color:#000;cursor:pointer}#_canopy a.canopy-selectable-link:focus{outline:0}#_canopy a.canopy-selectable-link.canopy-open-link{text-decoration:underline;background-color:#f3f3f3}#_canopy a.canopy-selectable-link:hover{text-decoration:underline #000}#_canopy a.canopy-selectable-link.canopy-selected-link{background-color:#edeefc;text-shadow:0px 0px 0px #000;text-decoration:none}#_canopy a.canopy-selectable-link.canopy-external-link,#_canopy a.canopy-selectable-link.canopy-back-cycle-link,#_canopy a.canopy-selectable-link.canopy-lateral-cycle-link,#_canopy a.canopy-selectable-link.canopy-path-reference{display:inline;white-space:normal;margin-right:1px;padding-right:4px}#_canopy a.canopy-selectable-link.canopy-external-link:not(.canopy-table-list-link-cell) *:last-child::after,#_canopy a.canopy-selectable-link.canopy-back-cycle-link:not(.canopy-table-list-link-cell) *:last-child::after,#_canopy a.canopy-selectable-link.canopy-lateral-cycle-link:not(.canopy-table-list-link-cell) *:last-child::after,#_canopy a.canopy-selectable-link.canopy-path-reference:not(.canopy-table-list-link-cell) *:last-child::after{content:" ";font-size:3px;white-space:nowrap}#_canopy a.canopy-selectable-link.canopy-external-link:not(.canopy-table-list-link-cell)::after,#_canopy a.canopy-selectable-link.canopy-back-cycle-link:not(.canopy-table-list-link-cell)::after,#_canopy a.canopy-selectable-link.canopy-lateral-cycle-link:not(.canopy-table-list-link-cell)::after,#_canopy a.canopy-selectable-link.canopy-path-reference:not(.canopy-table-list-link-cell)::after{font-size:9px;white-space:nowrap;position:relative;margin-right:-3px}#_canopy a.canopy-selectable-link.canopy-external-link:not(.canopy-table-list-link-cell):not(.canopy-linked-image)::after{content:"➹";top:2px;left:1px}#_canopy a.canopy-selectable-link.canopy-path-reference:not(.canopy-table-list-link-cell)::after{content:"⇲";top:1px;left:1.5px}#_canopy a.canopy-selectable-link.canopy-back-cycle-link:not(.canopy-table-list-link-cell)::after{content:"↩";top:2px;left:0px}#_canopy a.canopy-selectable-link.canopy-lateral-cycle-link:not(.canopy-table-list-link-cell)::after{content:"↪";top:2px;left:0px}#_canopy span.canopy-text-span{display:block}#_canopy hr.canopy-footnote-rule{width:750px;display:block;height:1px;border:0;border-top:1px solid #ccc;margin:12px 0;padding:0}#_canopy sup{font-size:60%;padding:2px}#_canopy .canopy-footnote-span{font-size:80%;display:block}#_canopy .canopy-footnote-span span{margin-left:2px}#_canopy .canopy-footnote-span:not(:last-child){padding-bottom:7px}#_canopy blockquote{padding:0 .7em;color:#565e67;margin-block-start:.5em;margin-block-end:.5em;margin-inline-start:0px;margin-inline-end:0px}#_canopy blockquote a,#_canopy blockquote a.canopy-selectable-link{color:#565e67}#_canopy blockquote[dir=rtl]{border-right:.25em solid #d3d3d3;margin-right:10px}#_canopy blockquote[dir=ltr]{border-left:.25em solid #d3d3d3;margin-left:10px}#_canopy blockquote a.canopy-selectable-link{text-decoration:underline #d3d3d3}#_canopy pre{margin:10px 10px;background-color:#eff0f1;padding:5px;font-size:85%}#_canopy code{background-color:#eff0f1;font-size:90%}#_canopy table{margin:21px auto auto auto;table-layout:auto;max-width:90%;border-collapse:collapse;border:none;font-size:18px;min-width:500px;table-layout:fixed}#_canopy table:not(:last-child){margin-bottom:21px}#_canopy table td,#_canopy table th{border:1px solid #000;text-align:center;padding:10px}#_canopy table td.hidden,#_canopy table th.hidden{display:none}#_canopy table td br,#_canopy table th br{display:block;content:"";padding-bottom:2px}#_canopy table td.canopy-table-link-cell{cursor:pointer}#_canopy table td.canopy-table-link-cell a.canopy-selectable-link{text-decoration:none;text-shadow:none}#_canopy table td.canopy-table-link-cell:has(.canopy-selected-link){background-color:#edeefc}#_canopy table td.canopy-table-link-cell:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f3f3f3}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)),#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f5f6fe}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)) .canopy-selected-link,#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) .canopy-selected-link{background-color:#f5f6fe}#_canopy .canopy-table-list{display:flex;flex-direction:column;align-items:center;margin:0 auto}#_canopy .canopy-table-list .canopy-table-list-row{display:flex;justify-content:flex-start}#_canopy .canopy-table-list.canopy-align-right{width:90%;align-items:flex-end}#_canopy .canopy-table-list.canopy-align-right .canopy-table-list-row{justify-content:flex-end}#_canopy .canopy-table-list.canopy-align-left{width:90%;align-items:flex-start}#_canopy .canopy-table-list .canopy-table-list-cell{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;margin:5px;border:1px solid #000;border-radius:0px;box-sizing:border-box;background-color:#fff;padding:10px;text-align:center;align-self:stretch;white-space:normal}#_canopy .canopy-table-list .canopy-table-list-cell .canopy-table-list-content-container{display:inline;max-width:100%;max-height:100%}#_canopy .canopy-table-list .canopy-table-list-cell br{display:block;content:"";padding-bottom:2px}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell{cursor:pointer;border:1.5px solid #000;border-radius:5px;display:flex;justify-content:center;align-items:center}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-selectable-link{text-decoration:none;text-shadow:none}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-selected-link{background-color:#edeefc}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-open-link:not(.canopy-selected-link){background-color:#f3f3f3}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell:hover:not(.canopy-selected-link),#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell:hover.canopy-open-link:not(.canopy-selected-link){background-color:#f5f6fe}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell:hover:not(.canopy-selected-link) .canopy-selected-link,#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell:hover.canopy-open-link:not(.canopy-selected-link) .canopy-selected-link{background-color:#f5f6fe}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell .canopy-table-list-content-container::after{font-size:11px;margin-left:-5px;position:relative;top:5px;left:5px;white-space:nowrap}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-external-link{margin:5px}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-external-link.canopy-selectable-link *{text-decoration:none}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-external-link .canopy-table-list-content-container::after{content:" ➹";top:3px}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-back-cycle-link .canopy-table-list-content-container::after{content:" ↩"}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-lateral-cycle-link .canopy-table-list-content-container::after{content:" ↪"}#_canopy .canopy-table-list .canopy-table-list-link-cell.canopy-table-list-cell.canopy-path-reference .canopy-table-list-content-container::after{content:" ⇲";left:6px;top:2px}#_canopy .canopy-table-list.canopy-quarter-pill .canopy-table-list-cell{width:175px;padding:9px;height:50px}#_canopy .canopy-table-list.canopy-third-pill .canopy-table-list-cell{width:220px;padding:9px;height:50px}#_canopy .canopy-table-list.canopy-half-pill .canopy-table-list-cell{width:270px;padding:9px;height:50px}#_canopy .canopy-table-list.canopy-quarter-card .canopy-table-list-cell{width:175px;height:95px;padding:15px}#_canopy .canopy-table-list.canopy-third-card .canopy-table-list-cell{width:215px;height:120px;padding:15px}#_canopy .canopy-table-list.canopy-half-tube .canopy-table-list-cell{width:285px;height:160px;padding:30px}#_canopy .canopy-table-list.canopy-half-card .canopy-table-list-cell{width:285px;height:265px;min-height:160px;padding:30px}#_canopy .canopy-table-list:not(:first-child){margin-top:15px}#_canopy .canopy-table-list:not(:last-child){margin-bottom:15px}#_canopy .canopy-image{display:block;object-fit:cover;margin-top:15px}#_canopy .canopy-image:not(:last-child){margin-bottom:15px}#_canopy .canopy-image a{margin:0 auto;display:block}#_canopy .canopy-image img{display:block;width:100%;margin:0 auto}#_canopy .canopy-image span.canopy-image-caption{margin:0px auto;width:100%;padding:6px 6px;text-align:left;display:block;font-size:16px;line-height:18px;color:#595959;background-color:#fff}#_canopy .canopy-image span.canopy-image-caption a{color:#595959}#_canopy .canopy-image span.canopy-image-caption span{display:inline}#_canopy div.canopy-image-div{float:right;border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center;overflow:hidden;margin:10px}#_canopy .canopy-open-link .canopy-image,#_canopy .canopy-selected-link .canopy-image{position:relative}#_canopy .canopy-selected-link .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(130,150,250,.3);pointer-events:none}#_canopy .canopy-open-link:not(.canopy-selected-link) .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(128,128,128,.2);pointer-events:none}#_canopy div.canopy-image-div>sup{display:block}#_canopy ol,#_canopy ul{margin-top:15px;margin-left:10px;margin-right:10px;margin-bottom:0px}#_canopy ol:not(:last-child),#_canopy ul:not(:last-child){margin-bottom:15px}#_canopy ol li:not(:last-child),#_canopy ul li:not(:last-child){margin-bottom:10px}#_canopy div.canopy-raw-html{display:inline}',"",{version:3,sources:["webpack://./client/style/canopy.scss"],names:[],mappings:"AAAA,SAAA,eACE,CAAA,oBACA,CAAA,oBAOA,CAAA,gBACA,CAAA,yCAEA,CAAA,YAEA,iBACE,CAAA,WACA,CAAA,eACA,CAAA,YAGF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,eACA,CAAA,yCAGF,eACE,CAAA,sCAGF,eACE,CAAA,iBAGF,eACE,CAAA,WAGF,gBACE,CAAA,cACA,CAAA,eACA,CAAA,WACA,CAAA,eAEA,CAAA,uBACA,CAAA,eACA,CAAA,iBAEA,CAAA,oCAGF,eACE,CAAA,kCAKF,8BACE,CAAA,UACA,CAAA,cACA,CAAA,wCAEA,SACE,CAAA,mDAGF,yBAEE,CAAA,wBACA,CAAA,wCAGF,8BACE,CAAA,uDAGF,wBACE,CAAA,4BACA,CAAA,oBACA,CAAA,oOAGF,cACE,CAAA,kBACA,CAAA,gBACA,CAAA,iBACA,CAAA,4bAEA,WACE,CAAA,aACA,CAAA,kBACA,CAAA,wYAGF,aACE,CAAA,kBACA,CAAA,iBACA,CAAA,iBACA,CAAA,0HAIJ,WACE,CAAA,OACA,CAAA,QACA,CAAA,iGAGF,WACE,CAAA,OACA,CAAA,UACA,CAAA,kGAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,qGAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,+BAMJ,aACE,CAAA,iCAGF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,aACA,CAAA,SACA,CAAA,aAGF,aACE,CAAA,WACA,CAAA,+BAGF,aACE,CAAA,aACA,CAAA,oCACA,eACE,CAAA,gDAEF,kBACE,CAAA,oBAIJ,cACE,CAAA,aACA,CAAA,uBAgBA,CAAA,qBACA,CAAA,uBACA,CAAA,qBACA,CAAA,mEAjBA,aACE,CAAA,6BAGF,gCACE,CAAA,iBACA,CAAA,6BAGF,+BACE,CAAA,gBACA,CAAA,6CAQF,iCACE,CAAA,aAIJ,gBACE,CAAA,wBACA,CAAA,WACA,CAAA,aACA,CAAA,cAGF,wBACE,CAAA,aACA,CAAA,eAGF,0BACE,CAAA,iBACA,CAAA,aACA,CAAA,wBACA,CAAA,WACA,CAAA,cACA,CAAA,eACA,CAAA,kBACA,CAAA,gCAEA,kBACE,CAAA,oCAGF,qBACE,CAAA,iBACA,CAAA,YACA,CAAA,kDAIA,YACE,CAAA,0CAGF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,yCAIJ,cACE,CAAA,kEAEA,oBACE,CAAA,gBACA,CAAA,oEAGF,wBACE,CAAA,iGAGF,wBACE,CAAA,uLAGF,wBAEE,CAAA,mOAEA,wBACI,CAAA,4BAMV,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,aACA,CAAA,mDAEA,YACE,CAAA,0BACA,CAAA,+CAGF,SACE,CAAA,oBACA,CAAA,sEACA,wBACE,CAAA,8CAIJ,SACE,CAAA,sBACA,CAAA,oDAGF,YACE,CAAA,kBACA,CAAA,cACA,CAAA,sBACA,CAAA,kBACA,CAAA,UACA,CAAA,qBACA,CAAA,iBACA,CAAA,qBACA,CAAA,qBACA,CAAA,YACA,CAAA,iBACA,CAAA,kBACA,CAAA,kBACA,CAAA,yFAEA,cACE,CAAA,cACA,CAAA,eACA,CAAA,uDAOF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,gFAIJ,cACE,CAAA,uBACA,CAAA,iBACA,CAAA,YACA,CAAA,sBACA,CAAA,kBACA,CAAA,uGAEA,oBACE,CAAA,gBACA,CAAA,qGAGF,wBACE,CAAA,4HAGF,wBACE,CAAA,mPAGF,wBAEE,CAAA,+RAEA,wBACI,CAAA,4HAIN,cACE,CAAA,gBACA,CAAA,iBACA,CAAA,OACA,CAAA,QACA,CAAA,kBACA,CAAA,qGAGF,UACE,CAAA,8HAEA,oBACE,CAAA,iJAGF,YACE,CAAA,OACA,CAAA,mJAIJ,YACE,CAAA,sJAGF,YACE,CAAA,kJAGF,YACE,CAAA,QACA,CAAA,OACA,CAAA,wEAIJ,WACE,CAAA,WACA,CAAA,WACA,CAAA,sEAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,qEAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,wEAGF,WACE,CAAA,WACA,CAAA,YACA,CAAA,sEAGF,WACE,CAAA,YACA,CAAA,YACA,CAAA,qEAGF,WACE,CAAA,YACA,CAAA,YACA,CAAA,qEAGF,WACE,CAAA,YACA,CAAA,gBACA,CAAA,YACA,CAAA,8CAGF,eACE,CAAA,6CAGF,kBACE,CAAA,uBAIJ,aACE,CAAA,gBACA,CAAA,eAMA,CAAA,wCAJA,kBACE,CAAA,yBAKF,aACE,CAAA,aACA,CAAA,2BAGF,aACE,CAAA,UACA,CAAA,aACA,CAAA,iDAGF,eACE,CAAA,UACA,CAAA,eACA,CAAA,eACA,CAAA,aACA,CAAA,cACA,CAAA,gBACA,CAAA,aACA,CAAA,qBACA,CAAA,mDAEA,aACE,CAAA,sDAGF,cACE,CAAA,8BAKN,WACE,CAAA,wBACA,CAAA,WACA,CAAA,wBACA,CAAA,aACA,CAAA,iBACA,CAAA,eACA,CAAA,WACA,CAAA,sFAGF,iBACE,CAAA,oDAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,2EAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,kCAGF,aACE,CAAA,wBAGF,eACE,CAAA,gBACA,CAAA,iBACA,CAAA,iBACA,CAAA,0DAEA,kBACE,CAAA,gEAGF,kBACE,CAAA,6BAIJ,cACE",sourcesContent:["#_canopy {\n  margin-top: 20px;\n  overflow-anchor: none; // Prevent browser from trying to maintain position when page contents change, which might interfere with window.scrollTo\n\n  /* Removing DOM elements from the bottom of the screen can force the page to scroll upward to the existing elements\n  which is not animated. If we keep a padding on the bottom of the last element just beyond the viewport, then\n  removal of elements from the bottom of the visible stack never brings the real bottom of the page into view, and so\n  the scroll upwards can be animated using the window.scrollTo method. */\n\n  padding-bottom: calc(100vh);\n  min-height: calc(110vh); // to avoid scroll bar appearing when page length changes for small content that doesn't need scrolling\n\n  font-family: \"Times New Roman\", Times, serif;\n\n  h1 {\n    text-align: center;\n    margin: auto;\n    margin-top: 10px;\n  }\n\n  hr {\n    width: 120px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 5px solid #ccc;\n    margin: 0px auto;\n  }\n\n  h1 + section.canopy-topic-section {\n    margin-top: 20px;\n  }\n\n  section.canopy-topic-section {\n    margin-top: 35px;\n  }\n\n  section {\n    margin-top: 35px;\n  }\n\n  p {\n    overflow: visible; // In case external link icon is at end of line\n    font-size: 21px;\n    max-width: 750px;\n    margin: auto;\n\n    line-height: 1.3;\n    letter-spacing: -.003em;\n    font-weight: 400;\n\n    position: relative; // to allow absolute children\n  }\n\n  .canopy-topic-section hr + p {\n    margin-top: 24px; // 25px minus 1px bar thickness\n  }\n\n///////////// Link styles /////////////////\n\n  a.canopy-selectable-link {\n    text-decoration: underline #DDDDDD;\n    color: black;\n    cursor: pointer;\n\n    &:focus {\n      outline:0;\n    }\n\n    &.canopy-open-link {\n      // text-shadow: .8px 0px 0px #000000;\n      text-decoration: underline;\n      background-color: #F3F3F3;\n    }\n\n    &:hover {\n      text-decoration: underline #000000;\n    }\n\n    &.canopy-selected-link {\n      background-color: #edeefc;\n      text-shadow: 0px 0px 0px #000000;\n      text-decoration: none;\n    }\n\n    &.canopy-external-link, &.canopy-back-cycle-link, &.canopy-lateral-cycle-link, &.canopy-path-reference {\n      display: inline;\n      white-space: normal;\n      margin-right: 1px; // combined with negative margin on the ::after block to prevent following punctuation from wrapping\n      padding-right: 4px;\n\n      &:not(.canopy-table-list-link-cell) *:last-child::after {\n        content: ' ';\n        font-size: 3px;\n        white-space: nowrap;\n      }\n\n      &:not(.canopy-table-list-link-cell)::after {\n        font-size: 9px;\n        white-space: nowrap;\n        position: relative;\n        margin-right: -3px;\n      }\n    }\n\n    &.canopy-external-link:not(.canopy-table-list-link-cell):not(.canopy-linked-image)::after {\n      content: '➹';\n      top: 2px;\n      left: 1px;\n    }\n\n    &.canopy-path-reference:not(.canopy-table-list-link-cell)::after {\n      content: '⇲';\n      top: 1px;\n      left: 1.5px;\n    }\n\n    &.canopy-back-cycle-link:not(.canopy-table-list-link-cell)::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↩';\n      top: 2px;\n      left: 0px;\n    }\n\n    &.canopy-lateral-cycle-link:not(.canopy-table-list-link-cell)::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↪';\n      top: 2px;\n      left: 0px;\n    }\n  }\n\n/////////////////////////////////////////////\n\n  span.canopy-text-span {\n    display: block;\n  }\n\n  hr.canopy-footnote-rule {\n    width: 750px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid #ccc;\n    margin: 12px 0;\n    padding: 0;\n  }\n\n  sup {\n    font-size: 60%;\n    padding: 2px;\n  }\n\n  .canopy-footnote-span {\n    font-size: 80%;\n    display: block;\n    span { // text after number\n      margin-left: 2px;\n    }\n    &:not(:last-child) {\n      padding-bottom: 7px;\n    }\n  }\n\n  blockquote {\n    padding: 0 .7em;\n    color: #565e67;\n\n    a, a.canopy-selectable-link {\n      color: #565e67;\n    }\n\n    &[dir=\"rtl\"] {\n      border-right: 0.25em solid lightgray;\n      margin-right: 10px;\n    }\n\n    &[dir=\"ltr\"] {\n      border-left: 0.25em solid lightgray;\n      margin-left: 10px;\n    }\n\n    margin-block-start: .5em;\n    margin-block-end: .5em;\n    margin-inline-start: 0px;\n    margin-inline-end: 0px;\n\n    a.canopy-selectable-link {\n      text-decoration: underline #D3D3D3;\n    }\n  }\n\n  pre {\n    margin: 10px 10px;\n    background-color: #eff0f1;\n    padding: 5px;\n    font-size: 85%;\n  }\n\n  code {\n    background-color: #eff0f1;\n    font-size: 90%;\n  }\n\n  table {\n    margin: 21px auto auto auto;\n    table-layout: auto;\n    max-width: 90%;\n    border-collapse: collapse;\n    border: none; // we put the border on the TDs to allow omitted table cells\n    font-size: 18px;\n    min-width: 500px;\n    table-layout: fixed;\n\n    &:not(:last-child) {\n      margin-bottom: 21px;\n    }\n\n    td, th {\n      border: 1px solid black;\n      text-align: center;\n      padding: 10px;\n\n      // width: 0%; // this seems to make cells even without expanding table\n\n      &.hidden {\n        display: none;\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    td.canopy-table-link-cell {\n      cursor: pointer;\n\n      a.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n      }\n\n      &:has(.canopy-selected-link) {\n        background-color: #edeefc;\n      }\n\n      &:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #F3F3F3;\n      }\n\n      &:hover:not(:has(.canopy-selected-link)), // selected link style overrides hover\n      &:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n    }\n  }\n\n  .canopy-table-list {\n    display: flex;\n    flex-direction: column;\n    align-items: center; /* This centers the rows within the container */\n    margin: 0 auto;\n\n    .canopy-table-list-row {\n      display: flex;\n      justify-content: flex-start;\n    }\n\n    &.canopy-align-right {\n      width: 90%;\n      align-items: flex-end;\n      .canopy-table-list-row {\n        justify-content: flex-end;\n      }\n    }\n\n    &.canopy-align-left {\n      width: 90%;\n      align-items: flex-start;\n    }\n\n    .canopy-table-list-cell {\n      display: flex;\n      flex-direction: row; /* Arrange items horizontally */\n      flex-wrap: wrap; /* Allow items to wrap within the cell */\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n      margin: 5px;\n      border: 1px solid black;\n      border-radius: 0px;\n      box-sizing: border-box;\n      background-color: white;\n      padding: 10px; /* Add some padding inside cells */\n      text-align: center; /* This will center the text inside the flex items */\n      align-self: stretch; /* Stretch the child items to fill the cell's width */\n      white-space: normal; /* Allow the text to wrap */\n\n      .canopy-table-list-content-container {\n        display: inline;\n        max-width: 100%;\n        max-height: 100%;\n      }\n\n      &.canopy-table-list-ordinal-cell .canopy-table-list-content-container {\n        //width: 80%; // to keep the numbers in a similar location in each cell\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    .canopy-table-list-link-cell.canopy-table-list-cell {\n      cursor: pointer;\n      border: 1.5px solid black;\n      border-radius: 5px;\n      display: flex;\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n\n      &.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n      }\n\n      &.canopy-selected-link {\n        background-color: #edeefc;\n      }\n\n      &.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #F3F3F3;\n      }\n\n      &:hover:not(.canopy-selected-link), // selected link style overrides hover\n      &:hover.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n\n      .canopy-table-list-content-container::after {\n        font-size: 11px;\n        margin-left: -5px; // Negative margin to pull the icon closer to the last word\n        position: relative; // Allows for position adjustment\n        top: 5px; // Move the icon up (- value) or down (+ value)\n        left: 5px;\n        white-space: nowrap; // Prevents the icon from wrapping\n      }\n\n      &.canopy-external-link {\n        margin: 5px; // cancel negative margin\n\n        &.canopy-selectable-link * {\n          text-decoration: none;\n        }\n\n        .canopy-table-list-content-container::after {\n          content: ' ➹';\n          top: 3px;\n        }\n      }\n\n      &.canopy-back-cycle-link .canopy-table-list-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↩';\n      }\n\n      &.canopy-lateral-cycle-link .canopy-table-list-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↪';\n      }\n\n      &.canopy-path-reference .canopy-table-list-content-container::after {\n        content: ' ⇲';\n        left: 6px;\n        top: 2px;\n      }\n    }\n\n    &.canopy-quarter-pill .canopy-table-list-cell {\n      width: 175px;\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-third-pill .canopy-table-list-cell {\n      width: 220px;\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-half-pill .canopy-table-list-cell {\n      width: 270px;\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-quarter-card .canopy-table-list-cell {\n      width: 175px;\n      height: 95px;\n      padding: 15px;\n    }\n\n    &.canopy-third-card .canopy-table-list-cell {\n      width: 215px;\n      height: 120px;\n      padding: 15px;\n    }\n\n    &.canopy-half-tube .canopy-table-list-cell {\n      width: 285px;\n      height: 160px;\n      padding: 30px;\n    }\n\n    &.canopy-half-card .canopy-table-list-cell {\n      width: 285px;\n      height: 265px;\n      min-height: 160px;\n      padding: 30px;\n    }\n\n    &:not(:first-child) {\n      margin-top: 15px;\n    }\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n  }\n\n  .canopy-image {\n    display: block;\n    object-fit: cover;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    margin-top: 15px;\n\n    a {\n      margin: 0 auto;\n      display: block;\n    }\n\n    img {\n      display: block;\n      width: 100%;\n      margin: 0 auto;\n    }\n\n    span.canopy-image-caption {\n      margin: 0px auto;\n      width: 100%;\n      padding: 6px 6px;\n      text-align: left;\n      display: block;\n      font-size: 16px;\n      line-height: 18px;\n      color: #595959;\n      background-color: white;\n\n      a {\n        color: #595959;\n      }\n\n      span {\n        display: inline;\n      }\n    }\n  }\n\n  div.canopy-image-div {\n    float: right;\n    border: 1px solid #c8ccd1;\n    padding: 3px;\n    background-color: #f8f9fa;\n    font-size: 94%;\n    text-align: center;\n    overflow: hidden;\n    margin: 10px;\n  }\n\n  .canopy-open-link .canopy-image, .canopy-selected-link .canopy-image {\n    position: relative;\n  }\n\n  .canopy-selected-link .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(130, 150, 250, 0.3); /* Deeper blue with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  .canopy-open-link:not(.canopy-selected-link) .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(128, 128, 128, 0.2); /* Gray color with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  div.canopy-image-div > sup {\n    display: block;\n  }\n\n  ol, ul {\n    margin-top: 15px;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-bottom: 0px;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    li:not(:last-child) {\n      margin-bottom: 10px;\n    }\n  }\n\n  div.canopy-raw-html {\n    display: inline;\n  }\n}\n"],sourceRoot:""}]);const l=a},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(a[c]=!0)}for(var s=0;s<t.length;s++){var p=[].concat(t[s]);r&&a[p[0]]||(void 0!==o&&(void 0===p[5]||(p[1]="@layer".concat(p[5].length>0?" ".concat(p[5]):""," {").concat(p[1],"}")),p[5]=o),n&&(p[2]?(p[1]="@media ".concat(p[2]," {").concat(p[1],"}"),p[2]=n):p[2]=n),i&&(p[4]?(p[1]="@supports (".concat(p[4],") {").concat(p[1],"}"),p[4]=i):p[4]="".concat(i)),e.push(p))}},e}},7537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([o]).join("\n")}return[e].join("\n")}},8269:function(t,e,n){var r;r=void 0!==n.g?n.g:this,t.exports=function(t){if(t.CSS&&t.CSS.escape)return t.CSS.escape;var e=function(t){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var e,n=String(t),r=n.length,i=-1,o="",a=n.charCodeAt(0);++i<r;)0!=(e=n.charCodeAt(i))?o+=e>=1&&e<=31||127==e||0==i&&e>=48&&e<=57||1==i&&e>=48&&e<=57&&45==a?"\\"+e.toString(16)+" ":0==i&&1==r&&45==e||!(e>=128||45==e||95==e||e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122)?"\\"+n.charAt(i):n.charAt(i):o+="�";return o};return t.CSS||(t.CSS={}),t.CSS.escape=e,e}(r)},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],l=0;l<t.length;l++){var c=t[l],s=r.base?c[0]+r.base:c[0],p=o[s]||0,u="".concat(s," ").concat(p);o[s]=p+1;var h=n(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)e[h].references++,e[h].updater(d);else{var f=i(d,r);r.byIndex=l,e.splice(l,0,{identifier:u,updater:f,references:1})}a.push(u)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var l=n(o[a]);e[l].references--}for(var c=r(t,i),s=0;s<o.length;s++){var p=n(o[s]);0===e[p].references&&(e[p].updater(),e.splice(p,1))}o=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";var t=n(3379),e=n.n(t),r=n(7795),i=n.n(r),o=n(569),a=n.n(o),l=n(3565),c=n.n(l),s=n(9216),p=n.n(s),u=n(4589),h=n.n(u),d=n(3570),f={};f.styleTagTransform=h(),f.setAttributes=c(),f.insert=a().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=p(),e()(d.Z,f),d.Z&&d.Z.locals&&d.Z.locals;var y=n(6240),A=n(7366),g=n(6204),m=n(1242),b=n(2769);function v(){var t=g.Z.selection,e=g.Z.lastSelectionOfParagraph(t.enclosingParagraph.topicParagraph.parentParagraph)||t.enclosingParagraph.topicParagraph.parentLink;return(null==e?void 0:e.select())||g.Z.deselect()}function C(){var t,e=g.Z.selection,n=e&&e.parentLink&&g.Z.lastSelectionOfParagraph(null===(t=e.parentLink)||void 0===t?void 0:t.enclosingParagraph)||e.parentLink,r=!n;if(r&&!e.isVisible()){var i=g.Z.selection.enclosingParagraph.sectionElement;return(0,b.H6)(i,{targetRatio:.75,maxScrollRatio:.5,minDiff:0,direction:"up",behavior:"smooth"})}return r&&e.isVisible()?(0,y.Z)(e.enclosingParagraph.path):n&&!n.isVisible()?(0,b.H6)(n.element,{targetRatio:.3,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}):n&&n.isVisible()?e.parentLink.select():void 0}function k(t){var e=t.newTab,n=t.altKey,r=t.shiftKey,i=!g.Z.selection.isClosedCycle&&g.Z.selection.firstChild;if(i&&i.isBelowViewport()&&!g.Z.selection.isPathReference)return(0,b.H6)(i.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"});if(i&&i.isAboveViewport()&&!g.Z.selection.isPathReference)return(0,b.H6)(i.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth",side:"bottom"});if(g.Z.selection.isParent&&!g.Z.selection.hasChildren&&!g.Z.selection.cycle&&!g.Z.selection.isPathReference){var o=g.Z.selection.targetParagraph.sectionElement;return(0,b.H6)(o,{targetRatio:.2,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}return!i||!i.isVisible||i.isSelected||e||g.Z.selection.isPathReference?g.Z.selection.execute({newTab:e,redirect:n,inlineCycles:r}):i.select({newTab:e,redirect:n,inlineCycles:r})}function w(){return g.Z.selection.isCycle?g.Z.selection.execute({inlineCycles:!0}):moveInDirection("down")}function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){L(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return P(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){l=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw o}}}}function P(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){var n,r=null===(n=g.Z.selection)||void 0===n?void 0:n.element;if("up"===t){!r&&g.Z.visible.length;var i=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(t){return null!==t.offsetParent})),o=H(r,"up"),a=H(r,"down"),l=I(i,r).filter((function(t){return O(t,a)&&!j(t,a)&&t.element!==r}));if(0===l.length)return a.top<-10?(0,b.H6)(r,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}):A.Z.root.display();M(l.reduce((function(t,e){var n,r=g.Z.for(t.element),i=g.Z.for(e.element);return i.siblingOf(r)&&r.isParentLinkOf(g.Z.selection.enclosingParagraph)?t:r.siblingOf(i)&&g.Z.for(e.element).isParentLinkOf(null===(n=g.Z.selection)||void 0===n?void 0:n.enclosingParagraph)?e:!Z(t,e)||j(t,e)||j(t,a)?!Z(e,t)||j(t,e)||j(e,a)?D(o,t)?t:D(o,e)?e:D(t,o)&&!D(e,o)?t:D(e,o)&&!D(t,o)?e:N(t,o)&&!N(e,o)?t:N(e,o)&&!N(t,o)?e:t.element.closest("p.canopy-paragraph")===g.Z.selection.parentLink.enclosingParagraph.paragraphElement?N(t,o)&&N(e,o)?F(o,t,e):R(t,e,o):N(t,a)&&N(e,a)?F(a,t,e):R(t,e,a):e:t})),{direction:"up"})}else if("down"===t){if(!r)return A.Z.rendered.selectALink({direction:"down"});var c=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(t){return null!==t.offsetParent&&(e=t,"none"!==(n=window.getComputedStyle(e)).display&&"hidden"!==n.visibility&&"0"!==n.opacity&&"0%"!==n.opacity);var e,n})),s=H(r,"up"),p=H(r,"down"),u=I(c,r).filter((function(t){return Z(t,s)&&!j(t,s)&&(e=t,n=window.innerHeight||document.documentElement.clientHeight,e.top>=0&&e.top<=n||e.bottom>=0&&e.bottom<=n)&&t.element!==r;var e,n}));if(0===u.length){var h=m.Z.current.sectionElement;return(0,b.H6)(h,{targetRatio:.05,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}M(u.reduce((function(t,e){var n,r,i=g.Z.for(t.element),o=g.Z.for(e.element);return o.isLastSelection&&i.siblingOf(o)?e:i.isLastSelection&&o.siblingOf(i)||i.isOpen?t:o.isOpen?e:!O(t,e)||j(t,e)||j(t,s)?!O(e,t)||j(t,e)||j(e,s)?D(s,t)?t:D(s,e)?e:D(t,s)&&!D(e,s)?t:D(e,s)&&!D(t,s)?e:t.element.closest("p.canopy-paragraph")===(null===(n=g.Z.selection)||void 0===n||null===(r=n.targetParagraph)||void 0===r?void 0:r.paragraphElement)?N(t,p)&&!N(e,p)?t:N(e,p)&&!N(t,p)?e:m.Z.current.links[0].element===t.element?t:m.Z.current.links[0].element===e.element?e:F(s,t,e):N(t,s)&&!N(e,s)?t:N(e,s)&&!N(t,s)?e:F(p,t,e):e:t})),{direction:"down"})}else if("left"===t){var d=g.Z.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),f=H(r,"right"),y=I(d,r),v=y.filter((function(t){return t.right<f.right}));if((v=(v=v.filter((function(t){return j(t,f)}))).filter((function(t){return t.element!==r}))).length>0){var C=v.reduce((function(t,e){return t.bottom===f.bottom&&e.bottom!==f.bottom?t:e.bottom===f.bottom&&t.bottom!==f.bottom?e:t.right>e.right?t:t.right<e.right?e:t.right===e.right?q(f,t,"bottom")>q(f,e,"bottom")?e:t:void 0}));if(C)return M(C)}var k="ltr"===z(r)?"up":"down",w=U(r,k),x="up"===k?O:Z,E="up"===k?Z:O,S="right"===w?_:B;if((v=(v=(v=y.filter((function(t){return x(t,f)}))).filter((function(t){return!j(t,f)}))).filter((function(t){return t.element!==r}))).length>0){var P=v.reduce((function(t,e){return E(t,e)&&!j(t,e)?t:E(e,t)&&!j(t,e)?e:S(t,e)}));if(P)return M(P)}var L="ltr"===z(r)?"down":"up",T=J(r,L),G="up"===L?O:Z,W="right"===T?_:B,K=y.reduce((function(t,e){return G(t,e)&&!j(t,e)?t:G(e,t)&&!j(t,e)?e:W(t,e)}));if(K)return M(K)}else if("right"===t){var Y=g.Z.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),V=H(r,"left"),$=I(Y,r),Q=$.filter((function(t){return t.left>V.left}));if((Q=(Q=Q.filter((function(t){return j(t,V)}))).filter((function(t){return t.element!==r}))).length>0){var X=Q.reduce((function(t,e){return t.bottom===V.bottom&&e.bottom!==V.bottom?t:e.bottom===V.bottom&&t.bottom!==V.bottom?e:t.left<e.left?t:t.left>e.left?e:t.left===e.left?(r=e,(n=t).top<r.top?n:r):void 0;var n,r}));if(X)return M(X)}var tt=function(t){return"ltr"===z(t)?"down":"up"}(r),et=(U(r,tt),"up"===tt?O:Z),nt="up"===tt?Z:O,rt="right"===at?_:B;if((Q=(Q=(Q=$.filter((function(t){return et(t,V)}))).filter((function(t){return!j(t,V)}))).filter((function(t){return t.element!==r}))).length>0){var it=Q.reduce((function(t,e){return nt(t,e)&&!j(t,e)?t:nt(e,t)&&!j(e,t)?e:rt(t,e)}));if(it)return M(it)}var ot=function(t){return"ltr"===z(t)?"up":"down"}(r),at=J(r,ot),lt=("left"===at||window.innerWidth,"up"===ot?"top":"bottom"),ct="up"===ot?O:Z,st="right"===at?_:B,pt=$.reduce((function(t,e){return ct(t,e)?t:ct(e,t)?e:t[lt]===e[lt]?st(t,e):void 0}));if(pt)return M(pt)}}function O(t,e){return t.bottom<e.bottom}function Z(t,e){return t.top>e.top}function _(t,e){return t.right>e.right?t:e}function B(t,e){return t.left<e.left?t:e}function D(t,e){return t.left>e.left&&t.right<e.right}function N(t,e){return t.left<e.right&&e.left<t.right}function j(t,e){return t.top<=e.bottom&&t.bottom>=e.top||e.top<=t.bottom&&e.bottom>=t.top}function R(t,e,n){var r=(t.left+t.right)/2,i=(e.left+e.right)/2,o=(n.left+n.right)/2;return Math.abs(r-o)<Math.abs(i-o)?t:e}function M(t,e){return t.top>window.innerHeight-15?(0,b.H6)(t.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth"}):t.bottom<15?(0,b.H6)(t.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}):new g.Z(t.element).select(e)}function F(t,e,n){function r(t,e){return Math.max(0,Math.min(t.right,e.right)-Math.max(t.left,e.left))}return r(t,e)>r(t,n)?e:n}function q(t,e,n){switch("number"==typeof t&&(t=L({},n,t)),"number"==typeof e&&(e=L({},n,e)),n){case"left":return Math.abs(t.left-e.left);case"right":return Math.abs(t.right-e.right);case"top":return Math.abs(t.top-e.top);case"bottom":return Math.abs(t.bottom-e.bottom);case"middle":return Math.abs((t.left-t.right)/2-(e.left-e.right)/2);default:return null}}function I(t,e){var n,r=[],i=S(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o;"TD"===o.parentNode.tagName&&1===o.parentNode.childNodes.length&&(a=o.parentNode);var l=Array.from(a.getClientRects()),c=E({element:o,text:o.innerText},JSON.parse(JSON.stringify(a.getBoundingClientRect())));if(G(o,e))r.push(c);else for(var s=0;s<l.length;s++){var p=l[s];r.push({x:p.x,y:p.y,width:p.width,height:p.height,top:p.top,right:p.right,bottom:p.bottom,left:p.left,element:o,text:o.innerText})}}}catch(t){i.e(t)}finally{i.f()}return r}function G(t,e){for(var n=t,r=e;null!==n;){for(var i=r;null!==i;){if(n===i)return["DIV","TABLE","TR"].includes(n.tagName);i=i.parentElement}n=n.parentElement}return!1}function H(t,e){var n,r=JSON.parse(JSON.stringify(t.getBoundingClientRect())),i=function(t){var e=[];t.sort((function(t,e){return t.top-e.top}));for(var n=t[0],r=1;r<t.length;r++){var i=t[r];n.top===i.top?(n.left=Math.min(n.left,i.left),n.right=Math.max(n.right,i.right)):(e.push(n),n=i)}return e.push(n),e}(function(t){var e=[];return function t(n){if(n.nodeType===Node.TEXT_NODE){var r=document.createRange();r.selectNodeContents(n);for(var i=r.getClientRects(),o=0;o<i.length;o++)e.push(i[o])}else if(n.nodeType===Node.ELEMENT_NODE){var a,l=S(n.childNodes);try{for(l.s();!(a=l.n()).done;)t(a.value)}catch(t){l.e(t)}finally{l.f()}}}(t),e.map((function(t){return JSON.parse(JSON.stringify(t))}))}(t));if(1===i.length||(n=t).closest("p.canopy-paragraph > div")||n.closest("p.canopy-paragraph > table"))return E({element:t},r);if(0===i.length)return null;switch(e){case"left":return E({element:t},i.reduce((function(t,e){return e.right>t.right?t:e})));case"right":return E({element:t},i.reduce((function(t,e){return e.left<t.left?t:e})));case"up":return E({element:t},i.reduce((function(t,e){return e.bottom<t.bottom?e:t})));case"down":return E({element:t},i.reduce((function(t,e){return e.top>t.top?e:t})));default:throw new Error("Invalid direction argument")}}function U(t,e){return"up"===e?"ltr"===z(K(t))?"right":"left":"down"===e?"ltr"===z(W(t))?"left":"right":void 0}function J(t,e){return"up"===e?"ltr"===z(K(t))?"left":"right":"down"===e?"ltr"===z(W(t))?"right":"left":void 0}function W(t){var e=t.closest("p.canopy-paragraph"),n=Array.from(e.querySelectorAll(".canopy-selectable-link")),r=n.indexOf(g.Z.selection.element);return r<n.length-1?n[r+1]:g.Z.selection.element}function K(t){var e=t.closest("p.canopy-paragraph"),n=Array.from(e.querySelectorAll(".canopy-selectable-link")),r=n.indexOf(g.Z.selection);return r>0?n[r-1]:g.Z.selection.element}function z(t){return"rtl"===t.dir?"rtl":(e=function(t){for(;t.parentNode!==g.Z.selection.element.closest("p.canopy-paragraph");)t=t.parentNode;return t}(t).innerText,"֑-߿יִ-﷽ﹰ-ﻼ",new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")).test(e)?"rtl":"ltr");var e}var Y={left:T.bind(null,"left"),up:T.bind(null,"up"),down:T.bind(null,"down"),"shift-down":w,"alt-down":w,right:T.bind(null,"right"),h:T.bind(null,"left"),k:T.bind(null,"up"),j:T.bind(null,"down"),"shift-j":w,"alt-j":w,l:T.bind(null,"right"),u:C,i:C,"shift-enter":C,n:k,m:k,escape:function(){return(0,y.Z)(A.Z.current.rootTopicPath,null,{scrollStyle:"instant"})},z:function(){var t,e=g.Z.selection.relativeLinkNumber;return null===(t=g.Z.selection)||void 0===t?void 0:t.inlinePath.lastSegment.display({renderOnly:!0}).then((function(){g.Z.from((function(){var t;return null===(t=g.Z.selection)||void 0===t?void 0:t.inlinePath.lastSegment.parentParagraph.nthLink(e)})).select({scrollStyle:"instant"})}))},d:function(){return window.open(window.location.href,"_blank")},"shift-up":v,"shift-k":v,c:function(){navigator.clipboard.writeText(decodeURIComponent(window.location))},enter:function(){return k({})},"meta-enter":function(){return k({newTab:!0})},"ctrl-enter":function(){return k({newTab:!0})},"alt-enter":function(){return k({newTab:!1,altKey:!0})},"meta-alt-enter":function(){return k({newTab:!0,altKey:!0})},"ctrl-alt-enter":function(){return k({newTab:!0,altKey:!0})},"enter-shift":function(){return k({})},"meta-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"ctrl-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"alt-shift-enter":function(){return k({newTab:!1,altKey:!0,shiftKey:!0})},"meta-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})},"ctrl-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})}},V=["c","d","up","down"],$={37:"left",39:"right",38:"up",40:"down",71:"g",72:"h",75:"k",74:"j",76:"l",186:";",90:"z",68:"d",67:"c",85:"u",73:"i",78:"n",77:"m",13:"enter",9:"tab",27:"escape",32:"space",192:"`",49:"1",50:"2",51:"3",52:"4",53:"5"};window.addEventListener("keydown",(function(t){if(!(i=document.activeElement)||!("TEXTAREA"===i.tagName||"INPUT"===i.tagName&&["text","password","email","search","number","tel","url"].includes(i.type.toLowerCase()))){var e=(t.metaKey?"meta-":"")+(t.ctrlKey?"ctrl-":"")+(t.altKey?"alt-":"")+(t.shiftKey?"shift-":""),n=$[t.keyCode],r=e+n;if(["tab","down","up","left","right"].includes(n)&&((t.metaKey||t.ctrlKey)&&["left","right"].includes(n)||t.preventDefault()),"escape"===n&&!g.Z.selection)return(0,y.Z)(A.Z.default,null);g.Z.selection||V.includes(r)?(Y[r]||function(){})():Y[r]&&A.Z.rendered.selectALink()}var i})),"scrollRestoration"in history&&(history.scrollRestoration="manual"),history.replaceState(history.state,document.title,window.location.href),window.addEventListener("popstate",(function(t){var e,n=g.Z.selectionPresentInEvent(t)?new g.Z(t.state):null;e=A.Z.current.rootTopicPath.equals(A.Z.url.rootTopicPath)?"smooth":"instant",(0,y.Z)(A.Z.url,n||g.Z.sessionSelection||A.Z.url.parentLink,{scrollStyle:e,scrollDirect:!0})})),(0,y.Z)(A.Z.initial,g.Z.savedSelection,{scrollStyle:"instant",initialLoad:!0})})()})();
//# sourceMappingURL=_canopy.js.map