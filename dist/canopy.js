/*! For license information please see canopy.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Canopy=n():e.Canopy=n()}(self,(()=>(()=>{var e={488:e=>{var n={};e.exports=function e(t){if(n.hasOwnProperty(t))return n[t];var i=t.replace(/(.*?(?:^|[^\\]))([_`*~])(\S*?[^\\])\2(.*)/,"$1$3$4");if((i=i.replace(/(.*?(?:^|[^\\]))([_`*~])(.*?[^\\])\2(?![A-Za-z0-9])(.*)/,"$1$3$4"))!==t){var r=e(i);return n[t]=r,e(r)}return t}},4244:(e,n,t)=>{function i(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(488);t(2205);var a={},l=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new Error("String required to instantiate Topic");if(a.hasOwnProperty(n)&&a.hasOwnProperty(n).display)return a[n];this.display=n,this.mixedCase=o(n).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]})),this.cssMixedCase=CSS.escape(this.mixedCase),this.url=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.urlConversionRules).join("|\\"),"g"),(function(n){return e.urlConversionRules[n]})),this.topicFileName=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.fileNameConversionRules).join("|\\"),"g"),(function(n){return e.fileNameConversionRules[n]})),this.caps=this.mixedCase.toUpperCase().replace(/\?$/,"").replace(/["”“’‘']/g,"").replace(/(\\{2})*([.,])(?=["'')}\]]*$)/g,(function(e,n){return n?e:""})).replace(/\(/g,"").replace(/\)/g,"").replace(/ +/g," ").replace(/&[Nn][Bb][Ss][Pp];/g," ").trim(),this.jsonFileName=encodeURIComponent(this.mixedCase),this.requestFileName=encodeURIComponent(encodeURIComponent(this.mixedCase)),a[n]=this}var n,t;return n=e,t=[{key:"fromMixedCase",value:function(n){var t=new e(n=n.replace(/([`_~*\\])/g,"\\$1"));return t.display=null,t}},{key:"fromReference",value:function(n){var t=new e(n);return t.display=null,t}},{key:"fromUrl",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]})),i=decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(i)}},{key:"fromFileName",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]})),i=decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(i)}},{key:"convertSpacesToUnderscores",value:function(n){return n.replace(new RegExp("\\"+Object.keys(e.spaceToUnderscoreRules).join("|\\"),"g"),(function(n){return e.spaceToUnderscoreRules[n]}))}},{key:"convertUnderscoresToSpaces",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]}));return decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}))}},{key:"parseUrlSegment",value:function(n){var t=n.match(/((?:(?:(?:\\|%5C)#)|[^#])*)(?:#(.*))?/);return[t[1]&&e.fromUrl(t[1]),t[2]&&e.fromUrl(t[2])||null]}},{key:"for",value:function(n){return new e(n)}},{key:"areEqual",value:function(e,n){return e.mixedCase===n.mixedCase}}],null&&i(n.prototype,null),t&&i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();r(l,"urlConversionRules",{"%":"%25","#":"%5C#","/":"%2F"," ":"_",_:"%5C_","\\":"%5C%5C"}),r(l,"fileNameConversionRules",{"%":"%25",'"':"%22","'":"%27","/":"%2F",",":"%2C",":":"%3A","<":"%3C",">":"%3E","|":"%7C","*":"%2A","?":"%3F"," ":"_",_:"%5C_","\\":"%5C%5C"}),r(l,"spaceToUnderscoreRules",{"%":"%25"," ":"_",_:"%5C_","\\":"%5C%5C"}),r(l,"underscoreToSpaceRules",{"%5C%5C":"\\\\","%5C_":"_",_:" "}),e.exports=l},7239:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var i=t(514),r=t(797),o=t(4207),a=t(5044),l=t(1246);const c=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.A.byPath(e)?(t.afterChangePause=!t.noAfterChangePause&&i.A.current.twoStepChange(e),(0,l.fU)(e,n,t).then((function(){var c;if(null===(c=o.A.selection)||void 0===c||c.removeSelectionClass(),o.A.byPath(e).addToDom(),(0,l.Q3)(e),n&&(null==n||!n.element))return null==n||n.eraseLinkData(),(0,a.A)(e,null,t);i.A.setPath((null==n?void 0:n.urlPath)||e,n,t),r.A.persistLinkSelection(n),r.A.updateSelectionClass(n||e.parentLink);var s=(0,l.WH)(e.firstTopicPath.topic,t);return document.title=e.pageTitle,function(e,n){for(;e;){var t;"instant"===n.scrollStyle?e.allocateSpace():e.display(),e.parentLink&&(null===(t=e.parentLink)||void 0===t||t.open()),r.A.persistLinkSelectionInSession(e.parentLink),e=e.parentParagraph}}(e.paragraph,t),r.A.eagerLoadVisibleLinks(),(0,l.iW)(e,n,t).then((function(){return e.paragraphs.forEach((function(e){return e.display()}))})).then((function(){return s.show()})).then((function(){return e.paragraph.addSelectionClass()}))}))):(0,l.J0)(e,t)}},1246:(e,n,t)=>{"use strict";t.d(n,{Cj:()=>b,J0:()=>h,Q3:()=>A,WH:()=>d,Yw:()=>g,cw:()=>f,fU:()=>x,iW:()=>S});var i=t(1995),r=t(9903),o=t(7239),a=t(797),l=t(514),c=t(4207),s=t(5044);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){var t=document.querySelector('h1[data-topic-name="'.concat(e.cssMixedCase,'"]'));return t.style.display="block",t.style.opacity="0%","instant"!==n.scrollStyle&&(t.style.opacity="100%"),{show:function(){t.style.opacity="100%"}}}function h(e,n){if(console.error("No section element found for path:",e.string),e.length>1)return console.log("Trying:",e.withoutLastSegment.string),(0,o.A)(e.withoutLastSegment,null,{scrollStyle:"instant"});if(n.defaultRedirect)throw new Error("Redirect to default topic failed terminally.");return console.error("No path prefixes remain to try. Redirecting to default topic: "+l.A.default),(0,s.A)(l.A.default,null,{defaultRedirect:!0,scrollStyle:"instant"})}var A=function(e){Array.from(document.querySelectorAll("#_canopy h1")).forEach((function(e){e.style.display="none"})),Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-open-link")})),function(e){!function e(n,t){Array.from(n.childNodes).filter((function(e){return"SECTION"===e.tagName})).forEach((function(n){var i=c.A.for(n);i.path.isIn(t)||i.removeFromDom(),e(n,t)}))}(i.m0,e)}(e)};function f(e,n){if(!(e instanceof Element))throw new Error("Argument to scrollElementToPosition must be DOM element");var t=n.targetRatio,i=n.maxScrollRatio,o=n.minDiff,a=n.direction,l=n.behavior,c=n.side,s=e.getBoundingClientRect(),d=r.A.visibleHeight*t,h=("bottom"===c?s.bottom-r.A.top+r.A.currentScroll:"middle"===c?s.top-r.A.top+r.A.currentScroll+s.height/2:s.top-r.A.top+r.A.currentScroll)-d;r.A.scrollHeight-r.A.visibleHeight<h&&console.error("Scrollable area not long enough to scroll to desired position"),h=Math.max(0,Math.min(h,r.A.scrollHeight-r.A.visibleHeight));var A,f=i?r.A.visibleHeight*i:1/0;A=h>r.A.currentScroll?Math.min(h,r.A.currentScroll+f):Math.max(h,r.A.currentScroll-f);var y=h-r.A.currentScroll!=0;if(o){var g=Math.abs(r.A.currentScroll-A),m="A"===e.tagName&&(s.top<5||s.bottom>r.A.visibleHeight);y=!o||o&&g>o||m}return"up"===a&&(y=y&&A<r.A.currentScroll),"down"===a&&(y=y&&A>r.A.currentScroll),y?b(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({top:A,behavior:l},n)):Promise.resolve(!1)}var y=null;function g(){return y}var m=null;function b(e){return m=e,y=new Promise((function(n){r.A.scrollTo(m);var t=r.A.currentScroll,i=null,o=0;setTimeout((function a(){var l=r.A.currentScroll;if(t!==l||i||(i=Date.now()),t!==l&&(i=null),t===l&&o<1&&r.A.scrollTo(m),t=l,o++,i&&Date.now()-i>1e3)return y=null,n(!1);Math.abs(l-e.top)<10?(y=null,n(!0)):setTimeout(a,50)}),50)}))}var C=.22,k=.17,v=.05,w=.1;function x(e,n){var t,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!l.A.rendered)return Promise.resolve();if(!e.paragraph)return Promise.resolve();if(!e.initialOverlap(l.A.rendered))return Promise.resolve();if(i.noScroll||i.noBeforeChangeScroll||i.initialLoad||"instant"===i.scrollStyle)return Promise.resolve();if(l.A.current.isIn(e))return Promise.resolve();if(l.A.rendered.fulcrumLink(e).isFocused)return Promise.resolve();var o,s,u,p=null!==(t=a.A.selection)&&void 0!==t&&t.isEffectivePathReference?a.A.selection.enclosingPath:l.A.rendered,d=i.noMinDiff?null:75,h=(l.A.rendered.twoStepChange(e)&&p.fulcrumLink(e)).linkElement||i.scrollToParagraph&&!(null!=n&&n.isFragment)&&e.paragraphElement||(null==n?void 0:n.element)||e.paragraphElement,A="A"===h.tagName?a.A.for(h).isBig?w:C:c.A.for(h.parentNode).isBig?v:k;return o=h.getBoundingClientRect(),s=.1*r.A.visibleHeight,u=.4*r.A.visibleHeight,o.top>=s&&o.bottom<=u?Promise.resolve():f(h,{targetRatio:A,maxScrollRatio:1/0,minDiff:d,behavior:"smooth",side:"top"}).then((function(e){return e&&new Promise((function(e){return setTimeout(e,130)}))}))}function S(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.noScroll||r.noAfterChangeScroll)return Promise.resolve();var o=r.scrollStyle||"smooth",a=r.direction;if(i.m0.dataset.imageLoadScrollBehavior=o,e.equals(l.A.firstTopicPath)&&!n)return f(c.A.root.paragraphElement,{targetRatio:.5,maxScrollRatio:1/0,behavior:o,side:"top"});if(null!=n&&n.isFragment)return f(n.element,{targetRatio:C,Infinity:1/0,minDiff:h,behavior:o,side:"top",direction:a});var s,u,p=function(){return r.afterChangePause?new Promise((function(e){return setTimeout(e,150)})):Promise.resolve()},d=1/0,h=50;return n&&(!r.scrollToParagraph||null!=e&&null!==(t=e.parentLink)&&void 0!==t&&t.isFragment)?(n.isIn(e.paragraph)&&n.enclosingParagraph.fits?(s=n.enclosingParagraph.paragraphElement,u=k):(s=n.element,u=C),p().then((function(){return f(s,{targetRatio:u,maxScrollRatio:d,minDiff:h,behavior:o,direction:a})}))):p().then((function(){return f(e.paragraphElement,{targetRatio:e.paragraph.isBig?v:k,maxScrollRatio:d,minDiff:h,behavior:o,side:"top",direction:a})}))}},5044:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var i=t(5806),r=t(7239),o=t(514),a=t(4207),l=t(1995),c=null;const s=function e(n,t){var s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==(s=n)&&void 0!==s&&s.empty&&(n=o.A.default);var p=(c=!(null!=u&&u.renderOnly)&&n||c)&&(0,i.d)(n,n,Promise.resolve(l.m0)).catch((function(e){return console.error(e)}));return Promise.race([p,new Promise((function(e){return setTimeout(e,400)}))]).then((function(n){!n&&t&&a.A.contentLoaded&&!u.renderOnly&&((null==t?void 0:t.tryElement)&&t.addSelectionClass()||e(t.enclosingPath,t,{pending:!0}))})),p.then((function(){if((null==u||!u.renderOnly)&&n.equals(c))return(0,r.A)(n,t,u)})).catch((function(e){return console.error(e)}))}},1995:(e,n,t)=>{"use strict";t.d(n,{m0:()=>i,PZ:()=>r,Ly:()=>o,T6:()=>l,fP:()=>a});var i=document.getElementById("_canopy");if(!i)throw new Error("Page must contain an element with id #_canopy");i.dataset.canopyVersion="0.4.59";var r=function(){return i&&i.dataset.defaultTopic},o=function(){var e;return i&&(null===(e=document.getElementById("canopy_default_topic_json"))||void 0===e?void 0:e.textContent)},a=i&&i.dataset.projectPathPrefix,l=i&&i.dataset.hashUrls},9903:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var i=t(1995);function r(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"windowMode",get:function(){return e=i.m0.parentElement,t="scroll"===(n=window.getComputedStyle(e).overflowY)||"auto"===n,r=e.scrollHeight>e.clientHeight,!(t&&r);var e,n,t,r}},{key:"element",get:function(){return this.windowMode?document.body:this.windowMode?void 0:i.m0.parentElement}},{key:"visibleHeight",get:function(){return this.windowMode?window.innerHeight:this.windowMode?void 0:this.element.clientHeight}},{key:"innerHeight",get:function(){throw"Use ScrollableContainer.visibleHeight"}},{key:"scrollHeight",get:function(){return this.windowMode?document.documentElement.scrollHeight:this.windowMode?void 0:this.element.scrollHeight}},{key:"currentScroll",get:function(){return this.windowMode?window.scrollY:this.windowMode?void 0:this.element.scrollTop}},{key:"top",get:function(){return this.windowMode?0:i.m0.parentElement.getBoundingClientRect().top}},{key:"addEventListener",value:function(e,n){return this.windowMode?window.addEventListener(e,n):this.windowMode?void 0:this.element.addEventListener(e,n)}},{key:"scrollTo",value:function(e){return this.windowMode?window.scrollTo(e):this.windowMode?void 0:this.element.scrollTo(e)}},{key:"focusGap",get:function(){return.3*e.visibleHeight}},{key:"focusY",get:function(){return.3*e.visibleHeight+e.currentScroll}},{key:"focusedElement",get:function(){var e=this;return Array.from(document.querySelectorAll("*")).filter((function(n){if(0===n.offsetWidth&&0===n.offsetHeight)return!1;if(n.closest(".canopy-image"))return!1;var t=n.getBoundingClientRect();return t.bottom>0&&t.bottom<=e.visibleHeight})).reduce((function(e,n){return null!=e&&e.classList.contains("canopy-selected-link")?e:null!=n&&n.classList.contains("canopy-selected-link")||!e||n.getBoundingClientRect().bottom<e.getBoundingClientRect().bottom?n:e}),null)||i.m0}}],null&&r(n.prototype,null),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),e}()},797:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var i=t(514),r=t(4207),o=t(4244),a=t.n(o),l=t(5044),c=t(9903);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function A(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}const f=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),"A"===(null==n?void 0:n.tagName))this.element=n;else{if(n instanceof e)throw new Error("Cannot instantiate link from link");if("object"===h(n))this.metadataObject=n;else{if("function"!=typeof n)throw new Error("Invalid argument to Link constructor");this.selectorCallback=n}}}var n,t,o;return n=e,t=[{key:"equals",value:function(n){if(!(n instanceof e))throw new Error("Argument must be of type link");return this.element===n.element}},{key:"matches",value:function(e){if(!e)throw new Error("Invalid link argument to Link#matches");return this.targetTopic===e.targetTopic&&this.targetSubtopic===e.targetSubtopic&&this.relativeLinkNumber===e.relativeLinkNumber}},{key:"contradicts",value:function(e){if(!(e instanceof i.A))throw new Error("Invalid path argument to Link#contradicts");return this.targetPath.string!==e.string}},{key:"element",get:function(){if(this.linkElement)return this.linkElement;if(this.metadataObject)return this.linkElement=e.fromMetadata(this.metadata),this.linkElement?this.linkElement:null;if(this.selectorCallback){var n=this.selectorCallback();return this.element=null==n?void 0:n.element,this.linkElement}},set:function(n){n instanceof HTMLAnchorElement?this.linkElement=n:n instanceof e&&(this.linkElement=n.element),this.transferDataset()}},{key:"tryElement",get:function(){try{this.element}catch(e){return null}}},{key:"top",get:function(){return this.element?this.element.closest(".canopy-bounding-box-container")?this.element.closest(".canopy-bounding-box-container").getBoundingClientRect().top:this.element.getBoundingClientRect().top:null}},{key:"bottom",get:function(){return this.element?this.element.closest(".canopy-bounding-box-container")?this.element.closest(".canopy-bounding-box-container").getBoundingClientRect().bottom:this.element.getBoundingClientRect().bottom:null}},{key:"innerText",get:function(){var e;return this.element?null===(e=this.element)||void 0===e?void 0:e.innerText:null}},{key:"isBig",get:function(){return this.element.offsetHeight/c.A.visibleHeight>.4}},{key:"positionOnViewport",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),n=c.A.visibleHeight,t=e.top;return t<0?-1:t>n?1/0:t/n}},{key:"transferDataset",value:function(){this.linkElement&&(this._literalPathString=this.linkElement.dataset.literalPathString,this._enclosingTopic=this.linkElement.dataset.enclosingTopic,this._enclosingSubtopic=this.linkElement.dataset.enclosingSubtopic,this._typeValue=this.linkElement.dataset.type,this._text=this.linkElement.dataset.text,this.linkElement._literalPathString=this.linkElement.dataset.literalPathString,this.linkElement._enclosingTopic=this.linkElement.dataset.enclosingTopic,this.linkElement._enclosingSubtopic=this.linkElement.dataset.enclosingSubtopic,this.linkElement._typeValue=this.linkElement.dataset.type,this.linkElement._text=this.linkElement.dataset.text)}},{key:"text",get:function(){var e,n,t;return(null===(e=this.linkElement)||void 0===e||null===(n=e.dataset)||void 0===n?void 0:n.text)||(null===(t=this.metadataObject)||void 0===t?void 0:t.text)}},{key:"targetTopic",get:function(){return this.literalPath.lastTopic}},{key:"targetSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.lastSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"childTopic",get:function(){return this.literalPath.firstTopic}},{key:"childSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.firstSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"enclosingTopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingTopic)}},{key:"enclosingTopicParagraph",get:function(){return this.enclosingParagraph.topicParagraph}},{key:"enclosingSubtopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingSubtopic)}},{key:"topicName",get:function(){throw new Error("Links have no topicName, only targetTopic or enclosingTopic")}},{key:"subtopicName",get:function(){throw new Error("Links have no subtopicName, only targetSubtopic or enclosingSubtopic")}},{key:"type",get:function(){return this.element.dataset.type}},{key:"enclosingSectionElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-section")}},{key:"sectionElement",get:function(){throw new Error("Depreciated in favor of #enclosingSectionElement")}},{key:"enclosingParagraphElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-paragraph")}},{key:"parentParagraphElement",get:function(){throw new Error("Depreciated in favor of #enclosingParagraphElement")}},{key:"enclosingParagraph",get:function(){return this.enclosingSectionElement?new r.A(this.enclosingSectionElement):null}},{key:"enclosingPath",get:function(){return this.metadataObject||this.enclosingSectionElement?this.metadataObject?new i.A(this.metadataObject.enclosingPathString):this.enclosingParagraph.path:null}},{key:"targetParagraph",get:function(){return this.isParent?r.A.byPath(this.inlinePath)?r.A.byPath(this.inlinePath):(this.cycle||console.log("Did not find paragraph child element matching link [".concat(this.literalPath.firstTopic.mixedCase,", ").concat(this.literalPath.firstSubtopic.mixedCase,"]")),null):null}},{key:"childPath",get:function(){return this.childParagraph.path}},{key:"childParagraph",get:function(){return this.isLocal?this.targetParagraph:this.isGlobal?this.enclosingPath.append(this.literalPath.firstTopicPath).paragraph:null}},{key:"matcher",get:function(){var e=this;return function(n){return n.matches(e)}}},{key:"relativeLinkNumber",get:function(){return this.storedRelativeLinkNumber||(this.storedRelativeLinkNumber=this.enclosingParagraph.links.map((function(e){return e.element})).indexOf(this.element)),this.storedRelativeLinkNumber}},{key:"metadata",get:function(){if(this.metadataObject)return null!=this&&this.linkElement?e.collectMetadata(this.linkElement):this.metadataObject;if(this.linkElement){var n=e.collectMetadata(this.linkElement);return this.metadataObject=n,n}if(this.selectorCallback)return this.element=this.selectorCallback(),this.metadata;throw new Error("Link has neither supplied metadata, dom element, nor selector function")}},{key:"path",get:function(){throw"#path is deprecated in favor of #inlinePath or #literalPath"}},{key:"targetPath",get:function(){throw"#targetPath is deprecated in favor of #inlinePath or #literalPath"}},{key:"literalPath",get:function(){var e;return this.isLocal?i.A.forSegment(this.enclosingTopic,this.targetSubtopic):this.isGlobal?i.A.for(((null===(e=this.element)||void 0===e?void 0:e.dataset)||this.metadataObject).literalPathString):null}},{key:"nextSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[e.length-1]))return null;var n=e.map((function(e){return e.element}));return e[n.indexOf(this.element)+1]}},{key:"previousSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[0]))return null;var n=e.map((function(e){return e.element}));return e[n.indexOf(this.element)-1]}},{key:"siblings",get:function(){return this.enclosingParagraph.links}},{key:"firstSibling",get:function(){return this.siblings[0]}},{key:"lastSibling",get:function(){return this.siblings[this.siblings.length-1]}},{key:"firstChildLink",get:function(){return this.targetParagraph.firstLink}},{key:"lastChildLink",get:function(){return this.targetParagraph.lastLink}},{key:"siblingOf",value:function(e){return this.enclosingParagraph&&this.enclosingParagraph.equals(null==e?void 0:e.enclosingParagraph)}},{key:"parentLink",get:function(){var e;return null===(e=this.enclosingParagraph)||void 0===e?void 0:e.parentLink}},{key:"isParentLinkOf",value:function(e){var n;return null==e||null===(n=e.parentLink)||void 0===n?void 0:n.equals(this)}},{key:"grandParentLink",get:function(){var e;return null===(e=this.parentLink)||void 0===e?void 0:e.parentLink}},{key:"topicParagraph",get:function(){return this.element?new r.A(this.element.parentNode.closest(".canopy-topic-section")):null}},{key:"selected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.includes("canopy-selected-link")}},{key:"open",value:function(){var e;null===(e=this.element)||void 0===e||e.classList.add("canopy-open-link")}},{key:"isOpen",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-open-link")}},{key:"isClosed",get:function(){return!this.isOpen}},{key:"isClosedCycle",get:function(){return!this.isOpen&&this.cycle}},{key:"isSelected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-selected-link")}},{key:"isPathReference",get:function(){return"global"===this.type&&(this.literalPath.length>1||this.childTopic.mixedCase!==this.childSubtopic.mixedCase)}},{key:"isCoterminalReference",get:function(){return this.literalPath.includesTopic(this.enclosingTopic)&&a().areEqual(this.literalPath.lastTopic,this.enclosingTopic)&&a().areEqual(this.literalPath.lastSubtopic,this.enclosingSubtopic)}},{key:"pathOfCoterminalOverlap",get:function(){for(var e=this,n=this.inlinePath.pathArray.map((function(n){var t,i,r=(i=2,function(e){if(Array.isArray(e))return e}(t=n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}}(t,i)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0];return r[1],a().areEqual(o,e.enclosingTopic)})).lastIndexOf(!0),t=this.enclosingPath.length-1;0!==t&&this.inlinePath.pathArray[t-1][0].mixedCase===this.inlinePath.pathArray[n-1][0].mixedCase;)n--,t--;return this.inlinePath.slice(0,n+1)}},{key:"isSelfReference",get:function(){return this.enclosingParagraph.path.lastSegment.equals(this.literalPath)}},{key:"isRehashReference",get:function(){return this.enclosingPath.endsWith(this.literalPath)}},{key:"pathOfRehash",get:function(){return this.enclosingPath.sliceBeforeLastTopicInstance(this.literalPath.firstTopic).append(i.A.forTopic(this.literalPath.firstTopic)).intermediaryPathsTo(this.enclosingPath)[1]}},{key:"isSimpleGlobal",get:function(){return this.isGlobal&&!this.isPathReference}},{key:"isEffectivePathReference",get:function(){return this.isPathReference&&(!this.cycle||this.isInlinedCycleReference)}},{key:"isInlinedCycleReference",get:function(){return this.introducesNewCycle&&this.isOpen}},{key:"isInDom",get:function(){var e;return!(null===(e=this.element)||void 0===e||!e.closest("#_canopy"))}},{key:"isExternal",get:function(){return"external"===this.type}},{key:"isGlobal",get:function(){return"global"===this.type}},{key:"isLocal",get:function(){return"local"===this.type}},{key:"isCycle",get:function(){return this.introducesNewCycle}},{key:"isBackCycle",get:function(){return this.inlinePath.reduce().subsetOf(this.enclosingPath)||this.isRehashReference}},{key:"isLateralCycle",get:function(){return this.cycle&&!this.inlinePath.reduce().subsetOf(this.enclosingPath)&&!this.isDownCycle}},{key:"isDownCycle",get:function(){return this.cycle&&this.inlinePath.reduce().includes(this.enclosingPath)}},{key:"isParent",get:function(){return this.isGlobal||this.isLocal}},{key:"isSiblingOf",value:function(e){return this.enclosingParagraph.equals(e.enclosingParagraph)}},{key:"isIn",value:function(e){if(!(e instanceof r.A))throw"Wrong argument type: "+h(e);return e.links.map((function(e){return e.element})).includes(this.element)}},{key:"hasChildren",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.hasLinks}},{key:"firstChild",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.links.filter((function(e){var n;return!(null!==(n=e.element)&&void 0!==n&&n.closest(".canopy-image-caption"))}))[0]}},{key:"firstChildOf",value:function(e){var n;return!(null===(n=e.firstChild)||void 0===n||!n.equals(this))}},{key:"isFragment",get:function(){var e,n;return""===(null===(e=this.childParagraph)||void 0===e||null===(n=e.paragraphElement)||void 0===n?void 0:n.innerText)}},{key:"childParagraphElement",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.paragraphElement}},{key:"isOffScreen",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),n=c.A.visibleHeight;return e.top<0||e.bottom>n}},{key:"isVisible",get:function(){return!!this.element&&this.top>=0&&this.bottom<=c.A.visibleHeight}},{key:"isAboveViewport",get:function(){return this.top<c.A.top}},{key:"isBelowViewport",get:function(){return this.bottom>c.A.visibleHeight}},{key:"isHigherThan",value:function(e){return this.top<e.top}},{key:"isFocused",get:function(){var e=.15*c.A.visibleHeight,n=.5*c.A.visibleHeight,t=this.bottom>e,i=this.top<n;return t&&i}},{key:"cycle",get:function(){return this.introducesNewCycle}},{key:"backButton",get:function(){return this.literalPath.equals(this.enclosingParagraph.topicPath)}},{key:"introducesNewCycle",get:function(){return!!this.isGlobal&&i.A.introducesNewCycle(this.enclosingPath,this.literalPath)}},{key:"inlinePath",get:function(){return this.isGlobal?this.enclosingParagraph.path.append(this.literalPath):this.isLocal?this.enclosingParagraph.path.replaceTerminalSubtopic(this.targetSubtopic):this.enclosingParagraph.path}},{key:"selectionPath",get:function(){return this.metadataObject&&!r.A.contentLoaded?new i.A(this.metadataObject.selectionPathString):this.isExternal||this.isGlobal&&this.introducesNewCycle?this.enclosingPath:this.isGlobal||this.isLocal?this.inlinePath:void 0}},{key:"urlPath",get:function(){return this.cycle||this.externalLink||this.isPathReference?this.enclosingPath:this.isLocal||this.isSimpleGlobal||this.isInlinedCycleReference?this.inlinePath:void 0}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.options)throw"Caller produced malformed options object";return null!=e&&e.newTab&&this.isParent&&e.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!=e&&e.newTab&&this.isParent?window.open(location.origin+this.selectionPath.productionPathString,"_blank"):e.inlineCycles&&this.isCycle?(0,l.A)(this.inlinePath,this,e):e.scrollToParagraph&&!this.isFragment?(0,l.A)(this.selectionPath,null,e):(0,l.A)(this.selectionPath,this,e)}},{key:"execute",value:function(){var n,t,r,o,a=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(c=u({scrollDirect:!0},c)).renderOnly||e.persistLinkSelectionInSession(this),this.isExternal?window.open(this.element.href,"_blank"):null!==(n=c)&&void 0!==n&&n.newTab&&this.isCycle&&c.inlineCycles?window.open(location.origin+this.inlinePath.productionPathString,"_blank"):null!==(t=c)&&void 0!==t&&t.newTab&&this.isCycle?window.open(location.origin+this.inlinePath.reduce().productionPathString,"_blank"):null!==(r=c)&&void 0!==r&&r.newTab&&this.isParent&&c.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!==(o=c)&&void 0!==o&&o.newTab&&this.isParent?window.open(location.origin+this.selectionPath.productionPathString,"_blank"):c.redirect?this.literalPath.display(u({scrollStyle:"instant"},c)):this.isSelfReference&&!this.isOpen?this.enclosingPath.lastSegment.isTopic?this.enclosingPath.withoutLastSegment.display({renderOnly:c.renderOnly}):this.enclosingPath.parentLink.select({renderOnly:c.renderOnly}):this.isRehashReference&&!this.isOpen?(c.renderOnly||e.pushHistoryState(this.selectionPath,this),this.literalPath.isTopic?(0,l.A)(this.enclosingPath,this.enclosingPath.parentLink,u(u({},c),{},{scrollToParagraph:!1})):(0,l.A)(i.A.current,this.pathOfRehash.parentLink,{renderOnly:c.renderOnly})):this.isCoterminalReference&&!this.isOpen?(c.renderOnly||e.pushHistoryState(this.selectionPath,this),this.inlinePath.display(u(u({},c),{},{renderOnly:!0,inlineCycles:!0})).then((function(){return(0,l.A)(a.inlinePath,a.pathOfCoterminalOverlap.parentLink,{renderOnly:c.renderOnly})}))):this.isCycle&&!c.inlineCycles?(c.renderOnly||e.pushHistoryState(this.selectionPath,this),this.isBackCycle?this.inlinePath.reduce().intermediaryPathsTo(this.enclosingPath)[1].parentLink.select({renderOnly:c.renderOnly}).then((function(){return a.inlinePath.reduce().display({renderOnly:c.renderOnly,noScroll:!0})})):this.inlinePath.reduce().display({renderOnly:c.renderOnly})):this.isPathReference&&!this.cycle||this.cycle&&c.inlineCycles?(c.renderOnly||e.pushHistoryState(this.selectionPath,this),this.inlinePath.display(u({noScroll:!0},c)).then((function(){return a.inlinePath.parentLink.select(u(u({},c),{},{scrollDirect:!0,scrollToParagraph:!1}))}))):(!c.renderOnly&&c.pushLinkSelection&&e.pushHistoryState(this.selectionPath,this),(c.selectALink&&this.firstChild||this).select(c))}},{key:"addSelectionClass",value:function(){e.updateSelectionClass(this)}},{key:"onPage",get:function(){if(!this.element)return null;var e=window.getComputedStyle(this.element);return this.element.offsetWidth>0&&this.element.offsetHeight>0&&"none"!==e.display&&"hidden"!==e.visibility}},{key:"eraseLinkData",value:function(){var e,n,t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");this.enclosingPath&&delete t[this.enclosingPath],sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(t)),null!==(e=history)&&void 0!==e&&null!==(n=e.state)&&void 0!==n&&n.linkSelection&&(history.state.linkSelection=null)}},{key:"isLastSelection",get:function(){var n;return null===(n=e.lastSelectionOfParagraph(this.enclosingParagraph))||void 0===n?void 0:n.equals(this)}}],o=[{key:"collectMetadata",value:function(n){var t=new e(n);return{enclosingPathString:t.enclosingPath.string,text:n.dataset.text,relativeLinkNumber:t.relativeLinkNumber,selectionPathString:t.selectionPath.string,targetUrl:n.dataset.targetUrl,targetTopicString:n.dataset.targetTopic,targetSubtopicString:n.dataset.targetSubtopic,literalPathString:n.dataset.literalPathString}}},{key:"fromMetadata",value:function(e){var n=new i.A(e.enclosingPathString).paragraph;if(n||console.trace(),!n)return console.error("Link selection data refers to non-existant link",e);var t=n.linkBySelector((function(n){return n.isParent&&n.selectionPath.string===e.selectionPathString&&n.relativeLinkNumber===e.relativeLinkNumber&&n.text===e.text})),r=t||n.linkBySelector((function(n){var t,i;return n.isParent&&n.selectionPath.string===e.selectionPathString||n.isExternal&&(null===(t=n.element)||void 0===t||null===(i=t.dataset)||void 0===i?void 0:i.targetUrl)===e.targetUrl}));return(null==r?void 0:r.element)||null}},{key:"removeSelectedSelectionClass",value:function(){Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-selected-link")}))}},{key:"deselect",value:function(n){e.updateSelectionClass(n||null)}},{key:"updateSelectionClass",value:function(e){var n;Array.from(document.querySelectorAll("a.canopy-selected-link")).forEach((function(e){return e.classList.remove("canopy-selected-link")})),e&&(null===(n=e.element)||void 0===n||n.classList.add("canopy-selected-link"))}},{key:"persistLinkSelection",value:function(n){e.persistLinkSelectionInHistory(n),e.persistLinkSelectionInSession(n)}},{key:"selectionPresentInEvent",value:function(e){var n;return e.state&&(null===(n=e.state)||void 0===n?void 0:n.linkSelection)}},{key:"sessionSelection",get:function(){if(i.A.url.empty)return null;var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}")[i.A.url.string];return n&&null!==n?new e(n):null}},{key:"historySelection",get:function(){var n,t;return i.A.url.empty?null:null!==(n=history)&&void 0!==n&&null!==(t=n.state)&&void 0!==t&&t.linkSelection?new e(history.state.linkSelection):null}},{key:"savedSelection",get:function(){return this.historySelection}},{key:"selection",get:function(){var n=document.querySelector("a.canopy-selected-link");return n?new e(n):null}},{key:"persistLinkSelectionInHistory",value:function(e){history.replaceState(e&&{linkSelection:e.metadata}||null,document.title,window.location.href)}},{key:"pushHistoryState",value:function(e,n){history.pushState(n?{linkSelection:n.metadata}:null,document.title,window.location.origin+n.selectionPath.productionPathString)}},{key:"current",value:function(){throw new Error("Link#current does not exist, try Link#selection")}},{key:"persistLinkSelectionInSession",value:function(e){if(e){var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");n[e.enclosingParagraph.path]=e.metadata,sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(n))}}},{key:"lastSelectionOfParagraph",value:function(n){var t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");if(t[n.path])return new e(t[n.path])}},{key:"visible",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(n){return e.for(n)})).filter((function(e){return e.isVisible}))}},{key:"eagerLoadVisibleLinks",value:function(){setTimeout((function(){return e.visible.filter((function(e){return e.isGlobal})).forEach((function(e){return setTimeout((function(){return e.execute({renderOnly:!0})}))}))}))}},{key:"onPage",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(n){return e.for(n)})).filter((function(e){return e.onPage}))}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],t&&A(n.prototype,t),o&&A(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}()},4207:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var i=t(514),r=t(797),o=t(1995),a=t(9903),l=t(4244),c=t.n(l);function s(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u,p,d,h=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),!n||"SECTION"!==n.tagName)throw new Error("Paragraph instantiation requires section element");if(!n.classList.contains("canopy-section"))throw new Error("Paragraph class requires Canopy section element");this.sectionElement=n,this.transferDataset();var t=e.byPath(this.sectionElement.dataset.pathString);if(t)return t}var n,t,l;return n=e,l=[{key:"from",value:function(e){return new this(e)}},{key:"selection",get:function(){return e.current}},{key:"current",get:function(){var n=document.querySelector(".canopy-selected-section");return n?new e(n):null}},{key:"removeSelectionClass",value:function(){var e;null===(e=document.querySelector(".canopy-selected-section"))||void 0===e||e.classList.remove("canopy-selected-section")}},{key:"root",get:function(){return i.A.current.firstTopicPath.paragraph}},{key:"containingLink",value:function(n){if(!(n instanceof r.A))throw new Error("Must provide link instance argument");return new e(n.element.parentNode.closest(".canopy-section"))}},{key:"visible",get:function(){for(var e=i.A.rendered,n=[];e;)n.push(e.paragraph),e=e.parentPath;return n}},{key:"atY",value:function(n){return e.visible.reduce((function(e,t){return e.top<n&&e.bottom>n?e:t.top<n&&t.bottom>n?t:Math.abs(e.top-n)<Math.abs(t.top-n)?e:t}))}},{key:"byPath",value:function(e){return e?(e instanceof i.A&&(e=e.pathString),this.paragraphsByPath[e]):null}},{key:"registerNode",value:function(n){var t=e.byPath(n.dataset.pathString)||e.for(n);e.paragraphsByPath[n.dataset.pathString]=t}},{key:"registerChild",value:function(n,t){e.registerNode(n),e.byPath(n.dataset.pathString).parentNode=t}},{key:"registerSubtopics",value:function(n){Array.from(n.querySelectorAll(".canopy-section")).forEach((function(n){e.registerNode(n),e.registerChild(n,n.parentNode)}))}},{key:"detachSubtopics",value:function(e){Array.from(e.querySelectorAll(".canopy-section")).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"all",get:function(){return Array.from(document.querySelectorAll(".canopy-section")).map((function(n){return e.for(n)}))}},{key:"focused",get:function(){return e.atY(.3*a.A.visibleHeight+a.A.currentScroll)}},{key:"contentLoaded",get:function(){return!(!document.querySelector("h1.canopy-header")||!document.querySelector("canopy.section"))}},{key:"for",value:function(n){return e.byPath(n.dataset.pathString)?e.byPath(n.dataset.pathString):new e(n)}}],(t=[{key:"equals",value:function(e){return!!e&&this.sectionElement===e.sectionElement}},{key:"allocateSpace",value:function(){this.sectionElement.style.display="block",this.sectionElement.style.opacity="0%"}},{key:"display",value:function(){var e=this;this.sectionElement.style.display="block",this.sectionElement.style.opacity="100%",this.paragraphElement.style.unicodeBidi="unset",requestAnimationFrame((function(){e.paragraphElement.style.unicodeBidi="plaintext"}))}},{key:"element",get:function(){throw new Error("Depreciated in favor of #sectionElement property")}},{key:"transferDataset",value:function(){this._topicName=this.sectionElement.dataset.topicName,this._subtopicName=this.sectionElement.dataset.subtopicName,this._pathString=this.sectionElement.dataset.pathString,this.pathDepth=Number(this.sectionElement.dataset.pathDepth)}},{key:"isVisible",get:function(){return"none"!==window.getComputedStyle(this.sectionElement).display}},{key:"isFocused",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),n=a.A.visibleHeight,t=.1*n,i=.5*n,r=e.top>t,o=e.top<i;return r&&o}},{key:"topic",get:function(){return c().fromMixedCase(this.sectionElement.dataset.topicName)}},{key:"subtopic",get:function(){return c().fromMixedCase(this.sectionElement.dataset.subtopicName)}},{key:"topicName",get:function(){throw new Error("Depreciated in favor of #topic")}},{key:"subtopicName",get:function(){throw new Error("Depreciated in favor of #subtopic")}},{key:"paragraphElement",get:function(){var e=Array.from(this.sectionElement.childNodes).find((function(e){return"P"===e.tagName}));if(!e)throw new Error("Paragraph has no paragraph element");return e}},{key:"path",get:function(){return new i.A(this.sectionElement.dataset.pathString)}},{key:"literalPath",get:function(){return i.A.forSegment(this.topic,this.subtopic)}},{key:"topicPath",get:function(){return this.path.lastSegment.firstTopicPath}},{key:"pathDown",get:function(){return this.path.slice(this.pathDepth)}},{key:"links",get:function(){if(this.linkObjects)return this.linkObjects;var e=this.paragraphElement.querySelectorAll("a.canopy-selectable-link");return this.linkObjects=Array.from(e).map((function(e){return new r.A(e)})),this.linkObjects}},{key:"linkElements",get:function(){return Array.from(this.paragraphElement.querySelectorAll(".canopy-selectable-link"))}},{key:"firstLink",get:function(){return this.links[0]||null}},{key:"nthLink",value:function(e){return this.links[e]||null}},{key:"lastLink",get:function(){return this.links[this.links.length-1]||null}},{key:"previousLink",get:function(){return r.A.lastSelectionOfParagraph(this)}},{key:"isRoot",get:function(){return this.sectionElement.parentNode===o.m0}},{key:"hasLinks",get:function(){return this.links.length>0}},{key:"linkBySelector",value:function(e){return this.links.find(e)}},{key:"linksBySelector",value:function(e){return this.links.filter(e)}},{key:"linkByChild",value:function(e,n){return this.linkBySelector((function(t){return t.isGlobal&&t.childTopic.caps===(null==e?void 0:e.caps)||t.isLocal&&t.targetSubtopic.caps===(null==n?void 0:n.caps)}))}},{key:"parentLink",get:function(){var e,n,t,i=this;if(this.parentNode===o.m0)return null;if(this.parentParagraph.linkElements.includes(null===(e=r.A.selection)||void 0===e?void 0:e.element)&&null!==(n=r.A.selection)&&void 0!==n&&null!==(t=n.childParagraph)&&void 0!==t&&t.equals(this))return r.A.selection;if(!this.isTopic)return this.parentParagraph.links.find((function(e){return e.isLocal&&e.targetSubtopic.caps===i.subtopic.caps}));var a=r.A.lastSelectionOfParagraph(this.parentParagraph);return this.parentLinks.length>1&&a&&this.parentLinks.find((function(e){return e.equals(a)}))?a:this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&1===e.literalPath.length&&e.childTopic.caps===i.topic.caps&&e.childSubtopic.caps===i.topic.caps}))||this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&e.childTopic.caps===i.topic.caps}))}},{key:"parentLinks",get:function(){var e=this;return this.sectionElement.parentNode===o.m0?null:this.parentParagraph.linksBySelector((function(n){return n.isGlobal&&n.childTopic.caps===e.topic.caps||n.isLocal&&n.targetSubtopic.caps===e.subtopic.caps}))}},{key:"displayTopicName",get:function(){return this.sectionElement.dataset.displayTopicName}},{key:"parentParagraph",get:function(){if(this.parentNode&&"SECTION"===this.parentNode.tagName)return e.for(this.parentNode);if(this.sectionElement){var n,t,i=null===(n=this.sectionElement)||void 0===n||null===(t=n.parentNode)||void 0===t?void 0:t.closest(".canopy-section");return i?new e(i):null}return null}},{key:"topicParagraph",get:function(){if(this.isTopic)return this;var n=this.sectionElement.parentNode.closest(".canopy-topic-section");if(!n)throw new Error("Missing topic paragraph");return new e(n)}},{key:"isTopic",get:function(){return c().areEqual(this.topic,this.subtopic)}},{key:"isInDom",get:function(){return!!this.sectionElement.closest("div#_canopy")}},{key:"isBig",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight>.75}},{key:"fits",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight<.8}},{key:"top",get:function(){return this.paragraphElement.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.paragraphElement.getBoundingClientRect().bottom}},{key:"positionOnViewport",get:function(){if(!this.paragraphElement)return null;var e=this.element.getBoundingClientRect(),n=a.A.visibleHeight,t=e.top;return t<0?-1:t>n?1/0:t/n*100}},{key:"addSelectionClass",value:function(){this.sectionElement.classList.add("canopy-selected-section")}},{key:"removeSelectionClass",value:function(){this.sectionElement.classList.remove("canopy-selected-section")}},{key:"scrollComplete",value:function(){this.sectionElement.classList.add("canopy-scroll-complete")}},{key:"removeFromDom",value:function(){this.sectionElement.parentNode.removeChild(this.sectionElement)}},{key:"addToDom",value:function(){if(!this.parentNode)throw new Error("Every sectionElement must have parentNode");if(this.parentNode.appendChild(this.sectionElement),this.parentParagraph&&this.parentParagraph.addToDom(),this.path.isTopic)return o.m0.appendChild(this.sectionElement)}}])&&s(n.prototype,t),l&&s(n,l),Object.defineProperty(n,"prototype",{writable:!1}),e}();d={},(p="paragraphsByPath")in(u=h)?Object.defineProperty(u,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):u[p]=d;const A=h},514:(e,n,t)=>{"use strict";t.d(n,{A:()=>m});var i=t(1995),r=t(4207),o=t(797),a=t(4244),l=t.n(a),c=t(5044);function s(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||p(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function h(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var A,f,y,g=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n?Array.isArray(n)?(0===n.length?this.pathArray=[]:(this.pathArray=n.slice(),e.validatePathArray(this.array)),this.pathString=e.arrayToString(this.array)):("string"==typeof n||n instanceof String)&&(this.pathArray=e.stringToArray(n),this.pathString=e.arrayToString(this.array)):this.pathArray=[]}var n,t,a;return n=e,t=[{key:"length",get:function(){return this.pathArray[0]?this.pathArray.length:0}},{key:"equals",value:function(e){return!!e&&this.string===e.string}},{key:"isIn",value:function(e){var n;return!!e&&(!!this.equals(e)||!e.isTopic&&!this.visitsTopicNotIn(e)&&(!!"".concat(e.string,"/").includes("".concat(this.string,"/"))||this.isIn(null==e||null===(n=e.paragraph)||void 0===n?void 0:n.parentParagraph.path)))}},{key:"visitsTopicNotIn",value:function(e){return this.topicStringArray.some((function(n){return!e.topicStringArray.includes(n)}))}},{key:"includes",value:function(e){return e.isIn(this)}},{key:"includesTopic",value:function(e){return this.pathArray.find((function(n){var t=u(n,2),i=t[0];return t[1],l().areEqual(e,i)}))}},{key:"array",get:function(){return this.pathArray}},{key:"string",get:function(){return this.pathString}},{key:"empty",get:function(){return!this.array[0]}},{key:"slice",value:function(){var e;return new this.constructor((e=this.pathArray.slice).call.apply(e,[this.pathArray].concat(Array.prototype.slice.call(arguments))))}},{key:"sliceAfterLastTopicInstance",value:function(e){return new this.constructor(this.pathArray.slice(0,this.pathArray.findLastIndex((function(n){var t=u(n,1)[0];return l().areEqual(t,e)}))+1))}},{key:"sliceBeforeLastTopicInstance",value:function(e){return new this.constructor(this.pathArray.slice(0,this.pathArray.findLastIndex((function(n){var t=u(n,1)[0];return l().areEqual(t,e)}))))}},{key:"segments",get:function(){return this.pathArray}},{key:"firstTopic",get:function(){return this.empty?null:this.pathArray[0][0]}},{key:"firstTopicPath",get:function(){return this.constructor.forSegment(this.pathArray[0][0],this.pathArray[0][0])}},{key:"lastTopic",get:function(){return this.lastSegment.topic}},{key:"topic",get:function(){var e;return null===(e=this.lastSegment.array[0])||void 0===e?void 0:e[0]}},{key:"firstSubtopic",get:function(){return this.empty?null:this.pathArray[0][1]}},{key:"lastSubtopic",get:function(){return this.lastSegment.firstSubtopic}},{key:"secondTopic",get:function(){return this.pathArray[1]&&this.pathArray[1][0]}},{key:"secondSubtopic",get:function(){return this.pathArray[1]&&this.pathArray[1][1]}},{key:"firstSegment",get:function(){return new this.constructor(this.pathArray.slice(0,1))}},{key:"lastSegment",get:function(){return new this.constructor(this.pathArray.slice(-1))}},{key:"withoutFirstSegment",get:function(){return new this.constructor(this.pathArray.slice(1))}},{key:"withoutLastSegment",get:function(){return new this.constructor(this.pathArray.slice(0,-1))}},{key:"withoutLastSubtopic",get:function(){return new this.constructor(this.pathArray.slice(0,-1)).append(e.forTopic(this.lastTopic))}},{key:"endsWith",value:function(e){var n=this.pathArray.length,t=e.pathArray.length;if(t>n)return!1;for(var i=1;i<=t;i++){var r=u(this.pathArray[n-i],2),o=r[0],a=r[1],l=u(e.pathArray[t-i],2),c=l[0],s=l[1];if(o.mixedCase!==c.mixedCase||a.mixedCase!==s.mixedCase)return!1}return!0}},{key:"isTopic",get:function(){return 1===this.pathArray.length&&l().areEqual(this.pathArray[0][0],this.pathArray[0][1])}},{key:"parentPath",get:function(){var e,n;return null===(e=this.paragraph)||void 0===e||null===(n=e.parentParagraph)||void 0===n?void 0:n.path}},{key:"parentLink",get:function(){var e;return null===(e=this.paragraph)||void 0===e?void 0:e.parentLink}},{key:"firstParentLink",value:function(){return this.firstTopicPath.intermediaryPathsTo(this)[1].parentLink}},{key:"nextLink",get:function(){var e,n;return(null===(e=this.paragraph)||void 0===e?void 0:e.firstLink)||(null===(n=this.paragraph)||void 0===n?void 0:n.parentLink)}},{key:"forEach",value:function(e){this.array.forEach(e)}},{key:"clone",value:function(){return new e(this.array.slice())}},{key:"pageTitle",get:function(){return this.firstTopic.mixedCase!==this.lastTopic.mixedCase?this.firstTopic.mixedCase+": "+this.lastTopic.mixedCase:this.firstTopic.mixedCase}},{key:"cycle",get:function(){var e=this,n=null;return this.array.forEach((function(t,i){e.array.forEach((function(e,r){l().areEqual(t[0],e[0])&&i<r&&(n={start:i,end:r})}))})),n}},{key:"reduce",value:function(){var n=this.cycle;return n?new e([].concat(s(this.array.slice(0,n.start)),s(this.array.slice(n.end)))):this.clone()}},{key:"containsBackCycle",get:function(){return this.reduce().subsetOf(this)}},{key:"containsForwardCycle",get:function(){return this.cycle&&!this.containsBackCycle}},{key:"initialOverlap",value:function(e){if(this.empty||e.empty)return null;if(this.firstTopic.mixedCase!==e.firstTopic.mixedCase)return null;for(var n=e;!n.isTopic;){if(this.includes(n))return n;if(!n.parentPath)throw new Error("Undefined parent path for ".concat(n));n=n.parentPath}return n}},{key:"initialPartialOverlap",value:function(e){return this.initialOverlap(e)&&!this.equals(e)&&!this.subsetOf(e)&&!e.subsetOf(this)}},{key:"overlaps",value:function(e){return this.topicArray.some((function(n){return e.topicArray.some((function(e){return l().areEqual(n,e)}))}))}},{key:"terminalOverlap",value:function(e){var n=this.pathArray.findLastIndex((function(n){var t=u(n,1)[0];return l().areEqual(t,e.firstTopic)}));if(-1===n)return!1;for(var t=0,i=n;i<this.length;i++){if(t>=e.length)return!1;if(!l().areEqual(this.pathArray[i][0],e.pathArray[t][0]))return!1;if(!l().areEqual(this.pathArray[i][1],e.pathArray[t][1]))return!1;t++}return!0}},{key:"twoStepChange",value:function(e){return this.initialPartialOverlap(e)}},{key:"fulcrumLink",value:function(e){return this.includes(e)?e.initialOverlapAndFirstChild(this).parentLink:this.initialOverlapAndFirstChild(e).parentLink}},{key:"initialOverlapAndFirstChild",value:function(e){return this.includes(e)?null:this.initialOverlap(e).intermediaryPathsTo(e)[1]}},{key:"subsetOf",value:function(e){return e.includes(this)&&!this.equals(e)}},{key:"intermediaryPathsTo",value:function(e){if(!this.isIn(e))return null;for(var n=[],t=e.clone();t&&!this.equals(t);)n.unshift(t),t=t.parentPath;return n.unshift(this),n}},{key:"paragraphs",get:function(){for(var e=[],n=this.paragraph;n;)e.push(n),n=n.parentParagraph;return e}},{key:"childOf",value:function(e){var n;return null===(n=this.parentPath)||void 0===n?void 0:n.equals(e)}},{key:"parentOf",value:function(e){var n;return null===(n=e.parentPath)||void 0===n?void 0:n.equals(this)}},{key:"display",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null!=e&&e.newTab)return window.open(location.origin+this.string,"_blank");if(this.empty)return console.error("Cannot display empty path");if(e.options)throw"Caller produced malformed options object";return(0,c.A)(this,null,e)}},{key:"selectALink",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.display({renderOnly:!0}).then((function(){return(e.paragraph.firstLink||e.paragraph.parentLink).select(n)}))}},{key:"addSegment",value:function(n,t){return this.empty?new e([[n,t]]):new e(this.array.concat([[n,t]]))}},{key:"append",value:function(n){return new e(this.string+"/"+n.string)}},{key:"replaceTerminalSubtopic",value:function(e){if(0===this.length)return this;var n=this.lastSegment;return this.withoutLastSegment.addSegment(n.firstTopic,e)}},{key:"removeTerminalSubtopic",get:function(){if(0===this.length)return this;var e=this.lastSegment;return this.withoutLastSegment.addSegment(e.firstTopic,e.firstTopic)}},{key:"toString",value:function(){return this.string}},{key:"topicArray",get:function(){return this.array.map((function(e){return u(e,1)[0]}))}},{key:"topicStringArray",get:function(){return this.array.map((function(e){return u(e,1)[0].mixedCase}))}},{key:"sectionElement",get:function(){return e.elementAtRelativePath(this,i.m0)}},{key:"paragraph",get:function(){return r.A.byPath(this)?r.A.byPath(this):0===this.length?null:this.sectionElement?new r.A(this.sectionElement):null}},{key:"paragraphElement",get:function(){return this.paragraph.paragraphElement}},{key:"parentParagraph",get:function(){return this.paragraph.parentParagraph}},{key:"present",get:function(){return!!this.array[0]}},{key:"productionPathString",get:function(){var e="";return i.fP&&(e+="/".concat(i.fP)),i.T6&&(e+="/#"),e+this.pathString}}],a=[{key:"stringToArray",value:function(n){if("string"!=typeof n)throw new Error("Function requires string argument");if(this.stringToArrayCache.hasOwnProperty(n))return this.stringToArrayCache[n];if("/"===n)return[];var t=n.replace(/%5C%5C(%23|#)|%5C(%23|#)|(%23|#)/g,(function(e){return e.startsWith("%5C%5C")?"%5C%5C#":e.startsWith("%5C")?"%5C#":"#"})).split("/").filter((function(e){return""!==e})),i=(t=e.fixOrphanSubtopics(n,t)).map((function(e){var n=u(l().parseUrlSegment(e),2),t=n[0];return[t,n[1]||t]})).filter((function(e){return e[0]}));return this.stringToArrayCache[n]=i,i}},{key:"arrayToString",value:function(e){if(!Array.isArray(e))throw new Error("Argument must be array");if(Array.isArray(e)&&0===e.length)return"/";if(!Array.isArray(e[0]))throw new Error("Path array must be two-dimensional array");return"/"+e.map((function(e){var n=u(e,2),t=n[0],i=n[1],r=t.url;return i&&i.url!==t.url&&(r+="#"+i.url),r})).join("/")}},{key:"introducesNewCycle",value:function(e,n){if(n.reduce().length<n.length)return!0;var t=e.topicArray.map((function(e){return e.mixedCase})),i=n.topicArray.map((function(e){return e.mixedCase}));return t.some((function(e){return i.some((function(n){return e===n}))}))}},{key:"default",get:function(){var n=l().for((0,i.PZ)());return new e([[n,n]])}},{key:"root",get:function(){return e.url.firstTopicPath}},{key:"current",get:function(){return e.rendered||e.url}},{key:"rendered",get:function(){var e;return null===(e=r.A.selection)||void 0===e?void 0:e.path}},{key:"url",get:function(){var n=window.location.href.slice(window.location.origin.length);return i.fP&&0===n.indexOf("/".concat(i.fP))&&(n=n.slice(i.fP.length+1)),0===n.indexOf("/#")&&(n=n.slice(2)),new e(n)}},{key:"initial",get:function(){return e.url.present&&o.A.savedSelection?o.A.savedSelection.selectionPath:e.url.empty?e.default:e.url}},{key:"connectingLinkValid",value:function(n,t){if(!n)throw new Error("Parent element required");if(!(t instanceof e))throw new Error("pathToAppend must be a Path object");if(n===i.m0)return!0;var o=new r.A(n);return!!o.linkByChild(t.firstTopic)||(console.error("Parent element [".concat(o.topic.mixedCase,", ").concat(o.subtopic.mixedCase,"] has no ")+"connecting link to subsequent path segment [".concat(t.firstTopic.mixedCase,"]")),!1)}},{key:"elementAtRelativePath",value:function(n,t){if(!(n instanceof e))throw new Error("pathToDisplay must be a Path object");for(var r=t=t||i.m0,o=n,a=Number(t.dataset.pathDepth||-1),l=0;l<n.length;l++){if(a+=1,!(r=r.querySelector(":scope > "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]')+(o.firstTopic.mixedCase!==o.firstSubtopic.mixedCase?" "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]'):""))))return null;o=o.withoutFirstSegment}return r||console.log("element at relative path",n,t,r),r===i.m0?null:r}},{key:"setPath",value:function(n,t){var i,r,a,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(n instanceof e))throw new Error("newPath must be Path object");if(!l.popState){var c=e.url,s=n.lastTopic.mixedCase,u=!(null!==(i=history.state)&&void 0!==i&&i.linkSelection)&&!t||t&&(null===(r=history.state)||void 0===r?void 0:r.linkSelection)&&o.A.for(null===(a=history.state)||void 0===a?void 0:a.linkSelection).equals(t),p=e.url.empty||n.equals(c)&&u?function(e,n,t){history.replaceState(e,n,t)}:function(e,n,t){history.pushState(e,n,t)},d=n.productionPathString;p(history.state,s,d)}}},{key:"fixOrphanSubtopics",value:function(e,n){if("string"!=typeof e)throw new Error("pathString must be a string argument");if(!Array.isArray(n))throw new Error("slashSeparatedUnits must be an array");if(e.match(/\/#\w+/))for(var t=1;t<n.length;t++)if(n[t].match(/^#/)){if(n[t-1].match(/#/)){var i=n[t].slice(1);return n.slice(0,t).concat([i]).concat(n.slice(t+1))}var r=n[t-1]+n[t];return n.slice(0,t-1).concat([r]).concat(n.slice(t+1))}return n}},{key:"validatePathArray",value:function(e){e.forEach((function(e){if(2!==e.length)throw new Error("Invalid path segment format: ".concat(e));if(!(e[0]instanceof l()&&e[1]instanceof l()))throw new Error("Invalid path segment format: ".concat(JSON.stringify(e)))}))}},{key:"forTopic",value:function(e){return new this([[e,e]])}},{key:"forSegment",value:function(e,n){if(!(e instanceof l()&&n instanceof l()))throw new Error("Argument must be of type Topic");return new this([[e,n]])}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],t&&h(n.prototype,t),a&&h(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();y={},(f="stringToArrayCache")in(A=g)?Object.defineProperty(A,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):A[f]=y;const m=g},5806:(e,n,t)=>{"use strict";t.d(n,{d:()=>F});var i=t(4207),r=t(4244),o=t.n(r),a=t(514);var l=t(797),c=t(1995),s=t(9903),u=t(1246),p=t(2593);function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}const h=function(e){if(p.A[e.mixedCase])return p.A[e.mixedCase];var n=(c.fP?"/"+c.fP:"")+"/_data/"+e.requestFileName+".json",t=fetch(n).then((function(e){return e.json().then((function(e){return function(e){var n,t=JSON.stringify(e);c.m0.imagePreloadArray=c.m0.imagePreloadArray||[],(n=t.matchAll(/<img\s[^>]*?src=\\?["']([^"']+?)\\?["']|resourceUrl": ?"([^"]+)/g),function(e){if(Array.isArray(e))return d(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e[1]||e[2]})).forEach((function(e){var n=new Image;n.src=e,c.m0.imagePreloadArray.push(n)}))}(e),e}))})).catch((function(){return p.A[e.mixedCase]=void 0,Promise.reject(new Error('Unable to find topic file: "'.concat(e.requestFileName,'"')))}));return p.A[e.mixedCase]=t,t};function A(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function g(e,n){var t=new(o())(n),i=document.querySelector('h1[data-topic-name="'.concat(t.cssMixedCase,'"]'));if(i)return i;var r=document.createElement("h1");return r.dataset.topicName=t.mixedCase,r.style.display="none",r.classList.add("canopy-header"),e.forEach((function(e){O(e).forEach((function(e){return r.appendChild(e)}))})),r}function m(e){var n=window.getComputedStyle(e),t=parseFloat(n.fontSize),i=n.fontFamily;if(!t||t<=0)return console.warn("Font size is invalid or zero."),[0,0];var r=e.textContent.split("\n"),o=document.createElement("canvas"),a=o.getContext("2d",{willReadFrequently:!0});function l(e){a.clearRect(0,0,o.width,o.height),a.fillText(e,0,1.5*t);for(var n=a.getImageData(0,0,o.width,o.height).data,i=null,r=null,l=0;l<o.height;l++)for(var c=0;c<o.width;c++)if(n[4*(l*o.width+c)+3]>0){null===i&&(i=l),r=l;break}return{top:i,bottom:r}}o.width=10*t,o.height=3*t,a.font="".concat(t,"px ").concat(i),a.textBaseline="alphabetic";var c,s=l("()"),u=0,p=0,d=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?y(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}(r);try{for(d.s();!(c=d.n()).done;){var h=l(c.value),A=s.top-h.top,f=h.bottom-s.bottom,g=A,m=f>1?f:f<1?1:0;u=Math.max(u,g),p=Math.max(p,m)}}catch(e){d.e(e)}finally{d.f()}return[u,p]}function b(e){return function(n){if(!e)return console.error("whenInDom received falsey element argument");document.body.contains(e)?n():setTimeout((function(){return b(e)(n)}),1)}}function C(e){function n(e){var n=window.getComputedStyle(e);return e.offsetWidth>0&&e.offsetHeight>0&&"none"!==n.display&&"hidden"!==n.visibility}if(!Array.isArray(e)||0===e.length)throw new Error("The input should be a non-empty array of elements.");var t=null;if(e.forEach((function(e){if(n(e)){var i=function e(t){var i=t.getBoundingClientRect(),r={top:i.top,left:i.left,bottom:i.bottom,right:i.right};return Array.from(t.children).forEach((function(t){if(n(t)){var i=e(t);r.top=Math.min(r.top,i.top),r.left=Math.min(r.left,i.left),r.bottom=Math.max(r.bottom,i.bottom),r.right=Math.max(r.right,i.right)}})),r}(e);t?(t.top=Math.min(t.top,i.top),t.left=Math.min(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)):t=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?A(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):A(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},i)}})),!t)throw new Error("No visible elements found in the input array.");return t.width=t.right-t.left,t.height=t.bottom-t.top,t}function k(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||w(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,n){if(e){if("string"==typeof e)return x(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?x(e,n):void 0}}function x(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function S(e,n){if("text"===e.type)return function(e){var n=[];if(!e.text.includes("\n")){var t=document.createElement("SPAN");return t.classList.add("canopy-text-span"),t.innerText=e.text,[t]}return e.text.split("\n").forEach((function(e,t,i){if(e){var r=document.createElement("SPAN");r.classList.add("canopy-text-span"),r.innerText=e,n.push(r)}if(t!==i.length-1){var o=document.createElement("SPAN");o.classList.add("canopy-linebreak-span"),n.push(o)}})),n}(e);if("local"===e.type)return n.localLinkSubtreeCallback(e),function(e,n){var t=E(e,n);t.classList.add("canopy-local-link"),t.dataset.type="local",t.dataset.targetTopic=e.targetTopic,t.targetTopic=e.targetTopic,t.dataset.targetSubtopic=e.targetSubtopic,t.targetSubtopic=e.targetSubtopic;var i=new(o())(e.targetTopic),r=new(o())(e.targetSubtopic);return t.href="".concat(c.fP?"/"+c.fP:"").concat(c.T6?"/#":"","/").concat(i.url,"#").concat(r.url),[t]}(e,n);if("global"===e.type)return a.A.for(e.pathString).topicArray.map((function(e){return h(e)})),function(e,n){var t=E(e,n);t.classList.add("canopy-global-link"),t.dataset.type="global",t.dataset.literalPathString=e.pathString,t.path=e.path,t.href=a.A.for(e.pathString).productionPathString;var i=new l.A(t);if(n.pathToParagraph.overlaps(i.literalPath)){var r=document.createElement("span");r.classList.add("canopy-provisional-cycle-icon"),n.pathToParagraph.terminalOverlap(i.literalPath)||(r.innerText="↩"),t.querySelector(".canopy-link-content-container").appendChild(r)}return b(i.element)((function(){var e;if(i.element&&(i.element.closest(".canopy-paragraph")||console.error("No paragraph for link",t),i.cycle)){var n=t.querySelector(".canopy-provisional-cycle-icon");n.classList.remove("canopy-provisional-cycle-icon"),i.isBackCycle||t.closest(".canopy-menu-cell-left-aligned")?(n.classList.add("canopy-back-cycle-icon"),n.innerText="↩"):i.isLateralCycle?(n.classList.add("canopy-forward-cycle-icon"),n.innerText="↪"):i.isDownCycle&&(n.classList.add("canopy-down-cycle-icon"),n.innerText=""),e=i.text,/(?:[\u2190-\u21FF\u27F0-\u27FF\u2900-\u297F\u2B00-\u2BFF]|\uD83E[\uDC00-\uDCFF])/.test(e)&&(n.innerText="")}})),[t]}(e,n);if("disabled_reference"===e.type)return function(e,n){var t=E(e,n);return t.classList.remove("canopy-selectable-link"),t.removeAttribute("href"),t._CanopyClickHandler&&(t.removeEventListener("click",t._CanopyClickHandler),delete t._CanopyClickHandler),t.classList.add("canopy-disabled-link"),t.dataset.type="disabled",[t]}(e,n);if("fragment_reference"===e.type)return function(e,n){var t=E(e,n);t.classList.add("canopy-local-link"),t.dataset.type="local",t.dataset.targetTopic=e.targetTopic,t.targetTopic=e.targetTopic,t.dataset.targetSubtopic=e.targetSubtopic,t.targetSubtopic=e.targetSubtopic;var i=new(o())(e.targetTopic),r=new(o())(e.targetSubtopic);return t.href="".concat(c.fP?"/"+c.fP:"").concat(c.T6?"/#":"","/").concat(i.url,"#").concat(r.url),[t]}(e,n);if("external"===e.type)return function(e,n){var t=E(e,n);t.classList.add("canopy-external-link"),t.dataset.type="external",t.setAttribute("href",e.url),t.setAttribute("target","_blank"),t.dataset.targetUrl=e.url;var i=document.createElement("span");return i.classList.add("canopy-external-link-icon"),t.querySelector(".canopy-link-content-container").appendChild(i),b(t)((function(){t.querySelector("img")&&t.classList.add("canopy-linked-image")})),[t]}(e,n);if("image"===e.type)return function(e,n){var t=document.createElement("DIV");t.classList.add("canopy-image-container");var i=document.createElement("DIV");i.classList.add("canopy-image");var r=document.createElement("IMG");if(r.setAttribute("src",e.resourceUrl),r.setAttribute("decoding","async"),i.appendChild(r),e.title&&r.setAttribute("title",e.title),e.caption){var o=document.createElement("SPAN");o.classList.add("canopy-image-caption"),i.appendChild(o),e.tokens.forEach((function(e){S(e,n).forEach((function(e){return o.appendChild(e)}))}))}return e.altText&&r.setAttribute("alt",e.altText),P(r,n),t.appendChild(i),[t]}(e,n);if("html_element"===e.type)return function(e,n){var t=document.createElement("DIV");t.classList.add("canopy-raw-html");var i=document.createRange().createContextualFragment(e.html);return t.appendChild(i),Array.from(t.querySelectorAll(".canopy-html-insertion")).forEach((function(t){var i=t.dataset.replacementNumber;e.tokenInsertions[i].forEach((function(e){S(e,n).forEach((function(e){return t.appendChild(e)}))}))})),k(t.querySelectorAll("img")).forEach((function(e){P(e,n)})),[t]}(e,n);if("footnote_marker"===e.type)return function(e){var n=document.createElement("SUP"),t=document.createTextNode(e.text);return n.appendChild(t),[n]}(e);if("code_block"===e.type)return function(e){var n=document.createElement("PRE"),t=document.createElement("CODE");return n.appendChild(t),t.innerText=e.text,t.classList.add("canopy-code-block"),[n]}(e);if("block_quote"===e.type)return function(e,n){var t=document.createElement("BLOCKQUOTE");t.setAttribute("dir",e.direction),e.tokens.forEach((function(e){S(e,n).forEach((function(e){return t.appendChild(e)}))}));var i=t.cloneNode(!0);k(i.querySelectorAll("*")).forEach((function(e){k(e.childNodes).forEach((function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent.length>1){var n,t=e.textContent,i=e.parentNode,r=document.createDocumentFragment(),o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=w(e))){n&&(e=n);var t=0,i=function(){};return{s:i,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,l=document.createElement("span");l.classList.add("canopy-blockquote-character"),l.textContent=a,r.appendChild(l)}}catch(e){o.e(e)}finally{o.f()}i.replaceChild(r,e)}}))}));var r=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,o=r.querySelector("p");c.m0.appendChild(r),o.appendChild(i);var a=!1,l=null;return k(i.querySelectorAll("span.canopy-blockquote-character,span.canopy-linebreak-span")).forEach((function(e,n,t){if(e.classList.contains("canopy-linebreak-span"))l=null;else{var i,r=e.getBoundingClientRect(),o=t[n-1],c=null===(i=t[n-1])||void 0===i?void 0:i.getBoundingClientRect(),s=o&&((null==o?void 0:o.classList.contains("canopy-linebreak-span"))||"BR"===o.tagName||"\n"===o.innerText);o&&!s&&(null===l?l=r.right>c.right?1:-1:a=a||(r.right>c.right?1:-1)!==l)}})),o.removeChild(i),a&&t.querySelectorAll(".canopy-linebreak-span").forEach((function(e){e.classList.add("canopy-blockquote-padded-linebreak")})),[t]}(e,n);if("outline"===e.type)return T(e.topLevelNodes,n);if("table"===e.type)return function(e,n){var t=document.createElement("TABLE");t.setAttribute("dir","auto"),e.rtl&&t.setAttribute("dir","rtl"),e.rows.forEach((function(i){var r=document.createElement("TR");e.rtl&&r.setAttribute("dir","rtl"),i.forEach((function(e){var t=document.createElement("TD");e.hidden&&t.classList.add("hidden"),e.colspan&&t.setAttribute("colspan",e.colspan),e.rowspan&&t.setAttribute("rowspan",e.rowspan),e.tokens.forEach((function(i){S(i,n).forEach((function(n){1===e.tokens.length&&function e(n){return"A"===n.tagName||1===n.children.length&&e(n.children[0])}(n)&&(t.classList.add("canopy-table-link-cell"),t.classList.add("canopy-bounding-box-container"),b(t)((function(){var e=n.parentNode.querySelector("a");e.classList.add("canopy-table-link"),e.removeEventListener("click",e._CanopyClickHandler),t.addEventListener("click",e._CanopyClickHandler)}))),t.appendChild(n)}))})),e.merge||r.appendChild(t)})),t.appendChild(r)}));var i=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,r=i.querySelector("p");c.m0.appendChild(i),r.appendChild(t);var o={widestContent:-1,narrowestContent:1/0,tallestContent:-1,shortestContent:1/0};return k(t.querySelectorAll("td")).forEach((function(e){if(0!==e.childNodes.length){var n=e.getAttribute("colspan"),t=e.getAttribute("rowspan"),i=C(k(e.childNodes)),r=i.width,a=i.height;!n&&r>o.widestContent&&(o.widestContent=r,o.widestTd=e.offsetWidth),!t&&a>o.tallestContent&&(o.tallestContent=a,o.tallestTd=e.offsetHeight)}})),k(t.querySelectorAll("td")).forEach((function(e){if(0!==e.childNodes.length){var n=C(k(e.childNodes)).width,t=o.widestContent,i=100*Math.abs((t-n)/n);e.dataset.currentContentWidth=n,e.dataset.widestContentWidth=t,e.dataset.widestTd=o.widestTd,e.dataset.widthChangePercent=i,i<=200&&(e.style.width=o.widestTd+"px",e.style.boxSizing="border-box")}})),k(t.querySelectorAll("td")).forEach((function(e){if(0!==e.childNodes.length){var n=C(k(e.childNodes)).height,t=o.tallestContent,i=100*Math.abs((t-n)/n);e.dataset.tallestContentHeight=t,e.dataset.currentContentHeight=n,e.dataset.heightChangePercent=i,i<=50&&(e.style.height=o.tallestTd+"px",e.style.boxSizing="border-box")}})),t.dataset.tallestContent=o.tallestContent,t.dataset.tallestTd=o.tallestTd,t.dataset.widest=o.widestContent,t.dataset.widest=o.widestTd,c.m0.removeChild(i),r.removeChild(t),[t]}(e,n);if("menu"===e.type)return function(e,n){var t,i,r,o,a=document.createElement("DIV");a.classList.add("canopy-menu"),e.rtl&&(a.dir="rtl"),"right"===e.alignment&&a.classList.add("canopy-align-right"),"left"===e.alignment&&a.classList.add("canopy-align-left"),"mixed"===e.alignment&&a.classList.add("canopy-align-mixed");var l,s=["eigth-pill","quarter-pill","third-pill","half-pill","quarter-card","third-card","half-tube","half-card"],u=0,p=e.items.map((function(t){var i=document.createElement("DIV");i.classList.add("canopy-menu-cell");var r=document.createElement("DIV");if(r.classList.add("canopy-menu-content-container"),t.hidden&&(i.style.opacity="0"),S(t.tokens[0],n).forEach((function(n){1===t.tokens.length&&function e(n){return"A"===n.tagName||1===n.children.length&&e(n.children[0])}(n)&&(i.classList.add("canopy-menu-link-cell"),i.classList.add("canopy-bounding-box-container"),i.addEventListener("click",n._CanopyClickHandler),n.removeEventListener("click",n._CanopyClickHandler)),r.appendChild(n),i.appendChild(r),(t.alignment||["left","right"].includes(e.alignment))&&i.classList.add("canopy-menu-cell-".concat(t.alignment||e.alignment,"-aligned"))})),t.list){var o=document.createElement("SPAN");o.classList.add("canopy-menu-ordinal"),o.innerHTML=t.ordinal+".&nbsp;",r.prepend(o),i.classList.add("canopy-menu-ordinal-cell")}return i})),d=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,h=d.querySelector("p"),A=L();c.m0.appendChild(d),h.appendChild(a),a.appendChild(A);for(var f=0;f<p.length;f++){var y=p[f];for(A.appendChild(y);;){u===s.indexOf("half-pill")&&e.items.length>2&&(u=s.indexOf("quarter-card")),a.classList.add("canopy-".concat(s[u]));var g=C([y.querySelector(".canopy-menu-content-container")]),m=y.closest(".canopy-menu-cell"),b=window.getComputedStyle(m),v=m.getBoundingClientRect(),w=parseFloat(b.paddingLeft),x=parseFloat(b.paddingRight),E=parseFloat(b.paddingTop),P=parseFloat(b.paddingBottom),T={top:v.top+E,left:v.left+w,bottom:v.bottom-P,right:v.right-x},O=g.left<T.left||g.right>T.right,B=g.top<T.top||g.bottom>T.bottom;if(!O&&!B)break;if(u>=s.length-1)break;a.classList.remove("canopy-".concat(s[u])),u++,f=0}}function L(){var n=document.createElement("DIV");return n.classList.add("canopy-menu-row"),e.rtl&&(n.dir="rtl"),a.appendChild(n),n}h.remove(),A.remove(),d.remove(),a.classList.add("canopy-".concat(s[u])),s[u].includes("half")&&(l=2),s[u].includes("third")&&(l=3),s[u].includes("quarter")&&(l=4),s[u].includes("eigth")&&(l=8);for(var N=L(),I=0;I<p.length;I++)N.appendChild(p[I]),(I+1)%l==0&&I+1!==p.length&&(N=L());if(a.childNodes.length>1)for(var j=p.length%l,F=j>0?l-j:0,R=0;R<F;R++){var D=document.createElement("DIV");D.classList.add("canopy-menu-cell"),D.style.opacity="0",N.appendChild(D)}return null===(t=k(N.childNodes).filter((function(e){return e.classList.contains("canopy-menu-cell-right-aligned")})))||void 0===t||null===(i=t[0])||void 0===i||i.classList.add("canopy-menu-cell-first-right"),null===(r=k(N.childNodes).filter((function(e){return e.classList.contains("canopy-menu-cell-left-aligned")})).slice(-1))||void 0===r||null===(o=r[0])||void 0===o||o.classList.add("canopy-menu-cell-last-left"),[a]}(e,n);if("footnote_lines"===e.type)return function(e,n){var t=document.createElement("DIV"),i=document.createElement("HR");return i.classList.add("canopy-footnote-rule"),t.appendChild(i),e.lines.forEach((function(e){var i=document.createElement("SPAN");i.classList.add("canopy-footnote-span");var r=document.createTextNode(e.superscript+". ");i.appendChild(r),e.tokens.forEach((function(e){var t=v(S(e,n),1)[0];i.appendChild(t)})),t.appendChild(i)})),[t]}(e,n);if("bold"===e.type)return function(e,n){var t=document.createElement("B");return e.tokens.forEach((function(e){S(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("underlined"===e.type)return function(e,n){var t=document.createElement("u");return e.tokens.forEach((function(e){S(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("italics"===e.type)return function(e,n){var t=document.createElement("I");return e.tokens.forEach((function(e){S(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("inline_code"===e.type)return function(e){var n=document.createElement("CODE");return n.innerText=e.text,[n]}(e);if("tool_tip"===e.type)return function(e,n){var t=document.createElement("span");t.className="canopy-tooltip";var i=document.createElement("sup");i.textContent="ⓘ",i.classList.add("canopy-tooltip-icon"),t.appendChild(i);var r=document.createElement("span");return r.className="canopy-tooltiptext",r.dir="auto",e.tokens.forEach((function(e){S(e,n).forEach((function(e){return r.appendChild(e)}))})),t.appendChild(r),[t]}(e,n);throw"Unhandled token type: ".concat(e.type)}function E(e,n){var t=document.createElement("a");t.classList.add("canopy-selectable-link"),t.dataset.enclosingTopic=e.enclosingTopic,t.dataset.enclosingSubtopic=e.enclosingSubtopic,t.dataset.text=e.text;var i=document.createElement("SPAN");i.classList.add("canopy-link-content-container"),i.dir="auto",t.appendChild(i),e.tokens.forEach((function(e){S(e,n).forEach((function(e){return i.appendChild(e)}))})),t.addEventListener("dragstart",(function(e){e.preventDefault()}));var r,o=(r=new l.A(t),function(e){if(e.preventDefault(),!function(e){var n=window.getSelection();return n&&n.rangeCount>0&&!n.isCollapsed&&(n.focusElement||n.focusNode.parentNode).closest(".canopy-selectable-link")===e.element}(r)){var n,t=e.metaKey||e.ctrlKey;return t||e.altKey||!r.isSelected||r.isClosedCycle?t||e.altKey||!r.isOpen?t||e.altKey||r.isVisible?t||e.altKey||!r.isInlinedCycleReference?r.execute({newTab:t,redirect:e.altKey,inlineCycles:e.shiftKey,scrollDirect:!0,selectALink:!1,pushLinkSelection:!0,scrollToParagraph:!0,noBeforeChangeScroll:!0,noAfterChangePause:!0}):r.select():r.select({scrollDirect:!0,noBeforeChangeScroll:!0,noAfterChangePause:!0}):r.select({scrollDirect:!0}):(null===(n=r.parentLink)||void 0===n?void 0:n.select({scrollDirect:!0,noAfterChangeScroll:!0}))||a.A.root.display({scrollDirect:!0})}});return t._CanopyClickHandler=o,t.addEventListener("click",o),b(i)((function(){var e=v(m(i),2),n=e[0],r=e[1];t.dataset.extraSpace=JSON.stringify(m(i)),n&&(i.style.paddingTop="".concat(n,"px")),r&&(i.style.paddingBottom="".concat(r,"px"));var o=window.getComputedStyle(t),a=parseFloat(o.lineHeight),l=t.getBoundingClientRect().height;l>1.5*a&&(t.dataset.height=l,t.dataset.lineHeight=a,t.classList.add("canopy-multiline-link"))})),t}function P(e,n){var t=e.style.height,i=e.style.opacity,r=e.style.width;if(e.closest(".canopy-image"))var o=e.closest(".canopy-image").style.width;e.style.setProperty("height",s.A.visibleHeight+"px"),e.style.setProperty("width","100%"),e.style.setProperty("opacity","0"),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width","100%"),setTimeout((function(){e.complete||(e.closest(".canopy-image")||e).style.setProperty("background-color","#f5f5f5")}),200),e.addEventListener("load",(function(){((0,u.Yw)()||Promise.resolve()).then((function(){var l,c=s.A.focusedElement,p=c.getBoundingClientRect().bottom;e.style.setProperty("height",t),e.style.setProperty("width",r),e.style.setProperty("opacity",i),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width",o),null===(l=e.closest(".canopy-image"))||void 0===l||l.style.setProperty("background-color","transparent");var d=c.getBoundingClientRect().bottom-p,h=s.A.currentScroll+d;if("absolute"!==window.getComputedStyle(e).display){var A=n.pathToParagraph;a.A.current.includes(A)&&(0,u.Cj)({top:h,behavior:"instant"})}}))}))}function T(e,n){var t=e[0].ordered?document.createElement("OL"):document.createElement("UL");return e[0].ordered&&t.setAttribute("type",e[0].ordinal),e.forEach((function(e){var i=document.createElement("LI");if(e.tokensOfLine.forEach((function(e){S(e,n).forEach((function(e){return i.appendChild(e)}))})),e.children.length>0){var r=v(T(e.children,n),1)[0];i.appendChild(r)}t.appendChild(i)})),[t]}const O=S;const B=function e(n,t,r){var a=r.paragraphsBySubtopic,l=function(e,n,t){var i=t.displayTopicName,r=t.pathDepth,a=t.paragraphsBySubtopic,l=t.pathToParagraph,c=document.createElement("section");c.classList.add("canopy-section");var s=document.createElement("p");s.classList.add("canopy-paragraph"),c.appendChild(s),c.style.display="none",c.style.opacity="0",c.dataset.displayTopicName=i,c.dataset.topicName=e.mixedCase,c.topicName=e.mixedCase,c.dataset.subtopicName=n.mixedCase,c.subtopicName=n.mixedCase,c.dataset.pathDepth=r,c.dataset.pathString=l.replaceTerminalSubtopic(n).string;var u=a[e.mixedCase];if(o().areEqual(e,n)){var p=document.createElement("hr");p.classList.add("canopy-hr"),r>0&&u.length>0&&c.prepend(p),c.classList.add("canopy-topic-section")}return c}(n,t,r),c=new i.A(l);r.localLinkSubtreeCallback=function(n,t,i){return function(r){var a=i.fullPath,l=i.remainingPath,c=o().fromMixedCase(r.targetSubtopic),s=a.slice(0,a.length-l.length).addSegment(n,c),u=e(n,o().fromMixedCase(r.targetSubtopic),Object.assign({pathToParagaph:s},i));t.appendChild(u)}}(n,l,r);var s=a[t.mixedCase];if(!s)throw new Error("Paragraph with subtopic not found: ".concat(t.mixedCase));return r.currentTopic=n,r.currentSubtopic=t,s.forEach((function(e){O(e,r).forEach((function(e){return c.paragraphElement.appendChild(e)}))})),l};function L(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,o=[],a=!0,l=!1;try{for(t=t.call(e);!(a=(i=t.next()).done)&&(o.push(i.value),!n||o.length!==n);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==t.return||t.return()}finally{if(l)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return N(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?N(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var I={},j={},F=function e(n,t,r){if(0===t.length)return Promise.resolve();var o=n.slice(0,n.length-t.length+1),l=o.removeTerminalSubtopic,s=a.A.elementAtRelativePath(l,c.m0),u=(s?Promise.resolve(s):null)||I[l.string]||h(t.firstTopic).then((function(e){var i=e.paragraphsBySubtopic,r=e.displayTopicName,a=e.topicTokens;return j[t.firstTopic.mixedCase]=[a,r],B(t.firstTopic,t.firstTopic,{remainingPath:t,displayTopicName:r,paragraphsBySubtopic:i,fullPath:n,pathToParagraph:o,pathDepth:n.length-t.length})})).catch((function(e){return console.error(e),null}));I[l.string]=u;var p=Promise.all([r,u]).then((function(e){var r=L(e,2),o=r[0],s=r[1];return o&&s?(n.equals(t)&&c.m0.prepend(g.apply(void 0,j[s.dataset.topicName])),o===c.m0||a.A.connectingLinkValid(o,t)?(i.A.byPath(l)||(i.A.registerChild(s,o),i.A.registerSubtopics(s),i.A.detachSubtopics(s)),Promise.resolve(!0)):Promise.resolve(!1)):Promise.resolve()})),d=u.then((function(e){return e?t.firstSubtopic.mixedCase===e.dataset.topicName?e:e.querySelector('section[data-subtopic-name="'.concat(t.firstSubtopic.cssMixedCase,'"]'))||(null===(n=i.A.byPath(o))||void 0===n?void 0:n.sectionElement):null;var n})),A=Promise.all([p,d,r]).then((function(e){var n=L(e,2),t=n[0],i=n[1];return t&&i})),f=e(n,t.withoutFirstSegment,A);return Promise.all([u,f,p]).then((function(e){return L(e,1)[0]}))}},2593:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var i=t(1995),r={};(0,i.Ly)()&&(r[(0,i.PZ)()]=Promise.resolve(JSON.parse((0,i.Ly)())));const o=r},6705:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var i=t(1354),r=t.n(i),o=t(6314),a=t.n(o),l=t(4417),c=t.n(l),s=new URL(t(6097),t.b),u=a()(r()),p=c()(s);u.push([e.id,'#_canopy{margin-top:20px;overflow-anchor:none;padding-bottom:90vh;min-height:110vh;font-family:"Times New Roman",Times,serif}h1.canopy-header{text-align:center;margin:auto;margin-top:20px;max-width:750px;word-break:break-word;hyphens:auto}hr.canopy-hr{width:120px;display:block;height:1px;border:0;border-top:5px solid #ccc;margin:0px auto}h1+section.canopy-topic-section{margin-top:30px}section.canopy-topic-section{margin-top:32px}section.canopy-section{margin-top:32px;unicode-bidi:unset}.canopy-topic-section hr+p{margin-top:27px}p.canopy-paragraph{overflow:visible;font-size:20px;max-width:750px;overflow-wrap:break-word;hyphens:auto;margin:auto;line-height:1.3;letter-spacing:-0.003em;font-weight:400;position:relative;unicode-bidi:plaintext}.canopy-topic-section hr+p{margin-top:31px}code.canopy-code-block{font-family:"Courier New",Courier,monospace;background-color:#eee;padding:2px 4px;border-radius:3px;border:.5px solid #ddd;color:#5a5a5a}.canopy-tooltip{position:relative;display:inline-block;cursor:pointer}.canopy-tooltip .canopy-tooltip-icon{font-size:11px}.canopy-tooltip .canopy-tooltiptext{visibility:hidden;width:140px;background-color:#fff;color:#000;text-align:center;border-radius:6px;border:1px solid #000;padding:10px;position:absolute;z-index:1;top:50%;left:105%;margin-left:10px;transform:translateY(-50%);opacity:0;font-size:14px}.canopy-tooltip:hover .canopy-tooltiptext{visibility:visible;opacity:1}.canopy-text-span{display:inline}.canopy-linebreak-span{display:block;margin-bottom:12px}a.canopy-selectable-link{text-decoration:none;color:#000;cursor:pointer}a.canopy-selectable-link:focus{outline:0}a.canopy-selectable-link{padding-right:11px;margin-right:-11px;padding-left:11px;margin-left:-11px}a.canopy-selectable-link:first-child:has(+.canopy-linebreak-span).canopy-multiline-link .canopy-link-content-container,.canopy-linebreak-span+a.canopy-selectable-link:has(+.canopy-linebreak-span).canopy-multiline-link .canopy-link-content-container,.canopy-linebreak-span+a.canopy-selectable-link:last-child.canopy-multiline-link .canopy-link-content-container,a.canopy-selectable-link:only-child.canopy-multiline-link .canopy-link-content-container{display:inline-block}a.canopy-selectable-link .canopy-link-content-container{background-color:#fff;padding-left:2px;padding-right:2px;border-radius:3px;border:1px solid #ddd;unicode-bidi:inherit}a.canopy-selectable-link .canopy-link-content-container:hover{background-color:#f5f6fe}a.canopy-selectable-link.canopy-selected-link .canopy-link-content-container,a.canopy-selectable-link.canopy-selected-link.canopy-open-link .canopy-link-content-container,a.canopy-selectable-link.canopy-selected-link.canopy-open-link code .canopy-link-content-container{background-color:#edeefc;text-decoration:none}a.canopy-selectable-link.canopy-open-link .canopy-link-content-container{background-color:#f0f0f0;border:1px solid #ccc;border-radius:1px;unicode-bidi:inherit}a.canopy-selectable-link.canopy-external-link .canopy-link-content-container .canopy-external-link-icon{background-image:url('+p+');background-size:contain;background-repeat:no-repeat;top:-3.5px;left:0px;position:relative;vertical-align:text-bottom;width:8px;height:8px;display:inline-block}a.canopy-selectable-link:not(.canopy-open-link) .canopy-back-cycle-icon,a.canopy-selectable-link:not(.canopy-open-link) .canopy-forward-cycle-icon,a.canopy-selectable-link:not(.canopy-open-link) .canopy-provisional-cycle-icon{top:2px;left:1px;text-decoration:none;font-size:9px;position:relative}a.canopy-disabled-link{color:#000;pointer-events:none;cursor:not-allowed;opacity:.5;text-decoration:none}a.canopy-disabled-link .canopy-link-content-container{border-radius:1px;border:1px solid #ddd}a.canopy-selectable-link.canopy-linked-image{text-decoration:none}a.canopy-selectable-link.canopy-linked-image .canopy-link-content-container{border:none;background-color:inherit}a.canopy-selectable-link.canopy-linked-image.canopy-external-link .canopy-external-link-icon{display:none}hr.canopy-footnote-rule{width:750px;display:block;height:1px;border:0;border-top:1px solid #ccc;margin:12px 0;padding:0}sup{font-size:60%;padding:2px}.canopy-footnote-span{font-size:80%;display:block}.canopy-footnote-span span{margin-left:2px}.canopy-footnote-span:not(:last-child){padding-bottom:7px}blockquote{padding:0 .7em;color:#565e67;white-space:pre-wrap;margin-left:0px;margin-right:0px;margin-top:12px;margin-bottom:12px}blockquote a,blockquote a.canopy-selectable-link{color:#565e67}blockquote[dir=rtl]{border-right:.25em solid #d3d3d3}blockquote[dir=ltr]{border-left:.25em solid #d3d3d3}blockquote .canopy-linebreak-span{margin-bottom:0px}blockquote .canopy-blockquote-padded-linebreak{margin-bottom:8px;display:block}pre{margin:10px 10px;background-color:#eff0f1;padding:5px;font-size:85%}code{background-color:#eff0f1;font-size:90%}table{margin:21px auto auto auto;table-layout:auto;max-width:90%;border-collapse:collapse;border:none;font-size:18px;min-width:500px;table-layout:fixed}table:not(:last-child){margin-bottom:25px}table td,table th{border:1px solid #000;text-align:center;padding:15px}table td.hidden,table th.hidden{opacity:0;border:none}table td br,table th br{display:block;content:"";padding-bottom:2px}table td.canopy-table-link-cell{cursor:pointer;user-select:text;background-color:#fff}table td.canopy-table-link-cell a.canopy-selectable-link{text-decoration:none;text-shadow:none;background-color:rgba(255,255,255,0);border:none;padding:4px}table td.canopy-table-link-cell a.canopy-selectable-link .canopy-link-content-container,table td.canopy-table-link-cell a.canopy-selectable-link.canopy-open-link .canopy-link-content-container,table td.canopy-table-link-cell a.canopy-selectable-link.canopy-selected-link .canopy-link-content-container{border:none;background-color:inherit}table td.canopy-table-link-cell:has(.canopy-selected-link){background-color:#edeefc}table td.canopy-table-link-cell:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#eae8e8}table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)),table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f5f6fe}table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)) .canopy-selected-link,table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) .canopy-selected-link{background-color:#f5f6fe}table td.canopy-table-link-cell:has(a.canopy-disabled-link){background-color:#fff;color:#000;cursor:not-allowed;opacity:.7;pointer-events:none}table td.canopy-table-link-cell:has(a.canopy-disabled-link) a.canopy-disabled-link{background-color:rgba(255,255,255,0);text-decoration:none;text-shadow:none}table td.canopy-table-link-cell:has(a.canopy-disabled-link) a.canopy-disabled-link .canopy-link-content-container{border:none}.canopy-menu{display:flex;flex-direction:column;align-items:center;margin:0 auto;gap:10px}.canopy-menu .canopy-menu-row{display:flex;justify-content:center;box-sizing:border-box;gap:10px}.canopy-menu.canopy-align-right{align-items:flex-end}.canopy-menu.canopy-align-right .canopy-menu-row{justify-content:flex-end}.canopy-menu.canopy-align-left{align-items:flex-start}.canopy-menu.canopy-align-mixed{align-items:normal}.canopy-menu:not(:first-child){margin-top:25px}.canopy-menu:not(:last-child){margin-bottom:25px}.canopy-menu .canopy-menu-cell{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;border:1px solid #000;border-radius:0px;box-sizing:border-box;background-color:#fff;padding:10px;text-align:center;align-self:stretch;white-space:normal;overflow-wrap:normal;word-break:normal;hyphens:none}.canopy-menu .canopy-menu-cell.canopy-menu-cell-last-left{margin-right:auto}.canopy-menu .canopy-menu-cell.canopy-menu-cell-first-right{margin-left:auto}.canopy-menu .canopy-menu-cell .canopy-menu-content-container{display:inline;max-width:100%;max-height:100%}.canopy-menu .canopy-menu-cell br{display:block;content:"";padding-bottom:2px}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell{cursor:pointer;border:1.5px solid #000;border-radius:5px;display:flex;justify-content:center;align-items:center;user-select:none}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell a.canopy-disabled-link{opacity:unset}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell a.canopy-selectable-link{text-decoration:none;text-shadow:none;user-select:none}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell a.canopy-selectable-link span.canopy-link-content-container{border:none;background-color:inherit}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-selected-link){background-color:#edeefc}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-open-link:not(.canopy-selected-link)){background-color:#eae8e8}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:hover:has(a.canopy-selectable-link:not(.canopy-selected-link)),.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:hover:has(a.canopy-selectable-link.canopy-open-link:not(.canopy-selected-link)){background-color:#f5f6fe}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container .canopy-external-link-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container .canopy-forward-cycle-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container .canopy-back-cycle-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container .canopy-provisional-cycle-icon{font-size:11px;margin-left:-5px;position:relative;top:5px;left:6px;white-space:nowrap}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container[dir=rtl] .canopy-external-link-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container[dir=rtl] .canopy-forward-cycle-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container[dir=rtl] .canopy-back-cycle-icon,.canopy-menu .canopy-menu-cell.canopy-menu-link-cell .canopy-link-content-container[dir=rtl] .canopy-provisional-cycle-icon{top:0px;left:0px}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-external-link).canopy-selectable-link *{text-decoration:none}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-external-link) .canopy-menu-content-container .canopy-external-link-icon{background-image:url('+p+');background-size:contain;background-repeat:no-repeat;top:-3px;left:5px;position:relative;vertical-align:text-bottom;width:8px;height:8px;display:inline-block}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-disabled-link){background-color:#fff;color:#000;cursor:not-allowed;opacity:.4;pointer-events:none}.canopy-menu .canopy-menu-cell.canopy-menu-link-cell:has(.canopy-disabled-link) .canopy-link-content-container{border:none}.canopy-menu.canopy-eigth-pill .canopy-menu-cell{width:85px;padding-left:12px;padding-right:12px;padding-top:2px;padding-bottom:2px;height:45px}.canopy-menu.canopy-quarter-pill .canopy-menu-cell{width:180px;padding:9px;height:50px}.canopy-menu.canopy-third-pill .canopy-menu-cell{width:243.3333333333px;padding:9px;height:50px}.canopy-menu.canopy-half-pill .canopy-menu-cell{width:370px;padding:9px;height:50px}.canopy-menu.canopy-quarter-card .canopy-menu-cell{width:180px;height:95px;padding:15px}.canopy-menu.canopy-third-card .canopy-menu-cell{width:243.3333333333px;height:120px;padding:15px}.canopy-menu.canopy-half-tube .canopy-menu-cell{width:370px;height:160px;padding:30px}.canopy-menu.canopy-half-card .canopy-menu-cell{width:370px;height:265px;min-height:160px;padding:30px}.canopy-image-container{display:flex;justify-content:center;object-fit:cover;margin-top:15px}.canopy-image-container:not(:last-child){margin-bottom:15px}.canopy-image-container .canopy-image img{display:block;max-width:100%;width:auto}.canopy-image-container .canopy-image span.canopy-image-caption{margin:0px auto;width:100%;padding:6px 0px;text-align:left;display:block;font-size:16px;line-height:18px;color:#595959;background-color:#fff}.canopy-image-container .canopy-image span.canopy-image-caption a{color:#595959}.canopy-image-container .canopy-image span.canopy-image-caption a.canopy-selectable-link{border:none;text-decoration:underline #d3d3d3}.canopy-image-container .canopy-image span.canopy-image-caption a.canopy-selectable-link:hover{text-decoration:underline #000}.canopy-image-container .canopy-image span.canopy-image-caption a.canopy-link-content-container{border:none;background-color:inherit}.canopy-image-container .canopy-image span.canopy-image-caption a.canopy-selected-link{background-color:#c9ccff}.canopy-image-container .canopy-image span.canopy-image-caption a.canopy-external-link .canopy-external-link-icon{display:none}.canopy-image-container .canopy-image span.canopy-image-caption span{display:inline}div.canopy-image-div{float:right;border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center;overflow:hidden;margin:10px}.canopy-open-link .canopy-image,.canopy-selected-link .canopy-image{position:relative}.canopy-selected-link .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(130,150,250,.3);pointer-events:none}.canopy-open-link:not(.canopy-selected-link) .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(128,128,128,.2);pointer-events:none}div.canopy-image-div>sup{display:block}ol,ul{margin-top:15px;margin-left:10px;margin-right:10px;margin-bottom:0px}ol:not(:last-child),ul:not(:last-child){margin-bottom:15px}ol li:not(:last-child),ul li:not(:last-child){margin-bottom:10px}div.canopy-raw-html{display:inline}div.canopy-raw-html .canopy-html-insertion{display:inline}',"",{version:3,sources:["webpack://./client/style/canopy.scss"],names:[],mappings:"AAAA,SACE,eAAA,CACA,oBAAA,CAOA,mBAAA,CACA,gBAAA,CAEA,yCAAA,CAGF,iBACE,iBAAA,CACA,WAAA,CACA,eAAA,CACA,eAAA,CACA,qBAAA,CACA,YAAA,CAGF,aACE,WAAA,CACA,aAAA,CACA,UAAA,CACA,QAAA,CACA,yBAAA,CACA,eAAA,CAGF,gCACE,eAAA,CAGF,6BACE,eAAA,CAGF,uBACE,eAAA,CACA,kBAAA,CAGF,2BACE,eAAA,CAGF,mBACE,gBAAA,CACA,cAAA,CACA,eAAA,CACA,wBAAA,CAEA,YAAA,CACA,WAAA,CAEA,eAAA,CACA,uBAAA,CACA,eAAA,CAEA,iBAAA,CACA,sBAAA,CAGF,2BACE,eAAA,CAGF,uBACE,2CAAA,CACA,qBAAA,CACA,eAAA,CACA,iBAAA,CACA,sBAAA,CACA,aAAA,CAKF,gBACE,iBAAA,CACA,oBAAA,CACA,cAAA,CAEA,qCACE,cAAA,CAGF,oCACE,iBAAA,CACA,WAAA,CACA,qBAAA,CACA,UAAA,CACA,iBAAA,CACA,iBAAA,CACA,qBAAA,CACA,YAAA,CACA,iBAAA,CACA,SAAA,CACA,OAAA,CACA,SAAA,CACA,gBAAA,CACA,0BAAA,CACA,SAAA,CACA,cAAA,CAGF,0CACE,kBAAA,CACA,SAAA,CAKJ,kBACE,cAAA,CAGF,uBACE,aAAA,CACA,kBAAA,CAKF,yBACE,oBAAA,CACA,UAAA,CACA,cAAA,CAEA,+BACE,SAAA,CAIJ,yBACE,kBAAA,CACA,kBAAA,CAEA,iBAAA,CACA,iBAAA,CAMI,kcACE,oBAAA,CAIN,wDACE,qBAAA,CAEA,gBAAA,CACA,iBAAA,CAEA,iBAAA,CACA,qBAAA,CAEA,oBAAA,CAEA,8DACE,wBAAA,CAKF,8QACE,wBAAA,CACA,oBAAA,CAIJ,yEACE,wBAAA,CACA,qBAAA,CACA,iBAAA,CACA,oBAAA,CAGF,wGAEE,wDAAA,CACA,uBAAA,CACA,2BAAA,CACA,UAAA,CACA,QAAA,CACA,iBAAA,CACA,0BAAA,CACA,SAAA,CACA,UAAA,CACA,oBAAA,CAIA,kOACE,OAAA,CACA,QAAA,CACA,oBAAA,CACA,aAAA,CACA,iBAAA,CAKN,uBACE,UAAA,CACA,mBAAA,CACA,kBAAA,CACA,UAAA,CACA,oBAAA,CACA,sDACE,iBAAA,CACA,qBAAA,CAIJ,6CACE,oBAAA,CAEA,4EACE,WAAA,CACA,wBAAA,CAGF,6FACE,YAAA,CAMJ,wBACE,WAAA,CACA,aAAA,CACA,UAAA,CACA,QAAA,CACA,yBAAA,CACA,aAAA,CACA,SAAA,CAGF,IACE,aAAA,CACA,WAAA,CAGF,sBACE,aAAA,CACA,aAAA,CACA,2BACE,eAAA,CAEF,uCACE,kBAAA,CAIJ,WACE,cAAA,CACA,aAAA,CACA,oBAAA,CAcA,eAAA,CACA,gBAAA,CACA,eAAA,CACA,kBAAA,CAfA,iDACE,aAAA,CAGF,oBACE,gCAAA,CAGF,oBACE,+BAAA,CAoCF,kCACE,iBAAA,CAGF,+CACE,iBAAA,CACA,aAAA,CAIJ,IACE,gBAAA,CACA,wBAAA,CACA,WAAA,CACA,aAAA,CAGF,KACE,wBAAA,CACA,aAAA,CAGF,MACE,0BAAA,CACA,iBAAA,CACA,aAAA,CACA,wBAAA,CACA,WAAA,CACA,cAAA,CACA,eAAA,CACA,kBAAA,CAEA,uBACE,kBAAA,CAGF,kBACE,qBAAA,CACA,iBAAA,CACA,YAAA,CAEA,gCACE,SAAA,CACA,WAAA,CAGF,wBACE,aAAA,CACA,UAAA,CACA,kBAAA,CAIJ,gCACE,cAAA,CACA,gBAAA,CACA,qBAAA,CAEA,yDACE,oBAAA,CACA,gBAAA,CACA,oCAAA,CACA,WAAA,CACA,WAAA,CAGE,8SACE,WAAA,CACA,wBAAA,CAKN,2DACE,wBAAA,CAGF,wFACE,wBAAA,CAGF,qKAEE,wBAAA,CAEA,iNACI,wBAAA,CAIN,4DACE,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,UAAA,CACA,mBAAA,CAEA,mFACE,oCAAA,CACA,oBAAA,CACA,gBAAA,CAEA,kHACE,WAAA,CAOV,aACE,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,aAAA,CACA,QAAA,CAEA,8BACE,YAAA,CACA,sBAAA,CACA,qBAAA,CACA,QAAA,CAGF,gCACE,oBAAA,CACA,iDACE,wBAAA,CAIJ,+BACE,sBAAA,CAGF,gCACE,kBAAA,CAGF,+BACE,eAAA,CAGF,8BACE,kBAAA,CAGF,+BACE,YAAA,CACA,kBAAA,CACA,cAAA,CACA,sBAAA,CACA,kBAAA,CACA,qBAAA,CACA,iBAAA,CACA,qBAAA,CACA,qBAAA,CACA,YAAA,CACA,iBAAA,CACA,kBAAA,CAEA,kBAAA,CACA,oBAAA,CACA,iBAAA,CACA,YAAA,CAEA,0DACE,iBAAA,CAGF,4DACE,gBAAA,CAGF,8DACE,cAAA,CACA,cAAA,CACA,eAAA,CAOF,kCACE,aAAA,CACA,UAAA,CACA,kBAAA,CAIJ,qDACE,cAAA,CACA,uBAAA,CACA,iBAAA,CACA,YAAA,CACA,sBAAA,CACA,kBAAA,CACA,gBAAA,CAEA,4EACE,aAAA,CAGF,8EACE,oBAAA,CACA,gBAAA,CACA,gBAAA,CAEA,iHACE,WAAA,CACA,wBAAA,CAIJ,gFACE,wBAAA,CAGF,uGACE,wBAAA,CAGF,yPAEE,wBAAA,CAIA,6bACE,cAAA,CACA,gBAAA,CACA,iBAAA,CACA,OAAA,CACA,QAAA,CACA,kBAAA,CAIA,ieACE,OAAA,CACA,QAAA,CAMJ,yGACE,oBAAA,CAGF,0IAEE,wDAAA,CACA,uBAAA,CACA,2BAAA,CACA,QAAA,CACA,QAAA,CACA,iBAAA,CACA,0BAAA,CACA,SAAA,CACA,UAAA,CACA,oBAAA,CAIJ,gFACE,qBAAA,CACA,UAAA,CACA,kBAAA,CACA,UAAA,CACA,mBAAA,CAEA,+GACE,WAAA,CAKN,iDACE,UAAA,CACA,iBAAA,CACA,kBAAA,CACA,eAAA,CACA,kBAAA,CACA,WAAA,CAGF,mDACE,WAAA,CACA,WAAA,CACA,WAAA,CAGF,iDACE,sBAAA,CACA,WAAA,CACA,WAAA,CAGF,gDACE,WAAA,CACA,WAAA,CACA,WAAA,CAGF,mDACE,WAAA,CACA,WAAA,CACA,YAAA,CAGF,iDACE,sBAAA,CACA,YAAA,CACA,YAAA,CAGF,gDACE,WAAA,CACA,YAAA,CACA,YAAA,CAGF,gDACE,WAAA,CACA,YAAA,CACA,gBAAA,CACA,YAAA,CAIJ,wBACE,YAAA,CACA,sBAAA,CACA,gBAAA,CAMA,eAAA,CAJA,yCACE,kBAAA,CAMA,0CACE,aAAA,CACA,cAAA,CACA,UAAA,CAGF,gEACE,eAAA,CACA,UAAA,CACA,eAAA,CACA,eAAA,CACA,aAAA,CACA,cAAA,CACA,gBAAA,CACA,aAAA,CACA,qBAAA,CAEA,kEACE,aAAA,CAGF,yFACE,WAAA,CACA,iCAAA,CAEA,+FACE,8BAAA,CAIJ,gGACE,WAAA,CACA,wBAAA,CAGF,uFACE,wBAAA,CAGF,kHACE,YAAA,CAGF,qEACE,cAAA,CAMR,qBACE,WAAA,CACA,wBAAA,CACA,WAAA,CACA,wBAAA,CACA,aAAA,CACA,iBAAA,CACA,eAAA,CACA,WAAA,CAGF,oEACE,iBAAA,CAGF,2CACE,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,QAAA,CACA,qCAAA,CACA,mBAAA,CAGF,kEACE,UAAA,CACA,iBAAA,CACA,KAAA,CACA,MAAA,CACA,OAAA,CACA,QAAA,CACA,qCAAA,CACA,mBAAA,CAGF,yBACE,aAAA,CAGF,MACE,eAAA,CACA,gBAAA,CACA,iBAAA,CACA,iBAAA,CAEA,wCACE,kBAAA,CAGF,8CACE,kBAAA,CAIJ,oBACE,cAAA,CAEA,2CACE,cAAA",sourcesContent:["#_canopy {\n  margin-top: 20px;\n  overflow-anchor: none; // Prevent browser from trying to maintain position when page contents change, which might interfere with window.scrollTo\n\n  /* Removing DOM elements from the bottom of the screen can force the page to scroll upward to the existing elements\n  which is not animated. If we keep a padding on the bottom of the last element just beyond the viewport, then\n  removal of elements from the bottom of the visible stack never brings the real bottom of the page into view, and so\n  the scroll upwards can be animated using the window.scrollTo method. */\n\n  padding-bottom: calc(90vh);\n  min-height: calc(110vh); // to avoid scroll bar appearing when page length changes for small content that doesn't need scrolling\n\n  font-family: \"Times New Roman\", Times, serif; // good default and standardizes layout for browser tests\n}\n\nh1.canopy-header {\n  text-align: center;\n  margin: auto;\n  margin-top: 20px;\n  max-width: 750px;\n  word-break: break-word;\n  hyphens: auto;\n}\n\nhr.canopy-hr {\n  width: 120px;\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 5px solid #ccc;\n  margin: 0px auto;\n}\n\nh1 + section.canopy-topic-section {\n  margin-top: 30px;\n}\n\nsection.canopy-topic-section {\n  margin-top: 32px; // has to match .canopy-topic-section hr + p\n}\n\nsection.canopy-section {\n  margin-top: 32px;\n  unicode-bidi: unset;\n}\n\n.canopy-topic-section hr + p {\n  margin-top: 27px;\n}//\n\np.canopy-paragraph {\n  overflow: visible; // In case external link icon is at end of line\n  font-size: 20px;\n  max-width: 750px;\n  overflow-wrap: break-word; // this causes eg table cells to break long lines into rows\n  //word-break: break-word; // this separates words in table cells\n  hyphens: auto; // not sure we want this, rather put whole word on next line?\n  margin: auto;\n\n  line-height: 1.3;\n  letter-spacing: -.003em;\n  font-weight: 400;\n\n  position: relative; // to allow absolute children\n  unicode-bidi: plaintext; // to allow lines in different directions\n}//\n\n.canopy-topic-section hr + p {\n  margin-top: 31px; // 35px minus 1px bar thickness\n}\n\ncode.canopy-code-block {\n  font-family: 'Courier New', Courier, monospace; /* Monospaced font for code */\n  background-color: #eee; /* Light background to highlight code */\n  padding: 2px 4px; /* Small padding around the code */\n  border-radius: 3px; /* Optional: rounded corners */\n  border: .5px solid #ddd; /* Optional: light border */\n  color: #5a5a5a; /* Subtle dark gray color for the code text, less harsh than black */\n}\n\n// Tool tip\n\n.canopy-tooltip {\n  position: relative;\n  display: inline-block;\n  cursor: pointer;\n\n  .canopy-tooltip-icon {\n    font-size: 11px;\n  }\n\n  .canopy-tooltiptext {\n    visibility: hidden;\n    width: 140px;\n    background-color: white;\n    color: black;\n    text-align: center;\n    border-radius: 6px;\n    border: 1px solid black;\n    padding: 10px;\n    position: absolute;\n    z-index: 1;\n    top: 50%;\n    left: 105%;\n    margin-left: 10px;\n    transform: translateY(-50%);\n    opacity: 0;\n    font-size: 14px;\n  }\n\n  &:hover .canopy-tooltiptext {\n    visibility: visible;\n    opacity: 1;\n  }\n}\n\n// Text\n.canopy-text-span {\n  display: inline;\n}\n\n.canopy-linebreak-span {\n  display: block;\n  margin-bottom:12px;\n}\n\n///////////// Link styles /////////////////\n\na.canopy-selectable-link { // even menu and table cells\n  text-decoration: none;\n  color: black;\n  cursor: pointer;\n\n  &:focus {\n    outline: 0;\n  }\n}\n\na.canopy-selectable-link {\n  padding-right: 11px; // following punctuation shouldn't wrap without link\n  margin-right: -11px;\n  \n  padding-left: 11px; // For RTL text\n  margin-left: -11px;\n\n  &:first-child:has( + .canopy-linebreak-span), // for top-level text on its own line\n    .canopy-linebreak-span + &:has( + .canopy-linebreak-span),\n    .canopy-linebreak-span + &:last-child,\n    &:only-child {\n      &.canopy-multiline-link .canopy-link-content-container {\n        display: inline-block; // put border around multi-line content as one unit\n      }\n    }\n  \n  .canopy-link-content-container { // putting bg on inner container lets outer wrapper have non-bg padding\n    background-color: #FFFFFF;\n    \n    padding-left: 2px;\n    padding-right: 2px;\n\n    border-radius: 3px;\n    border: 1px solid #dddddd;\n\n    unicode-bidi: inherit; // prevents dir=auto from making RTL text align left\n\n    &:hover {\n      background-color: #f5f6fe;\n    }\n  }\n\n  &.canopy-selected-link, &.canopy-selected-link.canopy-open-link, &.canopy-selected-link.canopy-open-link code {\n    .canopy-link-content-container {\n      background-color: #edeefc;\n      text-decoration: none;\n    }\n  }\n\n  &.canopy-open-link .canopy-link-content-container {\n    background-color: #f0f0f0;\n    border: 1px solid #cccccc;\n    border-radius: 1px;       \n    unicode-bidi: inherit;    \n  }\n\n  &.canopy-external-link .canopy-link-content-container .canopy-external-link-icon {\n    /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n    background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K);\n    background-size: contain;\n    background-repeat: no-repeat;\n    top: -3.5px;\n    left: 0px;\n    position: relative;\n    vertical-align: text-bottom;\n    width: 8px;\n    height: 8px;\n    display: inline-block;\n  }\n\n  &:not(.canopy-open-link) { // if it is open, it has been inlined and isn't a cycle\n    .canopy-back-cycle-icon, .canopy-forward-cycle-icon, .canopy-provisional-cycle-icon {\n      top: 2px;\n      left: 1px;\n      text-decoration: none;\n      font-size: 9px;\n      position: relative;\n    }\n  }\n}\n\na.canopy-disabled-link {\n  color: #000000;\n  pointer-events: none;\n  cursor: not-allowed;\n  opacity: 0.5;\n  text-decoration: none;\n  .canopy-link-content-container {\n    border-radius: 1px;\n    border: 1px solid #dddddd;\n  }\n}\n\na.canopy-selectable-link.canopy-linked-image {\n  text-decoration: none;\n\n  .canopy-link-content-container {\n    border: none;\n    background-color: inherit;\n  }\n\n  &.canopy-external-link .canopy-external-link-icon {\n    display: none;\n  }\n}\n\n/////////////////////////////////////////////\n\nhr.canopy-footnote-rule {\n  width: 750px;\n  display: block;\n  height: 1px;\n  border: 0;\n  border-top: 1px solid #ccc;\n  margin: 12px 0;\n  padding: 0;\n}\n\nsup {\n  font-size: 60%;\n  padding: 2px;\n}\n\n.canopy-footnote-span {\n  font-size: 80%;\n  display: block;\n  span { // text after number\n    margin-left: 2px;\n  }\n  &:not(:last-child) {\n    padding-bottom: 7px;\n  }\n}\n\nblockquote {\n  padding: 0 .7em;\n  color: #565e67;\n  white-space: pre-wrap;\n\n  a, a.canopy-selectable-link {\n    color: #565e67;\n  }\n\n  &[dir=\"rtl\"] {\n    border-right: 0.25em solid lightgray;\n  }\n\n  &[dir=\"ltr\"] {\n    border-left: 0.25em solid lightgray;\n  }\n\n  margin-left: 0px;\n  margin-right: 0px;\n  margin-top: 12px;\n  margin-bottom: 12px;\n\n  /* a.canopy-selectable-link {\n    .canopy-link-content-container {\n      // reset button styling\n      background-color: #FFFFFF00;\n      padding-left: 0px;\n      padding-right: 0px;\n      border: none;\n      text-decoration: underline #D3D3D3;\n    }\n\n    &.canopy-selected-link.canopy-open-link .canopy-link-content-container {\n      background-color: #edeefc;\n      border: none;\n      text-decoration: none;\n    }\n\n    &.canopy-open-link .canopy-link-content-container {\n      background-color: #dedede;\n      border: none;\n      text-decoration: none;\n    }\n\n    &:hover:not(.canopy-open-link) .canopy-link-content-container {\n      background-color: #f0f0f0;\n      // text-decoration: underline #000000;\n    }\n  } */\n\n  .canopy-linebreak-span {\n    margin-bottom: 0px; // unset default\n  }\n\n  .canopy-blockquote-padded-linebreak { // we replace break tags to be able to give them padding\n    margin-bottom: 8px;\n    display: block;\n  }\n}\n\npre {\n  margin: 10px 10px;\n  background-color: #eff0f1;\n  padding: 5px;\n  font-size: 85%;\n}\n\ncode {\n  background-color: #eff0f1;\n  font-size: 90%;\n}\n\ntable {\n  margin: 21px auto auto auto;\n  table-layout: auto;\n  max-width: 90%;\n  border-collapse: collapse;\n  border: none; // we put the border on the TDs to allow omitted table cells\n  font-size: 18px;\n  min-width: 500px;\n  table-layout: fixed;\n\n  &:not(:last-child) {\n    margin-bottom: 25px;\n  }\n\n  td, th {\n    border: 1px solid black;\n    text-align: center;\n    padding: 15px;\n\n    &.hidden {\n      opacity: 0;\n      border: none;\n    }\n\n    br {\n      display: block; // makes it have a width\n      content: \"\"; // clears default height\n      padding-bottom: 2px;\n    }\n  }\n\n  td.canopy-table-link-cell {\n    cursor: pointer;\n    user-select: text;\n    background-color: #ffffff;\n\n    a.canopy-selectable-link {\n      text-decoration: none;\n      text-shadow: none;\n      background-color: #FFFFFF00;\n      border: none;\n      padding: 4px; // to force breaking onto multiple lines\n    \n      &, &.canopy-open-link, &.canopy-selected-link {\n        .canopy-link-content-container {\n          border: none;\n          background-color: inherit;\n        }\n      }\n    }\n    \n    &:has(.canopy-selected-link) {\n      background-color: #edeefc;\n    }\n\n    &:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n      background-color: #eae8e8;\n    }\n\n    &:hover:not(:has(.canopy-selected-link)), // selected link style overrides hover\n    &:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n      background-color: #f5f6fe;\n\n      .canopy-selected-link {\n          background-color: #f5f6fe;\n      }\n    }\n\n    &:has(a.canopy-disabled-link) {\n      background-color: #ffffff;\n      color: #000000;\n      cursor: not-allowed;\n      opacity: 0.7;\n      pointer-events: none;\n\n      a.canopy-disabled-link {\n        background-color: #FFFFFF00;\n        text-decoration: none;\n        text-shadow: none;\n\n        .canopy-link-content-container {\n          border: none;\n        }\n      }\n    }\n  }\n}\n\n.canopy-menu {\n  display: flex;\n  flex-direction: column;\n  align-items: center; /* This centers the rows within the container */\n  margin: 0 auto;\n  gap: 10px;\n\n  .canopy-menu-row {\n    display: flex;\n    justify-content: center;\n    box-sizing: border-box;\n    gap: 10px;\n  }\n\n  &.canopy-align-right {\n    align-items: flex-end;\n    .canopy-menu-row {\n      justify-content: flex-end;\n    }\n  }\n\n  &.canopy-align-left {\n    align-items: flex-start;\n  }\n\n  &.canopy-align-mixed {\n    align-items: normal;\n  }\n\n  &:not(:first-child) {\n    margin-top: 25px; // has to be in sync with size between section elements for button-paragraph sequences\n  }\n\n  &:not(:last-child) {\n    margin-bottom: 25px;\n  }\n\n  .canopy-menu-cell {\n    display: flex;\n    flex-direction: row; /* Arrange items horizontally */\n    flex-wrap: wrap; /* Allow items to wrap within the cell */\n    justify-content: center; /* Center content horizontally */\n    align-items: center; /* Center content vertically */\n    border: 1px solid black;\n    border-radius: 0px;\n    box-sizing: border-box;\n    background-color: white;\n    padding: 10px; /* Add some padding inside cells */\n    text-align: center; /* This will center the text inside the flex items */\n    align-self: stretch; /* Stretch the child items to fill the cell's width */\n    \n    white-space: normal; /* Allow the text to wrap */\n    overflow-wrap: normal; // we don't want breaking during size evaluation\n    word-break: normal; \n    hyphens: none;\n\n    &.canopy-menu-cell-last-left { // only the right-most left needs margin\n      margin-right: auto;\n    }\n\n    &.canopy-menu-cell-first-right { // only the left-most right needs margin\n      margin-left: auto;\n    }\n\n    .canopy-menu-content-container {\n      display: inline;\n      max-width: 100%;\n      max-height: 100%;\n    }\n\n    &.canopy-menu-ordinal-cell .canopy-menu-content-container {\n      //width: 80%; // to keep the numbers in a similar location in each cell\n    }\n\n    br {\n      display: block; // makes it have a width\n      content: \"\"; // clears default height\n      padding-bottom: 2px;\n    }\n  }\n\n  .canopy-menu-cell.canopy-menu-link-cell {\n    cursor: pointer;\n    border: 1.5px solid black;\n    border-radius: 5px;\n    display: flex;\n    justify-content: center; /* Center content horizontally */\n    align-items: center; /* Center content vertically */\n    user-select: none;\n\n    a.canopy-disabled-link {\n      opacity: unset; // apply on menu element\n    }\n\n    a.canopy-selectable-link {\n      text-decoration: none;\n      text-shadow: none;\n      user-select: none;\n\n      span.canopy-link-content-container {\n        border: none;\n        background-color: inherit;\n      }\n    }\n\n    &:has(.canopy-selected-link) {\n      background-color: #edeefc;\n    }\n\n    &:has(.canopy-open-link:not(.canopy-selected-link)) {\n      background-color: #eae8e8;\n    }\n\n    &:hover:has(a.canopy-selectable-link:not(.canopy-selected-link)), // selected link style overrides hover\n    &:hover:has(a.canopy-selectable-link.canopy-open-link:not(.canopy-selected-link)) {\n      background-color: #f5f6fe;\n    }\n\n    .canopy-link-content-container {\n      .canopy-external-link-icon, .canopy-forward-cycle-icon, .canopy-back-cycle-icon, .canopy-provisional-cycle-icon {\n        font-size: 11px;\n        margin-left: -5px; // Negative margin to pull the icon closer to the last word\n        position: relative; // Allows for position adjustment\n        top: 5px;\n        left: 6px;\n        white-space: nowrap; // Prevents the icon from wrapping\n      }\n\n      &[dir=\"rtl\"] {\n        .canopy-external-link-icon, .canopy-forward-cycle-icon, .canopy-back-cycle-icon, .canopy-provisional-cycle-icon {\n          top: 0px; // find good values\n          left: 0px;\n        }\n      }\n    }\n\n    &:has(.canopy-external-link) {\n      &.canopy-selectable-link * {\n        text-decoration: none;\n      }\n\n      .canopy-menu-content-container .canopy-external-link-icon {\n        /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n        background-image: url(data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K);\n        background-size: contain;\n        background-repeat: no-repeat;\n        top: -3px;\n        left: 5px;\n        position: relative;\n        vertical-align: text-bottom;\n        width: 8px;\n        height: 8px;\n        display: inline-block;\n      }\n    }\n\n    &:has(.canopy-disabled-link) {\n      background-color: #FFFFFF;\n      color: #000000;\n      cursor: not-allowed;\n      opacity: 0.4; // more than tables because includes border\n      pointer-events: none;\n\n      .canopy-link-content-container {\n        border: none;\n      }\n    }\n  }\n\n  &.canopy-eigth-pill .canopy-menu-cell {\n    width: calc((750px - 70px)/8); // take total width, subtract gaps, and divide by total number\n    padding-left: 12px; // make it a little harder to qualify\n    padding-right: 12px; // make it a little harder to qualify\n    padding-top: 2px;\n    padding-bottom: 2px;\n    height: 45px; // more button-esque\n  }\n\n  &.canopy-quarter-pill .canopy-menu-cell {\n    width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n    padding: 9px;\n    height: 50px;\n  }\n\n  &.canopy-third-pill .canopy-menu-cell {\n    width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n    padding: 9px;\n    height: 50px;\n  }\n\n  &.canopy-half-pill .canopy-menu-cell {\n    width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n    padding: 9px;\n    height: 50px;\n  }\n\n  &.canopy-quarter-card .canopy-menu-cell {\n    width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n    height: 95px;\n    padding: 15px;\n  }\n\n  &.canopy-third-card .canopy-menu-cell {\n    width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n    height: 120px;\n    padding: 15px;\n  }\n\n  &.canopy-half-tube .canopy-menu-cell {\n    width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n    height: 160px;\n    padding: 30px;\n  }\n\n  &.canopy-half-card .canopy-menu-cell {\n    width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n    height: 265px;\n    min-height: 160px;\n    padding: 30px;\n  }\n}\n\n.canopy-image-container {\n  display: flex;\n  justify-content: center;\n  object-fit: cover;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  margin-top: 15px;\n\n  .canopy-image {\n    img {\n      display: block;\n      max-width: 100%;\n      width: auto;\n    }\n\n    span.canopy-image-caption {\n      margin: 0px auto;\n      width: 100%;\n      padding: 6px 0px;\n      text-align: left;\n      display: block;\n      font-size: 16px;\n      line-height: 18px;\n      color: #595959;\n      background-color: white;\n\n      a {\n        color: #595959;\n      }\n\n      a.canopy-selectable-link {\n        border: none;\n        text-decoration: underline #D3D3D3;\n\n        &:hover {\n          text-decoration: underline #000000;\n        }\n      }\n\n      a.canopy-link-content-container {\n        border: none;\n        background-color: inherit;\n      }\n\n      a.canopy-selected-link {\n        background-color: #c9ccff; // extra dark so it is noticible\n      }\n\n      a.canopy-external-link .canopy-external-link-icon {\n        display: none; // no icon for links in image captions because usually they'll be external\n      }\n\n      span {\n        display: inline;\n      }\n    }\n  }\n}\n\ndiv.canopy-image-div {\n  float: right;\n  border: 1px solid #c8ccd1;\n  padding: 3px;\n  background-color: #f8f9fa;\n  font-size: 94%;\n  text-align: center;\n  overflow: hidden;\n  margin: 10px;\n}\n\n.canopy-open-link .canopy-image, .canopy-selected-link .canopy-image {\n  position: relative;\n}\n\n.canopy-selected-link .canopy-image::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(130, 150, 250, 0.3); /* Deeper blue with 50% opacity */\n  pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n}\n\n.canopy-open-link:not(.canopy-selected-link) .canopy-image::after {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(128, 128, 128, 0.2); /* Gray color with 50% opacity */\n  pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n}\n\ndiv.canopy-image-div > sup {\n  display: block;\n}\n\nol, ul {\n  margin-top: 15px;\n  margin-left: 10px;\n  margin-right: 10px;\n  margin-bottom: 0px;\n\n  &:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  li:not(:last-child) {\n    margin-bottom: 10px;\n  }\n}\n\ndiv.canopy-raw-html {\n  display: inline;\n\n  .canopy-html-insertion {\n    display: inline;\n  }\n}\n\n"],sourceRoot:""}]);const d=u},6314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",i=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),i&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),i&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,i,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(i)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(a[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);i&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),n.push(u))}},n}},4417:e=>{"use strict";e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1354:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),o="/*# ".concat(r," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}},2205:function(e,n,t){var i;i=void 0!==t.g?t.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var n=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var n,t=String(e),i=t.length,r=-1,o="",a=t.charCodeAt(0);++r<i;)0!=(n=t.charCodeAt(r))?o+=n>=1&&n<=31||127==n||0==r&&n>=48&&n<=57||1==r&&n>=48&&n<=57&&45==a?"\\"+n.toString(16)+" ":0==r&&1==i&&45==n||!(n>=128||45==n||95==n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)?"\\"+t.charAt(r):t.charAt(r):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=n,n}(i)},5072:e=>{"use strict";var n=[];function t(e){for(var t=-1,i=0;i<n.length;i++)if(n[i].identifier===e){t=i;break}return t}function i(e,i){for(var o={},a=[],l=0;l<e.length;l++){var c=e[l],s=i.base?c[0]+i.base:c[0],u=o[s]||0,p="".concat(s," ").concat(u);o[s]=u+1;var d=t(p),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)n[d].references++,n[d].updater(h);else{var A=r(h,i);i.byIndex=l,n.splice(l,0,{identifier:p,updater:A,references:1})}a.push(p)}return a}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var o=i(e=e||[],r=r||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var l=t(o[a]);n[l].references--}for(var c=i(e,r),s=0;s<o.length;s++){var u=t(o[s]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}o=c}}},7659:e=>{"use strict";var n={};e.exports=function(e,t){var i=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}},540:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},5056:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},7825:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var i="";t.supports&&(i+="@supports (".concat(t.supports,") {")),t.media&&(i+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(i+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),i+=t.css,r&&(i+="}"),t.media&&(i+="}"),t.supports&&(i+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(i,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},1113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},6097:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K"}},n={};function t(i){var r=n[i];if(void 0!==r)return r.exports;var o=n[i]={id:i,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.exports}return t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{"use strict";var e=t(5072),n=t.n(e),i=t(7825),r=t.n(i),o=t(7659),a=t.n(o),l=t(5056),c=t.n(l),s=t(540),u=t.n(s),p=t(1113),d=t.n(p),h=t(6705),A={};A.styleTagTransform=d(),A.setAttributes=c(),A.insert=a().bind(null,"head"),A.domAPI=r(),A.insertStyleElement=u(),n()(h.A,A),h.A&&h.A.locals&&h.A.locals;var f=t(5044),y=t(514),g=t(797),m=t(1246);function b(){var e=g.A.selection,n=g.A.lastSelectionOfParagraph(e.enclosingParagraph.topicParagraph.parentParagraph)||e.enclosingParagraph.topicParagraph.parentLink;return(null==n?void 0:n.select())||g.A.deselect()}function C(){var e,n=g.A.selection,t=n&&n.parentLink&&g.A.lastSelectionOfParagraph(null===(e=n.parentLink)||void 0===e?void 0:e.enclosingParagraph)||n.parentLink,i=!t;if(i&&!n.isVisible){var r=g.A.selection.enclosingParagraph.sectionElement;return(0,m.cw)(r,{targetRatio:.75,maxScrollRatio:.5,minDiff:0,direction:"up",behavior:"smooth"})}return i&&n.isVisible?(0,f.A)(n.enclosingParagraph.path):t&&!t.isVisible?(0,m.cw)(t.element,{targetRatio:.3,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}).then((function(){if(t.isFocused)return t.select({noScroll:!0})})):t&&t.isVisible?n.parentLink.select():void 0}function k(e){var n=e.newTab,t=e.altKey,i=e.shiftKey,r=!g.A.selection.isClosedCycle&&g.A.selection.firstChild;if(r&&r.isBelowViewport&&r.positionOnViewport>.8&&!g.A.selection.isPathReference)return(0,m.cw)(r.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"});if(r&&r.isAboveViewport&&!g.A.selection.isPathReference)return(0,m.cw)(r.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth",side:"bottom"});if(g.A.selection.isParent&&!g.A.selection.hasChildren&&!g.A.selection.cycle&&!g.A.selection.isPathReference){var o=g.A.selection.targetParagraph.sectionElement;return(0,m.cw)(o,{targetRatio:.2,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}return!r||!r.isVisible||r.isSelected||n||g.A.selection.isPathReference?g.A.selection.execute({newTab:n,redirect:t,inlineCycles:i,selectALink:!0}):r.select({newTab:n,redirect:t,inlineCycles:i})}function v(){return g.A.selection.isCycle?g.A.selection.execute({inlineCycles:!0}):k()}var w=t(4207),x=t(9903);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){O(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function O(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function B(e){var n,t=null===(n=g.A.selection)||void 0===n?void 0:n.element;if("up"===e){if(!t)return;var i=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent})),r=_(t,"up"),o=_(t,"down"),a=U(i).filter((function(e){return L(e,o)&&!D(e,o)&&e.element!==t}));if(0===a.length)return o.top<-10?(0,m.cw)(t,{targetRatio:.25,maxScrollRatio:.5,minDiff:40,direction:"up",behavior:"smooth"}):y.A.root.display().then((function(){return(0,m.Cj)({top:0})}));q(a.reduce((function(e,n){var t,i=e.link,a=n.link;return a.siblingOf(i)&&i.isParentLinkOf(g.A.selection.enclosingParagraph)?e:i.siblingOf(a)&&g.A.for(n.element).isParentLinkOf(null===(t=g.A.selection)||void 0===t?void 0:t.enclosingParagraph)?n:!N(e,n)||D(e,n)||D(e,o)?!N(n,e)||D(e,n)||D(n,o)?F(r,e)?e:F(r,n)?n:F(e,r)&&!F(n,r)?e:F(n,r)&&!F(e,r)?n:R(e,r)&&!R(n,r)?e:R(n,r)&&!R(e,r)?n:e.element.closest("p.canopy-paragraph")===g.A.selection.parentLink.enclosingParagraph.paragraphElement?R(e,r)&&R(n,r)?H(r,e,n):M(e,n,r):R(e,o)&&R(n,o)?H(o,e,n):M(e,n,o):n:e})),{direction:"up"})}else if("down"===e){if(!t)return y.A.rendered.selectALink({direction:"down"});var l=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent&&(n=e,"none"!==(t=window.getComputedStyle(n)).display&&"hidden"!==t.visibility&&"0"!==t.opacity&&"0%"!==t.opacity);var n,t})),c=_(t,"up"),s=_(t,"down"),u=U(l).filter((function(e){return N(e,c)&&!D(e,c)&&(n=e,i=x.A.visibleHeight,n.top>=0&&n.top<=i||n.bottom>=0&&n.bottom<=i)&&(!g.A.selection.isAboveViewport||!g.A.selection.siblingOf(e.link))&&e.element!==t;var n,i}));if(0===u.length){var p=w.A.current.sectionElement;return(0,m.cw)(p,{targetRatio:.05,maxScrollRatio:.5,minDiff:40,direction:"down",behavior:"smooth",side:"bottom"})}q(u.reduce((function(e,n){var t,i,r=e.link,o=n.link;return o.isLastSelection&&r.siblingOf(o)?n:r.isLastSelection&&o.siblingOf(r)?e:!L(e,n)||D(e,n)||D(e,c)?!L(n,e)||D(e,n)||D(n,c)?F(s,e)?e:F(s,n)?n:F(e,s)&&!F(n,s)?e:F(n,s)&&!F(e,s)?n:e.element.closest("p.canopy-paragraph")===(null===(t=g.A.selection)||void 0===t||null===(i=t.targetParagraph)||void 0===i?void 0:i.paragraphElement)?R(e,s)&&!R(n,s)?e:R(n,s)&&!R(e,s)?n:w.A.current.links[0].element===e.element?e:w.A.current.links[0].element===n.element?n:H(c,e,n):R(e,c)&&!R(n,c)?e:R(n,c)&&!R(e,c)?n:H(s,e,n):n:e})),{direction:"down"})}else if("left"===e){var d=g.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),h=_(t,"right"),A=U(d),f=A.filter((function(e){return e.right<h.right}));if((f=(f=f.filter((function(e){return D(e,h)}))).filter((function(e){return e.element!==t}))).length>0){var b=f.reduce((function(e,n){return e.bottom===h.bottom&&n.bottom!==h.bottom?e:n.bottom===h.bottom&&e.bottom!==h.bottom?n:e.right>n.right?e:e.right<n.right?n:e.right===n.right?G(h,e,"bottom")>G(h,n,"bottom")?n:e:void 0}));if(b)return q(b)}var C="ltr"===J(t)?"up":"down",k=function(e,n){return"up"===n?"ltr"===J(K(e))?"right":"left":"down"===n?"ltr"===J(W(e))?"left":"right":void 0}(t,C),v="up"===C?L:N,S="up"===C?N:L,E="right"===k?I:j;if((f=(f=(f=A.filter((function(e){return v(e,h)}))).filter((function(e){return!D(e,h)}))).filter((function(e){return e.element!==t}))).length>0){var P=f.reduce((function(e,n){return S(e,n)&&!D(e,n)?e:S(n,e)&&!D(e,n)?n:E(e,n)}));if(P)return q(P)}var T="ltr"===J(t)?"down":"up",O=z(t,T),B="up"===T?L:N,Y="right"===O?I:j,V=A.reduce((function(e,n){return B(e,n)&&!D(e,n)?e:B(n,e)&&!D(e,n)?n:Y(e,n)}));if(V)return q(V)}else if("right"===e){var Z=g.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),Q=_(t,"left"),$=U(Z),X=$.filter((function(e){return e.left>Q.left}));if((X=(X=X.filter((function(e){return D(e,Q)}))).filter((function(e){return e.element!==t}))).length>0){var ee=X.reduce((function(e,n){return e.bottom===Q.bottom&&n.bottom!==Q.bottom?e:n.bottom===Q.bottom&&e.bottom!==Q.bottom?n:e.left<n.left?e:e.left>n.left?n:e.left===n.left?(i=n,(t=e).top<i.top?t:i):void 0;var t,i}));if(ee)return q(ee)}var ne=function(e){return"ltr"===J(e)?"down":"up"}(t),te="up"===ne?L:N,ie="up"===ne?N:L,re="right"===le?I:j;if((X=(X=(X=$.filter((function(e){return te(e,Q)}))).filter((function(e){return!D(e,Q)}))).filter((function(e){return e.element!==t}))).length>0){var oe=X.reduce((function(e,n){return ie(e,n)&&!D(e,n)?e:ie(n,e)&&!D(n,e)?n:re(e,n)}));if(oe)return q(oe)}var ae=function(e){return"ltr"===J(e)?"up":"down"}(t),le=z(t,ae),ce="up"===ae?"top":"bottom",se="up"===ae?L:N,ue="right"===le?I:j,pe=$.reduce((function(e,n){return se(e,n)?e:se(n,e)?n:e[ce]===n[ce]?ue(e,n):void 0}));if(pe)return q(pe)}}function L(e,n){return e.bottom<n.bottom}function N(e,n){return e.top>n.top}function I(e,n){return e.right>n.right?e:n}function j(e,n){return e.left<n.left?e:n}function F(e,n){return e.left>n.left&&e.right<n.right}function R(e,n){return e.left<n.right&&n.left<e.right}function D(e,n){return e.top<n.bottom&&e.bottom>n.top||n.top<e.bottom&&n.bottom>e.top}function M(e,n,t){var i=(e.left+e.right)/2,r=(n.left+n.right)/2,o=(t.left+t.right)/2;return Math.abs(i-o)<Math.abs(r-o)?e:n}function q(e,n){return e.top-x.A.top>window.innerHeight- -10?(0,m.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"down",behavior:"smooth"}):e.bottom-x.A.top<-10?(0,m.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"up",behavior:"smooth"}):new g.A(e.element).select(n)}function H(e,n,t){function i(e,n){return Math.max(0,Math.min(e.right,n.right)-Math.max(e.left,n.left))}return i(e,n)>i(e,t)?n:t}function G(e,n,t){switch("number"==typeof e&&(e=O({},t,e)),"number"==typeof n&&(n=O({},t,n)),t){case"left":return Math.abs(e.left-n.left);case"right":return Math.abs(e.right-n.right);case"top":return Math.abs(e.top-n.top);case"bottom":return Math.abs(e.bottom-n.bottom);case"middle":return Math.abs((e.left-e.right)/2-(n.left-n.right)/2);default:return null}}function U(e){var n,t=[],i=P(e);try{for(i.s();!(n=i.n()).done;){var r=n.value,o=r;r.closest(".canopy-bounding-box-container")&&(o=r.closest(".canopy-bounding-box-container"));var a=Array.from(o.getClientRects()),l=E({element:r,link:g.A.for(r),text:r.innerText},JSON.parse(JSON.stringify(o.getBoundingClientRect())));if(r.closest(".canopy-bounding-box-container"))t.push(l);else for(var c=0;c<a.length;c++){var s=a[c];t.push({x:s.x,y:s.y,width:s.width,height:s.height,top:s.top,right:s.right,bottom:s.bottom,left:s.left,element:r,text:r.innerText,link:g.A.for(r)})}}}catch(e){i.e(e)}finally{i.f()}return t}function _(e,n){var t=JSON.parse(JSON.stringify(e.getBoundingClientRect())),i=function(e){var n=[];e.sort((function(e,n){return e.top-n.top}));for(var t=e[0],i=1;i<e.length;i++){var r=e[i];t.top===r.top?(t.left=Math.min(t.left,r.left),t.right=Math.max(t.right,r.right)):(n.push(t),t=r)}return n.push(t),n}(function(e){var n=[];return function e(t){if(t.nodeType===Node.TEXT_NODE){var i=document.createRange();i.selectNodeContents(t);for(var r=i.getClientRects(),o=0;o<r.length;o++)n.push(r[o])}else if(t.nodeType===Node.ELEMENT_NODE){var a,l=P(t.childNodes);try{for(l.s();!(a=l.n()).done;)e(a.value)}catch(e){l.e(e)}finally{l.f()}}}(e),n.map((function(e){return JSON.parse(JSON.stringify(e))}))}(e));if(1===i.length||e.closest(".canopy-bounding-box-container"))return E({element:e},t);if(0===i.length)return null;switch(n){case"left":return E({element:e,link:g.A.for(e)},i.reduce((function(e,n){return n.right>e.right?e:n})));case"right":return E({element:e,link:g.A.for(e)},i.reduce((function(e,n){return n.left<e.left?e:n})));case"up":return E({element:e,link:g.A.for(e)},i.reduce((function(e,n){return n.bottom<e.bottom?n:e})));case"down":return E({element:e,link:g.A.for(e)},i.reduce((function(e,n){return n.top>e.top?n:e})));default:throw new Error("Invalid direction argument")}}function z(e,n){return"up"===n?"ltr"===J(K(e))?"left":"right":"down"===n?"ltr"===J(W(e))?"right":"left":void 0}function W(e){var n=e.closest("p.canopy-paragraph"),t=Array.from(n.querySelectorAll(".canopy-selectable-link")),i=t.indexOf(g.A.selection.element);return i<t.length-1?t[i+1]:g.A.selection.element}function K(e){var n=e.closest("p.canopy-paragraph"),t=Array.from(n.querySelectorAll(".canopy-selectable-link")),i=t.indexOf(g.A.selection);return i>0?t[i-1]:g.A.selection.element}function J(e){return"rtl"===e.dir?"rtl":(n=function(e){for(;e.parentNode!==g.A.selection.element.closest("p.canopy-paragraph");)e=e.parentNode;return e}(e).innerText,new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")).test(n)?"rtl":"ltr");var n}var Y={left:B.bind(null,"left"),up:B.bind(null,"up"),down:B.bind(null,"down"),"shift-down":v,"alt-down":v,right:B.bind(null,"right"),h:B.bind(null,"left"),k:B.bind(null,"up"),j:B.bind(null,"down"),"shift-j":v,"alt-j":v,l:B.bind(null,"right"),u:C,i:C,"shift-enter":C,n:k,m:k,escape:function(){return(0,f.A)(y.A.current.firstTopicPath,null,{scrollStyle:"instant"})},z:function(){var e,n=g.A.selection.relativeLinkNumber;return null===(e=g.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.display({renderOnly:!0}).then((function(){g.A.from((function(){var e;return null===(e=g.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.parentParagraph.nthLink(n)})).select({scrollStyle:"instant"})}))},d:function(){return window.open(window.location.href,"_blank")},"shift-up":b,"shift-k":b,c:function(){navigator.clipboard.writeText(decodeURIComponent(window.location))},enter:function(){return k({})},"meta-enter":function(){return k({newTab:!0})},"ctrl-enter":function(){return k({newTab:!0})},"alt-enter":function(){return k({newTab:!1,altKey:!0})},"meta-alt-enter":function(){return k({newTab:!0,altKey:!0})},"ctrl-alt-enter":function(){return k({newTab:!0,altKey:!0})},"enter-shift":function(){return k({})},"meta-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"ctrl-shift-enter":function(){return k({newTab:!0,shiftKey:!0})},"alt-shift-enter":function(){return k({newTab:!1,altKey:!0,shiftKey:!0})},"meta-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})},"ctrl-alt-shift-enter":function(){return k({newTab:!0,altKey:!0,shiftKey:!0})}},V=["c","d","up","down"],Z={37:"left",39:"right",38:"up",40:"down",71:"g",72:"h",75:"k",74:"j",76:"l",186:";",90:"z",68:"d",67:"c",85:"u",73:"i",78:"n",77:"m",13:"enter",9:"tab",27:"escape",32:"space",192:"`",49:"1",50:"2",51:"3",52:"4",53:"5"};window.addEventListener("keydown",(function(e){if(!(r=document.activeElement)||!("TEXTAREA"===r.tagName||"INPUT"===r.tagName&&["text","password","email","search","number","tel","url"].includes(r.type.toLowerCase()))){var n=(e.metaKey?"meta-":"")+(e.ctrlKey?"ctrl-":"")+(e.altKey?"alt-":"")+(e.shiftKey?"shift-":""),t=Z[e.keyCode],i=n+t;if(["tab","down","up","left","right"].includes(t)&&((e.metaKey||e.ctrlKey)&&["left","right"].includes(t)||e.preventDefault()),"escape"===t&&!g.A.selection)return(0,f.A)(y.A.default,null);g.A.selection||V.includes(i)?(Y[i]||function(){})():Y[i]&&y.A.rendered.selectALink()}var r})),"scrollRestoration"in history&&(history.scrollRestoration="manual"),history.replaceState(history.state,document.title,window.location.href),window.addEventListener("popstate",(function(e){var n,t,i,r=null!=e&&null!==(n=e.state)&&void 0!==n&&n.linkSelection?new g.A(null==e||null===(t=e.state)||void 0===t?void 0:t.linkSelection):null;i=y.A.current.firstTopicPath.equals(y.A.url.firstTopicPath)?"smooth":"instant",(0,f.A)(y.A.url,r,{scrollStyle:i,scrollDirect:!0,popState:!0})})),(0,f.A)(y.A.initial,g.A.savedSelection,{scrollStyle:"instant",initialLoad:!0,scrollToParagraph:!0})})(),{}})()));
//# sourceMappingURL=_canopy.js.map