/*! For license information please see playground.js.LICENSE.txt */
!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Canopy=n():e.Canopy=n()}(self,(()=>(()=>{var e={266:(e,n,t)=>{var r=t(9101),i=t(4244),o=t(754),a=t(4056);e.exports=function(e,n,t,c){var l=n[e].trim().split(/\n\n/),s=new o(l[0]),u={};t.filePath=e,l.forEach((function(e){var n=new o(e.trim());if(n.key){t.setTopicAndSubtopic(i.for(s.key),i.for(n.key)),t.setLineNumberToCurrentSubtopic(),n.newlineAfterDelimiter||t.incrementCharacterNumber(n.key.length+n.charsAfterKey),n.newlineAfterDelimiter&&t.incrementLineAndResetCharacterNumber();var a=r(n.text,t);u[t.currentSubtopic.mixedCase]=a}})),t.validateRedundantLocalReferences(),t.throwSubsumptionConditionalErrors(),t.addFragmentReferenceSubtopics((function(e){u[e.mixedCase]=[]}));var p={displayTopicName:s.key,topicTokens:a({text:s.key,parserContext:t.clone({insideToken:!0})}),paragraphsBySubtopic:u};return JSON.stringify(p,null,c.pretty?2:0)}},3559:(e,n,t)=>{var r=t(266),i=t(7697).topicKeyOfString,o=t(1812),a=t(4244);e.exports=function(e,n,t){var c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l="build",s=l+"/_data",u=new o({explFileData:e,newStatusData:n,defaultTopicString:t,options:c}),p=[],h={};return p.push(s),Object.keys(e).forEach((function(t){if(i(e[t])&&(!n||n[t])){var o=r(t,e,u,c),d=new a(i(e[t]),!0),f="".concat(s,"/").concat(d.fileName,".json");if(h[f]=o,c.symlinks){var g=new a(i(e[t]));g.fileName,p.push(l+"/"+g.fileName)}}})),u.validateSubtopicDefinitions(),u.validateGlobalReferences(),c.orphans&&u.logGlobalOrphans(),c.orphans&&u.logLocalOrphans(),{directoriesToEnsure:p,filesToWrite:h}}},8724:(e,n,t)=>{function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||i(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){if(e){if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var a=t(7529),c=a.LocalReferenceToken,l=a.GlobalReferenceToken,s=a.DisabledReferenceToken,u=(a.FragmentReferenceToken,a.TextToken,a.ExternalLinkToken),p=a.ImageToken,h=a.FootnoteMarkerToken,d=a.HtmlToken,f=a.CodeBlockToken,g=a.BlockQuoteToken,y=a.OutlineToken,m=a.TableToken,A=a.MenuToken,b=a.FootnoteLinesToken,v=a.ItalicsToken,C=a.BoldToken,k=a.InlineCodeSnippetToken,w=a.StrikethroughToken,x=a.ToolTipToken,S=(a.TextLineToken,[function(e){var n=e.string,t=(e.parserContext,n.match(/^\\\n/));if(t)return[null,t[0].length]},function(e){var n=e.string,t=e.parserContext,r=n.match(/^\\([\s\S])/);if(r)return t.buffer+=r[1],[null,r[0].length]},function(e){var n=e.string,t=e.startOfLine,r=n.match(/^```\n([\s\S]*\n)```(\n|$)/);if(r&&t){var i=r[1];return"\n"===i[i.length-1]&&(i=i.slice(0,-1)),[new f(i),r[0].length]}},function(e){var n,t=e.string,r=e.startOfLine,a=t.match(/^(`((\n|$)| [^\n]*(\n|$)))+/);if(a&&r){var c=(n=a[0].matchAll(/^` ?([^\n]*)/gm),function(e){if(Array.isArray(e))return o(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||i(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e[1]})).join("\n");return[new f(c),a[0].length]}},function(e){var n=e.string,t=e.parserContext,r=e.startOfLine,i=n.match(/^((<)(?: [^\n]+|(?=\n))(\n|$))+/)||n.match(/^((>)(?: [^\n]+|(?=\n))(\n|$))+/);if(i&&r){var o=Array.from(i[0].matchAll(/(?:^|\n)(?:[><])(?: ([^\n]+)|(?=\n))/g)).map((function(e){return(null==e?void 0:e[1])||""})).join("\n");"\n"===o[o.length-1]&&(o=o.slice(0,-1));var a=">"===i[2]?"ltr":"rtl";return[new g(o,a,t),i[0].length]}},function(e){var n=e.string,t=e.parserContext,r=e.startOfLine,i=n.match(/^(\s*(((?:[0-9+*-]{1,3}|[a-zA-Z])\.)|[+*-])([ ]+[^\n]+)(\n|$))+/);if(i&&r)return[new y(i[0],t),i[0].length]},function(e){var n=e.string,t=e.parserContext,r=e.startOfLine,i=n.match(/^(?:(?:\|(?:[^\n]*\|))(?:\n|$))+/);if(!i)return null;var o=i[0];o.endsWith("\n")&&(o=o.slice(0,-1));var a=o.split(/\n/g).map((function(e){return T(e)}));return a.every((function(e){return e.length===a[0].length}))?i&&r?[new m(o,t),o.length]:void 0:null},function(e){var n=e.string,t=e.parserContext,r=e.startOfLine;if(n.match(/\n[-=<]+(\n|$)/)){var i=n.match(/^[=\-<]+\n((([-<>] ?|[\w\d]+\.\s)[^\n]*\n)+)[=\-<]+\n?/);return i?i&&r?[new A(i[0],t),i[0].length]:void 0:null}},function(e){var n=e.string,t=e.parserContext,i=e.startOfLine,o=n.match(/(<[^>]+>|((?!<[^>]+>)[\s\S])*)/g),a=null;return o.forEach((function(e,c){var l=o.slice(0,o.length-c).join(""),s=l.match(/^<([^<> ]+)[^<>]*>([\s\S]*<[^>]+>)?/);if(s){var u=r(s,3),p=(u[0],u[1]),h=!u[2],f=!h&&0===Array.from(s[0].matchAll(/<(\/?)([^<> ]+[^<>]*)>/g)).slice(1).reduce((function(e,n){var t=r(n,3),i=(t[0],t[1]),o=t[2];return 0===e?NaN:(o.toLowerCase()===p.toLowerCase()&&(i?e--:e++),e)}),1);if(h||f){var g=i&&"\n"===n[l.length]?1:0;a=a||[new d(s[0],t),s[0].length+g]}}})),a},function(e){var n=e.string,t=e.parserContext,r=n.match(/^&[a-zA-Z]+;/);if(r)return[new d(r[0],t),r[0].length]},function(e){var n=e.string,t=e.parserContext,r=e.startOfLine,i=n.match(/^(\[\^[^\]]+\]:[^\n]+(\n|$))+/);if(i&&r)return[new b(i[0],t),i[0].length]},function(e){var n=e.string,t=e.parserContext,r=e.index,i=t.currentTopic,o=t.currentSubtopic;if(!t.noLinks&&O.candidateSubstring(n)){var a=O.for(O.candidateSubstring(n),i,t);if(a.valid&&a.simpleTarget&&a.targetText){var l=P.for(a.targetText);if(l&&l.caps!==i.caps&&l.caps!==o.caps){if(t.currentTopicHasSubtopic(l)){t.subtopicReferenceIsRedundant(l)&&t.registerPotentialRedundantLocalReference(l);var s=new c(i.mixedCase,t.getOriginalSubtopic(i,l).mixedCase,i.mixedCase,o.mixedCase,a.displayText,t);return t.registerLocalReference(l,r,a.contents,n,s),[s,a.fullText.length]}return null}}}},function(e){var n=e.string,t=e.parserContext,r=t.currentTopic,i=t.currentSubtopic;if(!t.noLinks&&O.candidateSubstring(n)){var o=O.for(O.candidateSubstring(n),r,t);if(o.valid){var a=o.pathString;return t.registerGlobalReference(a,o,o.fullText),[new l(a,r.mixedCase,i.mixedCase,o.displayText,t),o.fullText.length]}}},function(e){var n=e.string,t=e.parserContext,r=n.match(/^\[!\[(?:\\[\s\S]|(?!\]\])[\s\S])+\]\]/);if(r){var i=t.currentTopic,o=(t.currentSubtopic,O.for("[["+r[0].slice(3),i,t));return[new s(o.displayText,t),r[0].length]}},function(e){var n=e.string,t=e.parserContext,r=n.match(/^\[#\[(?:\\[\s\S]|(?!\]\])[\s\S])+\]\]/);if(r){var i=t.currentTopic,o=t.currentSubtopic,a=O.for("[["+r[0].slice(3),i,t);return t.registerFragmentReference(a),[new c(i.mixedCase,a.targetAsTopic.mixedCase,i.mixedCase,o.mixedCase,a.displayText,t),r[0].length]}},function(e){var n=e.string,t=e.startOfLine,r=n.match(/^\[\^([^\]]+)\]/);if(r&&!t)return[new h(r[1]),r[0].length]},function(e){var n=e.string,t=e.parserContext,r=e.previousCharacter,i=void 0===r||!r.match(/[A-Za-z0-9]/),o=n.match(/^_([\s\S]*?[^\\])_([\s\S]|$)/),a=void 0!==(null==o?void 0:o[2])&&!(null!=o&&o[2].match(/[A-Za-z0-9]/)),c=null==o?void 0:o[0].match(/\s/);if(o&&(i&&a||!c))return[new v(o[1],t),o[0].length-(null==o?void 0:o[2].length)]},function(e){var n=e.string,t=e.parserContext,r=e.previousCharacter,i=void 0===r||!r.match(/[A-Za-z0-9]/),o=n.match(/^\*([\s\S]*?[^\\])\*([\s\S]|$)/),a=void 0!==(null==o?void 0:o[2])&&!(null!=o&&o[2].match(/[A-Za-z0-9]/)),c=null==o?void 0:o[0].match(/\s/);if(o&&(i&&a||!c))return[new C(o[1],t),o[0].length-(null==o?void 0:o[2].length)]},function(e){var n=e.string,t=e.parserContext,r=(e._,e.previousCharacter),i=void 0===r||!r.match(/[A-Za-z0-9]/),o=n.match(/^`([\s\S]*?[^\\])`(?=[\s\S]|$)/);if(o&&i)return[new k(o[1],t),o[0].length]},function(e){var n=e.string,t=e.parserContext,r=e.previousCharacter,i=void 0===r||!r.match(/[A-Za-z0-9]/),o=n.match(/^~([\s\S]*?[^\\])~([\s\S]|$)/),a=void 0!==(null==o?void 0:o[2])&&!(null!=o&&o[2].match(/[A-Za-z0-9]/)),c=null==o?void 0:o[0].match(/\s/);if(o&&(i&&a||!c))return[new w(o[1],t),o[0].length-(null==o?void 0:o[2].length)]},function(e){var n=e.string,t=e.parserContext,r=n.match(/^!\[((?:\\.|[^\\])*?)\]\((\S+?)\s*(?:["'“”]((?:\\.|[^\\"'“”])*?)(?:"|”)(?: ["'“”]((?:\\.|[^\\])*?)["'“”])?)?\)/);if(r)return[new p({alt:r[1],resourceUrl:r[2],title:r[3],caption:r[4],parserContext:t}),r[0].length]},function(e){var n=e.string,t=e.parserContext,i=n.match(/^\[((?:\\.|!\[(?:\\.|[^\\])+?\)|[^\\])+?)\](?:\(((?:\\[^ ]|[^\\ ])+))\)/);if(i){var o=r(i,3),a=(o[0],o[1]),c=o[2];return[new u(c,a,t),i[0].length]}},function(e){var n=e.string,t=(e.parserContext,n.match(/^([A-Za-z0-9+\-.]+:\/\/\S+[^.,;!\s])/));if(t)return[new u(t[1]),t[0].length]},function(e){var n=e.string,t=e.parserContext,r=n.match(/^ ?(\{!\s?)((?:[^\\}]|\\[\s\S])+)\}/);if(r)return[new x(r[2],r[1],t),r[0].length]}]),P=t(4244),E=t(5317),T=(E.displaySegment,E.splitOnPipes),O=(t(5248),t(5746));e.exports=S},9101:(e,n,t)=>{var r=t(4056);e.exports=function(e,n){return e.split("\n"),n.parseText=r,n.paragraphText=e,n.paragraphReferences=[],r({text:e,parserContext:n,recursive:!1})}},4056:(e,n,t)=>{function r(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var o=t(8724),a=t(7529).TextToken;e.exports=function(e){var n=e.text,t=e.parserContext,i=[];t.currentText=n,t.currentTokens=i,t.buffer="";for(var c=n.split(""),l=0;l<c.length;l++){for(var s=c.slice(l).join(""),u=void 0,p=0;p<o.length;p++){var h=void 0===n[l-1]&&!t.insideToken,d="\n"===n[l-1]||h;if(u=o[p]({string:s,parserContext:t,index:l,previousCharacter:n[l-1],startOfLine:d,startOfText:h})){var f=r(u,2),g=f[0],y=f[1];if(u[0]){var m;t.buffer&&i.push(new a(t.buffer)),t.buffer="",i.push(g);var A=s.slice(0,y);t.incrementLineAndResetCharacterNumber((null===(m=A.match(/\n/g))||void 0===m?void 0:m.length)||0),t.incrementCharacterNumber(A.split("\n").slice(-1)[0].length||0)}l+=y-1;break}}u||(t.buffer+=c[l],t.incrementCharacterNumber(),"\n"===c[l]&&t.incrementLineAndResetCharacterNumber())}return t.buffer&&i.push(new a(t.buffer)),i}},1812:(e,n,t)=>{var r,i;function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||a(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,n){if(e){if("string"==typeof e)return c(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,n):void 0}}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function l(e,n){return n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}}))}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=t(4244),p=t(5365),h=(t(7529).ImportReferenceToken,t(754)),d=t(5317),f=d.displaySegment,g=(d.wrapText,t(5248)),y=function(){function e(n){var t=n.explFileData,r=n.defaultTopicString,i=n.priorParserContext,o=n.options;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),i?Object.assign(this,i,o):(this.subtopicLineNumbers={},this.topicSubtopics={},this.subtopicParents={},this.redundantLocalReferences=[],this.ambiguousLocalReferences=[],this.provisionalLocalReferences={},this.doubleDefinedSubtopics=[],this.subsumptionConditionalErrors=[],this.defaultTopic=new u(r),this.topicConnections={},this.topicFilePaths={},this.currentTopic=null,this.currentSubtopic=null,this.pathsReferenced=[],this.globalReferencesBySubtopic={},this.fragmentReferenceSubtopics={},this.lineNumber=1,this.characterNumber=1,this.linePrefixSize=0,this.buildNamespaceObject(t),this.insideToken=!1,Object.assign(this,o))}var n,t;return n=e,t=[{key:"clone",value:function(){return new e({priorParserContext:this,options:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}})}},{key:"buildNamespaceObject",value:function(e,n){var t=this.topicSubtopics,i=this.topicFilePaths,o=this.subtopicLineNumbers,a=this.doubleDefinedSubtopics;return this.subtopicParents,Object.keys(e).forEach((function(n){var c=e[n].split(/\n\n/),s=new h(c[0]);if(s.key){var d=new u(s.key),f=1;if(t.hasOwnProperty(d.caps))throw new Error(g.red(p(r||(r=l(["Error: Topic or similar appears twice in project: [","]\n        - One file is: ","\n        - Another file is: ","\n        "])),d.mixedCase,i[d.caps],n)));if(i[d.caps]=n,d.display.trim()!==d.display)throw new Error(g.red("Error: Topic name [".concat(d.display,"] begins or ends with whitespace.\n")+n));t[d.caps]={},c.forEach((function(e){"\n"===e[0]&&(f++,e=e.slice(1));var r=new h(e);if(r.key){var i=new u(r.key);if(t[d.caps].hasOwnProperty(i.caps)&&a.push([d,i,n,o[d.caps][i.caps],f]),i.display.trim()!==i.display)throw new Error(g.red("Error: Subtopic name [".concat(i.display,"] in topic [").concat(d.display,"] begins or ends with whitespace.\n\n").concat(n,":").concat(f)));t[d.caps][i.caps]=i,o[d.caps]=o[d.caps]||{},o[d.caps][i.caps]=f}f+=e.split("\n").length+1}))}})),t}},{key:"setLineNumberToCurrentSubtopic",value:function(){this.lineNumber=this.subtopicLineNumbers[this.currentTopic.caps][this.currentSubtopic.caps],this.characterNumber=1}},{key:"setTopicAndSubtopic",value:function(e,n){this.currentTopic=e,this.currentSubtopic=n,this.subtopicParents[this.currentTopic.caps]=this.subtopicParents[this.currentTopic.caps]||{},this.topicFilePaths[e.caps]=this.filePath}},{key:"currentText",get:function(){return this.text},set:function(e){this.text=e}},{key:"currentTokens",get:function(){return this.tokens},set:function(e){this.tokens=e}},{key:"resetCharacterNumber",value:function(){this.characterNumber=1+this.linePrefixSize}},{key:"incrementCharacterNumber",value:function(e){return 0===e||(e?this.characterNumber+=e:this.characterNumber++),this}},{key:"incrementLineAndResetCharacterNumber",value:function(e){return 0===e||(this.characterNumber=1+this.linePrefixSize,e?this.lineNumber+=e:this.lineNumber++),this}},{key:"filePathAndLineNumber",get:function(){return"".concat(this.topicFilePaths[this.currentTopic.caps],":").concat(this.lineNumber,":").concat(this.characterNumber)}},{key:"filePath",get:function(){return this.filePathString},set:function(e){this.filePathString=e}},{key:"getOriginalTopic",value:function(e){var n;return null===(n=this.topicSubtopics[e.caps])||void 0===n?void 0:n[e.caps]}},{key:"getOriginalSubtopic",value:function(e,n){var t;if(!n)throw new Error("two arguments required");return null===(t=this.topicSubtopics[e.caps])||void 0===t?void 0:t[n.caps]}},{key:"currentTopicHasSubtopic",value:function(e){return this.topicSubtopics[this.currentTopic.caps].hasOwnProperty(e.caps)}},{key:"topicHasSubtopic",value:function(e,n){var t;return null===(t=this.topicSubtopics[e.caps])||void 0===t?void 0:t.hasOwnProperty(n.caps)}},{key:"topicExists",value:function(e){return this.topicSubtopics.hasOwnProperty(e.caps)}},{key:"pathExists",value:function(e){var n=this;return e.array.reduce((function(e,t){return!!e&&!(!n.topicSubtopics.hasOwnProperty(e[0].caps)||!n.topicSubtopics[e[0].caps].hasOwnProperty(e[1].caps))}))}},{key:"subtopicReferenceIsRedundant",value:function(e){return this.subtopicParents[this.currentTopic.caps][e.caps]}},{key:"provisionalLocalReference",value:function(e){return this.provisionalLocalReferences[e.caps]}},{key:"registerPotentialRedundantLocalReference",value:function(e){this.redundantLocalReferences.push([this.subtopicParents[this.currentTopic.caps][e.caps],this.currentSubtopic,this.currentTopic,e])}},{key:"registerLocalReference",value:function(e,n,t,r,i){this.subtopicParents[this.currentTopic.caps][e.caps]=this.currentSubtopic,this.provisionalLocalReferences[e.caps]={token:i,paragraphText:this.paragraphText,index:n,enclosingTopic:this.currentTopic,enclosingSubtopic:this.currentSubtopic,linkText:t,linkFullText:r,filePath:this.filePath,lineNumber:this.lineNumber,characterNumber:this.characterNumber}}},{key:"registerFragmentReference",value:function(e){this.fragmentReferenceSubtopics[this.currentTopic.caps]=this.fragmentReferenceSubtopics[this.currentTopic.caps]||[],this.fragmentReferenceSubtopics[this.currentTopic.caps].push(e.targetAsTopic)}},{key:"addFragmentReferenceSubtopics",value:function(e){this.fragmentReferenceSubtopics[this.currentTopic.caps]&&this.fragmentReferenceSubtopics[this.currentTopic.caps].forEach((function(n){e(n)}))}},{key:"parentTopicOf",value:function(e){return this.subtopicParents[this.currentTopic.caps][e.caps]}},{key:"registerSubsumptionConditionalError",value:function(e){this.subsumptionConditionalErrors.push({enclosingTopic:this.currentTopic,enclosingSubtopic:this.currentSubtopic,errorString:e})}},{key:"throwSubsumptionConditionalErrors",value:function(){var e=this;this.subsumptionConditionalErrors.forEach((function(n){if(e.hasConnection(n.enclosingSubtopic,n.enclosingTopic,{},!0))throw new Error(g.red(n.errorString))}))}},{key:"currentFilePathAndLineNumber",get:function(){return"".concat(this.topicFilePaths[this.currentTopic.caps],":").concat(this.lineNumber,":").concat(this.characterNumber)}},{key:"validateSubtopicDefinitions",value:function(){var e=this;this.doubleDefinedSubtopics.forEach((function(n){var t,r=o(n,5),i=r[0],a=r[1],c=r[2],l=r[3],s=r[4];if(null!==(t=e.subtopicParents[i.caps])&&void 0!==t&&t.hasOwnProperty(a.caps))throw new Error(g.red("Error: Subtopic [".concat(a.mixedCase,"] or similar appears twice in topic: [").concat(i.mixedCase,"]\n")+"First definition: ".concat(c,":").concat(l,"\n")+"Second definition: ".concat(c,":").concat(s)))}))}},{key:"registerGlobalReference",value:function(e,n,t){this.topicConnections[this.currentTopic.caps]=this.topicConnections[this.currentTopic.caps]||{},this.topicConnections[this.currentTopic.caps][n.firstTopic.caps]=!0,this.topicConnections[n.firstTopic.caps]=this.topicConnections[n.firstTopic.caps]||{},this.globalReferencesBySubtopic[this.currentTopic.caps]=this.globalReferencesBySubtopic[this.currentTopic.caps]||{},this.globalReferencesBySubtopic[this.currentTopic.caps][this.currentSubtopic.caps]=this.globalReferencesBySubtopic[this.currentTopic.caps][this.currentSubtopic.caps]||{},this.globalReferencesBySubtopic[this.currentTopic.caps][this.currentSubtopic.caps][n.firstTopic.caps]=!0,this.pathsReferenced.push([e,n,this.currentFilePathAndLineNumber,t,this.currentTopic,this.currentSubtopic])}},{key:"logGlobalOrphans",value:function(){var e=this;this.connectedTopics={},this.registerConnectedTopic(this.defaultTopic.caps),Object.keys(this.topicSubtopics).forEach((function(n){var t=e.topicSubtopics[n][n];e.connectedTopics[t.caps]||console.log(g.magenta("Warning: Global Orphan\n"+"Topic [".concat(t.mixedCase,"] is not connected to the default topic [").concat(e.defaultTopic.mixedCase,"]\n")+"".concat(e.topicFilePaths[t.caps],"\n")))}))}},{key:"registerConnectedTopic",value:function(e){var n=this;this.connectedTopics[e]||(this.connectedTopics[e]=!0,Object.keys(this.topicConnections[e]||{}).forEach((function(e){return n.registerConnectedTopic(e)})))}},{key:"logLocalOrphans",value:function(){var e=this;Object.keys(this.subtopicParents).forEach((function(n){var t=e.topicSubtopics[n][n];Object.keys(e.topicSubtopics[n]).forEach((function(r){var i=e.topicSubtopics[n][r];e.hasConnection(i,t)||console.log(g.magenta("Warning: Local Orphan\n"+"Subtopic [".concat(i.mixedCase,"] lacks a connection to its topic [").concat(t.mixedCase,"]\n")+"".concat(e.topicFilePaths[t.caps],":").concat(e.subtopicLineNumbers[t.caps][i.caps],"\n")))}))}))}},{key:"validateRedundantLocalReferences",value:function(){var e=this;this.redundantLocalReferences.forEach((function(n){var t=o(n,4),r=t[0],a=t[1],c=t[2],s=t[3];if(e.hasConnection(r,c)&&e.hasConnection(a,c)&&r!==a)throw new Error(g.red(p(i||(i=l(["Error: Two local references exist in topic [","] to subtopic [","]\n\n            One reference is in subtopic ","\n            ",":","\n\n            One reference is in subtopic ","\n            ",":","\n\n            Multiple local references to the same subtopic are not permitted.\n\n            Consider making one of these local references a self path reference.\n            That would look like using [[#","]].\n            "])),c.mixedCase,s.mixedCase,f(c,r),e.topicFilePaths[c.caps],e.subtopicLineNumbers[c.caps][r.caps],f(c,a),e.topicFilePaths[c.caps],e.subtopicLineNumbers[c.caps][a.caps],s.mixedCase)))}))}},{key:"validateGlobalReferences",value:function(){var e=this;this.pathsReferenced.forEach((function(n){var t,r=o(n,6),i=r[0],l=r[1],s=r[2],p=r[3],h=r[4],d=r[5];e.hasConnection(d,h)&&(t=i.matchAll(/(?:\\.|[^\/])+/g),function(e){if(Array.isArray(e))return c(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e[0]})).map((function(n){var t=o(u.parseUrlSegment(n),2),r=t[0],i=t[1];if(!e.topicExists(r)){var a=r.mixedCase.match(/[.,:;]/)?"\nWarning: Using punctuation like [.,;:] terminates a paragraph key.":"";throw new Error(g.red('Error: Reference "'.concat(p,'" in subtopic [').concat(h.mixedCase,", ").concat(d.mixedCase,"] mentions nonexistent topic or subtopic [").concat(r.mixedCase,"].\n").concat(s)+a))}if(i&&!e.topicHasSubtopic(r,i))throw new Error(g.red("Error: Subtopic [".concat(r.mixedCase,", ").concat(i.mixedCase,'] referenced in reference "').concat(p,'" of paragraph [').concat(h.mixedCase,", ").concat(d.mixedCase,"] does not exist.\n").concat(s)));if(!e.cache&&!e.hasConnection(i||r,r))throw new Error(g.red("Error: Subtopic [".concat(r.mixedCase,", ").concat(l.firstSubtopic.mixedCase,'] referenced in reference "').concat(p,'" of paragraph [').concat(h.mixedCase,", ").concat(d.mixedCase,"] exists but is not subsumed by given topic.\n").concat(s)));return n})).reduce((function(n,t){var r,i,a=o(n.match(/^((?:\\.|[^\\])+?)(?:#(.*))?$/).map((function(e){return e&&u.fromUrl(e)})),3),c=(a[0],a[1]),l=a[2],h=o(t.match(/^((?:\\.|[^\\])+?)(?:#(.*))?$/).map((function(e){return e&&u.fromUrl(e)})),3),d=(h[0],h[1]);if(h[2],!(e.cache||null!==(r=e.globalReferencesBySubtopic[c.caps])&&void 0!==r&&null!==(i=r[(l||c).caps])&&void 0!==i&&i[d.caps]))throw new Error(g.red('Error: Global reference "'.concat(p,'" contains invalid adjacency:\n')+"[".concat(c.mixedCase,", ").concat((l||c).mixedCase,"] does not reference [").concat(d.mixedCase,"]\n")+"".concat(s)));return t}))}))}},{key:"hasConnection",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.caps===n.caps||null===this.subtopicParents[n.caps]||!(this.subtopicParents[n.caps]&&!this.subtopicParents[n.caps][e.caps])&&!!this.subtopicParents.hasOwnProperty(n.caps)&&!!this.subtopicParents[n.caps].hasOwnProperty(e.caps)&&!t[e.caps]&&(t[e.caps]=!0,this.hasConnection(this.subtopicParents[n.caps][e.caps],n,t))}}],t&&s(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();e.exports=y},5746:(e,n,t)=>{function r(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||o(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,n){if(e){if("string"==typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,n):void 0}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=t(4244),s=t(5248),u=function(){function e(n,t,r){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.fullText=n,this.enclosingTopic=t,this.parserContext=r,this.displayText="",this.targetText="",this.exclusiveDisplayText="",this.exclusiveTargetText="",!this.contents)throw new Error("Link has no contents: ".concat(n));this.parseDisplayAndTarget()}var n,t,o;return n=e,o=[{key:"textBeforeFragment",value:function(e){var n=e.match(/^((?:\\.|[^\/])+?)#/);return n?n[1]:null}},{key:"textAfterFragment",value:function(e){var n=e.match(/^(?:\\.|[^\/])*?#(.*)$/);return n?n[1]:null}},{key:"firstSegmentComponent",value:function(e){return e.match(/^[^/#]*/)[0]||this.targetText}},{key:"candidateSubstring",value:function(e){var n;return(null===(n=e.match(/^\[\[((?:\\.|[^\\])+?)\]\]/))||void 0===n?void 0:n[0])||""}},{key:"for",value:function(n,t,r){return new e(n,t,r)}}],(t=[{key:"valid",get:function(){return!!this.fullText.match(/^\[\[((?:\\[\s\S]|(?!\[\[|\]\])[\s\S])+)\]\]$/)}},{key:"contents",get:function(){return this.fullText.match(/^\[\[([\s\S]*)\]\]$/)[1]}},{key:"empty",get:function(){return""===this.contents}},{key:"hasCurlyBraces",get:function(){return!!this.contents.match(/(^|[^\\])\{/)}},{key:"hasPipe",get:function(){return!!this.contents.match(/^(?:\\.|[^\\])+\|/)}},{key:"parseDisplayAndTarget",value:function(){this.valid||this.parserContext.registerSubsumptionConditionalError(s.red("Invalid reference string: "+this.fullText+"\n".concat(this.parserContext.filePathAndLineNumber))),this.hasCurlyBraces?this.parseCurlyBraceReference():this.hasPipe?this.parsePipeReference():this.parseSimple(),this.removeNewlines()}},{key:"removeNewlines",value:function(){this.targetText=this.targetText.replace(/\n/g," ").replace(/<br>|<BR>|<Br>|<bR>/g," ")}},{key:"parseCurlyBraceReference",value:function(){var e=this;Array.from(this.contents.matchAll(/(\{\{?)((?:(?!\})[\s\S])+)(\}\}?)|((?:\\[\s\S]|[^{}])+)/g)).forEach((function(n){var t=i(n,5),r=(t[0],t[1]),o=t[2],a=t[3],c=t[4];c?(e.displayText+=e.findLastPathComponent(c),e.targetText+=c):(e.validateBraces(r,a),1===r.length?e.handleSingleBrace(o):2===r.length&&e.handleDoubleBrace(o))})),this.displayText=this.exclusiveDisplaySyntax?this.exclusiveDisplayText:this.displayText,this.targetText=this.exclusiveTargetSyntax?this.exclusiveTargetText:this.targetText}},{key:"validateBraces",value:function(e,n){if(e.length!==n.length)throw new Error("Unbalanced curly braces in reference: ".concat(this.fullText))}},{key:"handleSingleBrace",value:function(e){var n=e.match(/((?:\\.|[^\\|])*?)\|((?:\\.|[^\\|])*?)$/);n?(this.targetText+=n[1],this.displayText+=n[2],this.exclusiveTargetText+=n[1],this.exclusiveDisplayText+=n[2]):(this.exclusiveDisplaySyntax=!0,this.exclusiveDisplayText+=e,this.targetText+=e)}},{key:"handleDoubleBrace",value:function(e){this.exclusiveTargetSyntax=!0,this.exclusiveTargetText+=e,this.displayText+=e}},{key:"parsePipeReference",value:function(){if(this.contents.matchAll(/((?:\\.|[^\\])+?)\|/g).length>1)throw"Reference has too many pipes: ".concat(this.fullText);var e=r(this.contents.match(/((?:\\.|[^\\])+?)\|((?:\\.|[^\\])+?)$/)),n=(e[0],e[1]),t=e[2];this.targetText=n,this.displayText=t}},{key:"lastPathComponent",get:function(){return this.singleTopicWithEmptyFragment?e.textBeforeFragment(this.contents):this.soloPoundSign||this.soloCaretSign?null:this.findLastPathComponent(this.contents)}},{key:"findLastPathComponent",value:function(e){var n=e.match(/(?:^|[^\\< ]|\\\\+)([\/#])([^\/#]*(?:\\.[^\/#]*)*)$/);return n?n[2]:e}},{key:"parseSimple",value:function(){this.targetText=this.contents,this.displayText=this.lastPathComponent,this.displayText||!this.soloPoundSign&&!this.soloCaretSign||(this.displayText="Back")}},{key:"isPath",get:function(){return!!this.targetText.match(/(^|[^\\])(\\\\)*[#\/]/)}},{key:"simpleTarget",get:function(){return!this.isPath}},{key:"targetAsTopic",get:function(){return this.simpleTarget?l.for(this.targetText):null}},{key:"orphanFragment",get:function(){return!!this.targetText.match(/^#([^#\/]*(?:\\.[^#\/]*)*)$/)}},{key:"initialOrphanFragment",get:function(){return!!this.targetText.match(/^#([^#\/]*)/)}},{key:"soloPoundSign",get:function(){return!("#"!==this.targetText)}},{key:"soloCaretSign",get:function(){return!("^"!==this.targetText)}},{key:"singleTopicWithEmptyFragment",get:function(){return!!this.targetText.match(/^([^#\/]*(?:\\.[^#\/]*)*)#$/)}},{key:"firstTopic",get:function(){return l.fromUrl(e.firstSegmentComponent(this.pathString))}},{key:"firstSubtopic",get:function(){var e,n=null===(e=this.pathString.match(/^(?:\\.|[^\/])+?#((?:\\.|[^\/])+?)(?:\/.*)?$/))||void 0===e?void 0:e[1];return(n=n||this.firstTopic.mixedCase)?l.fromUrl(n):null}},{key:"localReference",get:function(){return this.simpleTarget&&this.parserContext.currentTopicHasSubtopic(this.targetAsTopic)}},{key:"simpleGlobalReference",get:function(){return this.simpleTarget&&!this.parserContext.currentTopicHasSubtopic(this.targetAsTopic)&&this.parserContext.topicExists(this.targetAsTopic)}},{key:"pathString",get:function(){var e=this;return r(this.displayPathString.matchAll(/(?:\\.|[^\\\/])+?(?:#(?:\\.|[^\\\/])+?)?(?:(?=\/|$))/g)).map((function(e){return e[0]})).map((function(n){var t=i(n.match(/((?:[^#\/\\]|\\.)*)(?:[#]((?:[^#\/\\]|\\.)*))?/).slice(1).map((function(e){return e&&l.fromReference(e)})),2),r=t[0],o=t[1];return(e.parserContext.getOriginalTopic(r)||r).url+(o?"#"+(e.parserContext.getOriginalSubtopic(r,o)||o).url:"")})).join("/")}},{key:"displayPathString",get:function(){if(this.soloPoundSign){var n=this.enclosingTopic.mixedCase.replace(/([^\\])\//g,"$1\\/");return"".concat(n,"#").concat(n)}if(this.soloCaretSign){var t=this.enclosingTopic.mixedCase.replace(/([^\\])\//g,"$1\\/");if(!this.parserContext.parentTopicOf(this.parserContext.currentSubtopic))throw new Error("Cannoy use [[^]] syntax for parent declared after reference in expl file.");return"".concat(t,"#").concat(t)}return this.localReference?"".concat(this.parserContext.currentTopic.mixedCase,"#").concat(this.targetText):this.simpleGlobalReference?this.targetText:this.singleTopicWithEmptyFragment?e.textBeforeFragment(this.targetText):this.orphanFragment||this.initialOrphanFragment?"".concat(this.enclosingTopic.mixedCase,"#").concat(e.textAfterFragment(this.targetText)):this.targetText}}])&&c(n.prototype,t),o&&c(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();e.exports=u},7697:(e,n,t)=>{var r=t(754),i=(t(4244),t(7529).TextToken);function o(e){delete e.parentNode,delete e.indentation,e.children.forEach(o)}e.exports={consolidateTextTokens:function(e){for(var n=0;n<e.length;n++){var t;"text"===e[n].type&&"text"===(null===(t=e[n+1])||void 0===t?void 0:t.type)&&(e.splice(n,2,new i(e[n].text+e[n+1].text,!0)),n=0)}return e},topicKeyOfString:function(e){var n=e.trim().split(/\n\n+/);return new r(n[0]).key},removeCircularListKeys:function(e){e.filter((function(e){return"list"===e.type})).forEach((function(e){delete e.lastNode,e.topLevelNodes.forEach((function(e){return o(e)}))}))},removeExtraKeys:o,frontLoadImages:function(e){e.sort((function(e,n){return"image"===e.type&"image"!==n.type?-1:"image"!==e.type&"image"===n.type?1:0}))},isCategoryNotesFile:function(e){return e.match(/([^\/]+)\/(\1).expl$/)},terminalCategoryofPath:function(e){var n=e.split("/");return n[n.length-2]}}},7529:(e,n,t)=>{function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var i=t(5317),o=i.splitOnPipes,a=i.detectTextDirection,c=t(5248);function l(e){return t(4056)(e)}function s(e){return e.replace(/^ +| +$/g,(function(e){return"&nbsp;".repeat(e.length)}))}e.exports={LocalReferenceToken:function(e,n,t,r,i,o){this.text=i,this.type="local",this.tokens=l({text:s(i),parserContext:o.clone({insideToken:!0})}),this.targetSubtopic=n,this.targetTopic=e,this.enclosingTopic=t,this.enclosingSubtopic=r,o.paragraphReferences.push(this)},GlobalReferenceToken:function(e,n,t,r,i){this.text=r,this.type="global",this.tokens=l({text:s(r),parserContext:i.clone({insideToken:!0})}),this.pathString=e,this.enclosingTopic=n,this.enclosingSubtopic=t,i.paragraphReferences.push(this)},DisabledReferenceToken:function(e,n){this.text=e,this.type="disabled_reference",this.tokens=l({text:s(e),parserContext:n.clone({insideToken:!0})})},FragmentReferenceToken:function(e,n){this.text=e,this.type="fragment_reference",this.tokens=l({text:s(e),parserContext:n.clone({insideToken:!0})})},TextToken:function(e){this.text=e,this.type="text"},ExternalLinkToken:function(e,n,t){this.type="external",this.url=(e||n).replace(/\\\\|\\./g,(function(e){return"\\\\"===e?"\\":e[1]})),this.text=n||e,this.tokens=n?l({text:n||e,parserContext:t.clone({insideToken:!0})}):[{type:"text",text:e}]},ImageToken:function(e){var n=e.alt,t=e.resourceUrl,r=e.title,i=e.caption,o=e.anchorUrl,a=e.parserContext;this.type="image";var c=a.projectPathPrefix;t.startsWith("/")&&c&&(t="/".concat(c).concat(t)),this.resourceUrl=t,this.title=(r||"").split("\\\\").map((function(e){return e.replace(/\\/g,"")})).join("")||null,this.tokens=l({text:i||"",parserContext:a.clone({insideToken:!0})}),this.altText=n||null,this.caption=i,this.anchorUrl=o||null},FootnoteMarkerToken:function(e){this.type="footnote_marker",this.text=e},HtmlToken:function(e,n){var t=this;this.type="html_element",this.tokenInsertions=[],this.html=e.replace(/(^|[^\\])(\{\{)([^{}\\]*(?:\}(?!\})|\{(?!\{)|[^}{\\])*?[^\\]?)(}})/g,(function(r,i,o,a,c,s){var u;return"\\"!==i&&o&&c?(t.tokenInsertions.push(l({text:i+a,parserContext:n.clone({insideToken:!0}).incrementLineAndResetCharacterNumber((null===(u=e.slice(0,s).match(/\n/g))||void 0===u?void 0:u.length)||0).incrementCharacterNumber(e.slice(0,s).split("\n").slice(-1)[0].length+2)})),'<div class="canopy-html-insertion" data-replacement-number="'.concat(t.tokenInsertions.length-1,'"></div>')):r}))},CodeBlockToken:function(e){this.type="code_block",this.text=e.split("\\\\").map((function(e){return e.replace("\\","")})).join("\\")},BlockQuoteToken:function(e,n,t){this.type="block_quote",this.tokens=l({text:e,parserContext:t.clone({insideToken:!0,linePrefixSize:2}).incrementCharacterNumber(2)}),this.direction=n},OutlineToken:function(e,n){var t=this;function r(e){delete e.parentNode,delete e.indentation,e.children.forEach(r)}this.topLevelNodes=[],this.type="outline",e.split("\n").filter(Boolean).forEach((function(e,r){var i=e.match(/^(\s*)/)[1],o=e.match(/^\s*(\S+)(\.\s?)(.*$)/),a=e.match(/^\s*([+*-])(\s?)(.*$)/),c=o||a,s=c[1],u=c[2],p=l({text:c[3],parserContext:n.clone({insideToken:!0}).incrementLineAndResetCharacterNumber(r).incrementCharacterNumber(i.length+s.length+u.length)}),h={indentation:i.length,ordinal:s,ordered:!!o,tokensOfLine:p,children:[],parentNode:null};if(t.lastNode)if(h.indentation>t.lastNode.indentation)h.parentNode=t.lastNode,t.lastNode.children.push(h);else if(h.indentation===t.lastNode.indentation)0===h.indentation?t.topLevelNodes.push(h):(h.parentNode=t.lastNode.parentNode,t.lastNode.parentNode.children.push(h));else{for(var d=t.lastNode;d&&h.indentation<=d.indentation;)d=d.parentNode;d?(h.parentNode=d,d.children.push(h)):(t.topLevelNodes.push(h),h.parentNode=null)}else t.topLevelNodes.push(h);t.lastNode=h})),[this].filter((function(e){return"outline"===e.type})).forEach((function(e){delete e.lastNode,e.topLevelNodes.forEach((function(e){return r(e)}))}))},TableToken:function(e,n){var t=this;this.type="table",this.rows=[];var r={v:{x:0,y:1},">":{x:1,y:0},"<":{x:-1,y:0},"^":{x:0,y:-1}},i=[];e.split("\n").filter(Boolean).forEach((function(e,i){if(!e.match(/^\s*[=#\-|]+\s*$/)){var a=o(e).map((function(e,t,o){var a;if(e.match(/^\s*\\[v^<>]\s*$/))return{tokens:[],merge:r[e.match(/[v^<>]/)[0]]};if(e.match(/^\s*\\x\s*$/))return{tokens:[],hidden:!0};var c=["|"].concat(o.slice(0,t).join("|"),t>0?"|":"").join("");return{tokens:l({text:e.trim(),parserContext:n.clone({insideToken:!0}).incrementLineAndResetCharacterNumber(i).incrementCharacterNumber(c.length+(null===(a=e.match(/^\s+/))||void 0===a?void 0:a[0].length))})}}));t.rows.push(a)}})),"rtl"===a(e)&&(this.dir="rtl"),this.rows.forEach((function(n,t,r){n.forEach((function(n,o,a){if(n.merge){var l=n.merge.x?a:r,s=n.merge,u=s.x?"x":"y",p=n.merge.x?"colspan":"rowspan",h=(n.merge.x,Math.max([s.x,s.y])>0?l.length:-1),d={x:o+s.x,y:t+s.y};if(d.x<0||d.x>h&&h>0&&"x"===u||d.y<0||d.y>h&&h>0&&"y"===u)throw new Error(c.red("Invalid merge instructions in table: ".concat(e)));for(;d[u]!==h;){if(!r[d.y][d.x].merge){r[d.y][d.x][p]=(Number(r[d.y][d.x][p])||1)+1;break}if(r[d.y][d.x].merge.x!==s.x||r[d.y][d.x].merge.y!==s.y)throw new Error(c.red("Invalid merge instructions in table: ".concat(e)));d[u]+=s[u]}i.push(n)}}))})),i.forEach((function(e){return e.merge&&(e.merge=!0)}))},MenuToken:function(e,n){var t=this;this.type="menu";var i,o=function(e){if(Array.isArray(e))return r(e)}(i=e.matchAll(/(?:- ?|(([\w\d]{1,4})\.\s)|([<>]) )([^\n]+)\n/g))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(i)||function(e,n){if(e){if("string"==typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?r(e,n):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=o.every((function(e){return">"===e[3]})),s=o.every((function(e){return"<"===e[3]})),u=o.some((function(e){return"<"===e[3]}))&&o.some((function(e){return">"===e[3]}));this.alignment=c?"right":s?"left":u?"mixed":null,o=o.map((function(e){return e[2]?{list:!0,ordinal:e[2],text:e[4]}:e[3]?{list:!1,text:e[4],alignment:">"===e[3]?"right":"left"}:{list:!1,text:e[4]}})),this.rtl=!(!e.startsWith("<")&&"rtl"!==a(e)),this.items=o.map((function(e,r){return{list:e.list,hidden:e.text.includes("\\x"),ordinal:e.ordinal,alignment:"mixed"===t.alignment?e.alignment:void 0,tokens:l({text:e.text.trim(),parserContext:n.clone({insideToken:!0}).incrementLineAndResetCharacterNumber(r+1).incrementCharacterNumber(2)})}}))},FootnoteLinesToken:function(e,n,t,r){var i=this;this.type="footnote_lines",this.lines=[],Array.from(e.matchAll(/^\[\^([^\]]+)\]:([^\n]*($|\n))/gm)).forEach((function(e){var t=e[1],r=l({text:e[2],parserContext:n.clone({insideToken:!0}).incrementCharacterNumber("["+t+2)});i.lines.push({superscript:t,tokens:r})}))},ItalicsToken:function(e,n,t,r){this.type="italics",this.tokens=l({text:e,parserContext:n.clone({insideToken:!0}).incrementCharacterNumber(1)})},BoldToken:function(e,n,t,r){this.type="bold",this.tokens=l({text:e,parserContext:n.clone({insideToken:!0}).incrementCharacterNumber(1)})},InlineCodeSnippetToken:function(e,n){this.type="inline_code",this.text=e.split("\\\\").map((function(e){return e.replace("\\","")})).join("\\")},ToolTipToken:function(e,n,t){this.type="tool_tip",this.tokens=l({text:e,parserContext:t.clone({insideToken:!0,noLinks:!0}).incrementCharacterNumber(n.length)})},StrikethroughToken:function(e,n,t,r){this.type="strikethrough",this.tokens=l({text:e,parserContext:n.clone({insideToken:!0}).incrementCharacterNumber(1)})}}},7719:(e,n,t)=>{function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=t(633),o=t(754),a=t(4244),c=t(5248),l=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.bulkFileString=n}var n,t;return n=e,(t=[{key:"parseSections",value:function(){return this.bulkFileString.split(/(?=^\[[^\[\]]+\]$)/gm).map((function(e){return e.trim()})).filter(Boolean).map((function(e){var n,t=null===(n=e.match(/\[\/?(.*?)\/?\]/))||void 0===n?void 0:n[1];if(!t)throw new Error("Malformed Canopy bulk file: "+e);return{displayCategoryPath:t,diskDirectoryPath:"topics/"+a.convertSpacesToUnderscores(t),terminalCategory:t.split("/").slice(-1)[0],files:e.split(/\n/).slice(1).join("\n").trim().split(/(?=^\*\*?(?: |\n))/gm).filter(Boolean).map((function(e){var n=e.match(/^\*?\*? ?([\s\S]*)/)[1],t=new o(n);return{asterisk:!!e.match(/^\*\*? /),doubleAsterisk:!!e.startsWith("** "),key:t.key,text:n}}))}}))}},{key:"generateFileSet",value:function(){var e,n,t={};return this.parseSections().forEach((function(r){if("topics/"===r.diskDirectoryPath)throw new Error(c.red('Invalid directory path: "['.concat(r.displayCategoryPath,']"')));r.files.forEach((function(i,o,l){if(i.asterisk&&i.key){var s="".concat(r.diskDirectoryPath,"/").concat(a.for(i.key).fileName,".expl");if(t.hasOwnProperty(s))throw new Error(c.bgRed(c.white("Error: Topic [".concat(i.key,"] is defined twice in bulk file."))));t[s]=i.text.replace(/\n\n+/g,"\n\n").trim()+"\n",i.doubleAsterisk&&(e?console.error(c.red("Error: Multiple default topics set: [".concat(i.key,"] and [").concat(n,"], using [").concat(n,"]"))):(e=s,n=i.key))}else{var u=i.text.match(/^(([^\n.?!]{0,40}(?![A-Za-z0-9]))|([^\n.?!]{0,40}))/)[0]||r.terminalCategory,p=a.for(u).fileName,h=r.orderedCategory?"":function(e,n,t){if(t.hasOwnProperty(e+n)){for(var r=1;t.hasOwnProperty("".concat(e,"-").concat(String(r).padStart(2,"0")).concat(n));)r++;return"-".concat(String(r).padStart(2,"0"))}return""}("".concat(r.diskDirectoryPath,"/").concat(p),".expl",t),d="".concat(r.diskDirectoryPath,"/").concat(a.for(u).fileName).concat(h,".expl");t[d]=i.text.replace(/\n\n+/g,"\n\n").trim()+"\n"}}))})),{newFileSet:new i(t),defaultTopicPath:e,defaultTopicKey:n}}}])&&r(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();e.exports=l},633:(e,n,t)=>{function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=t(7975),o=t(4244),a=t(754),c=function(){function e(n){var t=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.filesObject={},this.directoriesObject={},this.fileContentsByPath=n,Object.keys(n).forEach((function(e){var r=i.dirname(e),o={path:e,fileName:e.split("/").slice(-1)[0],fileNameWithoutExtension:e.split("/").slice(-1)[0].match(/^(.*?)(\..*)?$/)[1],contents:n[e],key:new a(n[e]).key,directoryPath:r.replace(/\/#$/,"/\\#"),terminalCategory:l(e)};if(t.filesObject[e]=o,t.directoriesObject.hasOwnProperty(r))t.directoriesObject[r].files.push(o);else{var c=s(r);t.directoriesObject[r]={path:r,files:[o],displayPath:c}}for(r=i.dirname(r);r.includes("topics")&&!r.endsWith("topics");)t.directoriesObject.hasOwnProperty(r)||(t.directoriesObject[r]={path:r,files:[],displayPath:s(r)}),r=i.dirname(r)}))}var n,t;return n=e,(t=[{key:"directories",get:function(){var e=this;return Object.keys(this.directoriesObject).map((function(n){return e.directoriesObject[n]}))}},{key:"directoryPaths",get:function(){var e=this;return Object.keys(this.directoriesObject).map((function(n){return e.directoriesObject[n].path}))}},{key:"files",get:function(){var e=this;return Object.keys(this.filesObject).map((function(n){return e.filesObject[n]}))}},{key:"getFileContents",value:function(e){return this.filesObject[e].contents}},{key:"hasFile",value:function(e){return!!this.filesObject[e]}},{key:"getDirectory",value:function(e){return this.directoriesObject[e]}},{key:"hasDirectory",value:function(e){return!!this.directoriesObject[e]}},{key:"json",get:function(){return JSON.stringify(Object.keys(this.fileContentsByPath))}}])&&r(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();function l(e){var n=e.split("/");return o.fromFileName(n[n.length-2]).mixedCase}function s(e){return e.match(/topics\/(.*)/)?e.match(/topics\/(.*)/)[1].split("/").map((function(e){return o.fromFileName(e).mixedCase})).join("/"):"PLEASE ADD CATEGORY"}e.exports=c},754:e=>{function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var t=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var t=n.match(/^(?!-)((?:[^:.!?\n\\]|\\.|[:.!?](?!\s))+)(?::|(\?))(\s+|\n|$)/);if(!t)return{key:null,text:n};var r=t[1]+(t[2]||""),i=n.slice(t[0].length);this.key=r,this.text=i,this.charsAfterKey="?"===t[2]?1:2,this.newlineAfterDelimiter="\n"===t[3]}var t,r;return t=e,r=[{key:"for",value:function(n){return new e(n)}}],null&&n(t.prototype,null),r&&n(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();e.exports=t},488:e=>{var n={};e.exports=function e(t){if(n.hasOwnProperty(t))return n[t];var r=t.replace(/(.*?(?:^|[^\\]))([_`*~])(\S*?[^\\])\2(.*)/,"$1$3$4");if((r=r.replace(/(.*?(?:^|[^\\]))([_`*~])(.*?[^\\])\2(?![A-Za-z0-9])(.*)/,"$1$3$4"))!==t){var i=e(r);return n[t]=i,e(i)}return t}},5317:(e,n,t)=>{var r=t(4244);e.exports={displaySegment:function(e,n){return e.mixedCase===n.mixedCase?"[".concat(e.mixedCase,"]"):"[".concat(n.mixedCase," (").concat(e.mixedCase,")]")},splitOnPipes:function(e){for(var n=!1,t=!1,r=!1,i=!1,o=[""],a=0;a<e.length;a++)"|"!==e[a]||r||i?(o[o.length-1]+=e[a],i="\\"===e[a]&&!i,"["!==e[a]||n||(n=!0),"["===e[a]&&n&&(r=!0)&&(n=!1),"]"===e[a]&&r&&!t&&(t=!0),"]"===e[a]&&r&&t&&(r=!1)):o.push("");return o.slice(1,-1)},wrapText:function(e,n){return e.split("\n").map((function(e){for(var t=e.split(" "),r=[],i="",o=0;o<t.length;o++)i.length+1+t[o].length<=n?i+=(i?" ":"")+t[o]:(r.push(i),i="  "+t[o]);return r.push(i),r.join("\n")})).join("\n").trim()},detectTextDirection:function(e){return new RegExp("^".concat("֑-߿יִ-﷽ﹰ-ﻼ","]+")).test(e)?"rtl":"ltr"},determineTopicAndSubtopic:function(e,n){var t,i;return n?(t=new r(e),i=new r(n)):(t=null,i=new r(e)),{targetTopic:t,targetSubtopic:i}}}},4244:(e,n,t)=>{function r(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var o=t(488);t(2205);var a={},c=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw new Error("String required to instantiate Topic");if(a.hasOwnProperty(n)&&a.hasOwnProperty(n).display)return a[n];this.display=n,this.mixedCase=o(n).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]})),this.cssMixedCase=CSS.escape(this.mixedCase),this.url=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.urlConversionRules).join("|\\"),"g"),(function(n){return e.urlConversionRules[n]})),this.fileName=this.mixedCase.replace(new RegExp("\\"+Object.keys(e.fileNameConversionRules).join("|\\"),"g"),(function(n){return e.fileNameConversionRules[n]})),this.caps=this.mixedCase.toUpperCase().replace(/\?$/,"").replace(/["”“’‘']/g,"").replace(/(\\{2})*([.,])(?=["'')}\]]*$)/g,(function(e,n,t){return n?e:""})).replace(/\(/g,"").replace(/\)/g,"").replace(/ +/g," ").replace(/&[Nn][Bb][Ss][Pp];/g," ").trim(),this.requestFileName=encodeURIComponent(this.fileName),a[n]=this}var n,t;return n=e,t=[{key:"fromMixedCase",value:function(n){var t=new e(n=n.replace(/([`_~*\\])/g,"\\$1"));return t.display=null,t}},{key:"fromReference",value:function(n){var t=new e(n);return t.display=null,t}},{key:"fromUrl",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]})),r=decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(r)}},{key:"fromFileName",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]})),r=decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}));return e.fromMixedCase(r)}},{key:"convertSpacesToUnderscores",value:function(n){return n.replace(new RegExp("\\"+Object.keys(e.spaceToUnderscoreRules).join("|\\"),"g"),(function(n){return e.spaceToUnderscoreRules[n]}))}},{key:"convertUnderscoresToSpaces",value:function(n){var t=n.replace(new RegExp("\\"+Object.keys(e.underscoreToSpaceRules).join("|\\"),"g"),(function(n){return e.underscoreToSpaceRules[n]}));return decodeURIComponent(t).replace(/\\./g,(function(e){return"\\"===e[1]?"\\":e[1]}))}},{key:"parseUrlSegment",value:function(n){var t=n.match(/((?:(?:(?:\\|%5C)#)|[^#])*)(?:#(.*))?/);return[t[1]&&e.fromUrl(t[1]),t[2]&&e.fromUrl(t[2])||null]}},{key:"for",value:function(n){return new e(n)}}],null&&r(n.prototype,null),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();i(c,"urlConversionRules",{"%":"%25","#":"%5C#","/":"%2F"," ":"_",_:"%5C_","\\":"%5C%5C"}),i(c,"fileNameConversionRules",{"%":"%25",'"':"%22","'":"%27","/":"%2F",",":"%2C",":":"%3A","<":"%3C",">":"%3E","|":"%7C","*":"%2A","?":"%3F"," ":"_",_:"%5C_","\\":"%5C%5C"}),i(c,"spaceToUnderscoreRules",{"%":"%25"," ":"_",_:"%5C_","\\":"%5C%5C"}),i(c,"underscoreToSpaceRules",{"%5C%5C":"\\\\","%5C_":"_",_:" "}),e.exports=c},1638:(e,n,t)=>{"use strict";var r=t(5072),i=t.n(r),o=t(7825),a=t.n(o),c=t(7659),l=t.n(c),s=t(5056),u=t.n(s),p=t(540),h=t.n(p),d=t(1113),f=t.n(d),g=t(6705),y={};y.styleTagTransform=f(),y.setAttributes=u(),y.insert=l().bind(null,"head"),y.domAPI=a(),y.insertStyleElement=h(),i()(g.A,y),g.A&&g.A.locals&&g.A.locals;var m=t(5044),A=t(514),b=t(797),v=t(4207),C=t(1246);function k(){var e=b.A.selection,n=b.A.lastSelectionOfParagraph(e.enclosingParagraph.topicParagraph.parentParagraph)||e.enclosingParagraph.topicParagraph.parentLink;return(null==n?void 0:n.select())||b.A.deselect()}function w(){var e,n=b.A.selection,t=n&&n.parentLink&&b.A.lastSelectionOfParagraph(null===(e=n.parentLink)||void 0===e?void 0:e.enclosingParagraph)||n.parentLink,r=!t;if(r&&!n.isVisible){var i=b.A.selection.enclosingParagraph.sectionElement;return(0,C.cw)(i,{targetRatio:.75,maxScrollRatio:.5,minDiff:0,direction:"up",behavior:"smooth"})}return r&&n.isVisible?(0,m.A)(n.enclosingParagraph.path):t&&!t.isVisible?(0,C.cw)(t.element,{targetRatio:.3,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}).then((function(){if(t.isFocused)return t.select({noScroll:!0})})):t&&t.isVisible?n.parentLink.select():void 0}function x(e){var n=e.newTab,t=e.altKey,r=e.shiftKey,i=!b.A.selection.isClosedCycle&&b.A.selection.firstChild;if(i&&i.isBelowViewport&&!b.A.selection.isPathReference)return(0,C.cw)(i.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"});if(i&&i.isAboveViewport&&!b.A.selection.isPathReference)return(0,C.cw)(i.element,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth",side:"bottom"});if(b.A.selection.isParent&&!b.A.selection.hasChildren&&!b.A.selection.cycle&&!b.A.selection.isPathReference){var o=b.A.selection.targetParagraph.sectionElement;return(0,C.cw)(o,{targetRatio:.2,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}return!i||!i.isVisible||i.isSelected||n||b.A.selection.isPathReference?b.A.selection.execute({newTab:n,redirect:t,inlineCycles:r}):i.select({newTab:n,redirect:t,inlineCycles:r})}function S(){return b.A.selection.isCycle?b.A.selection.execute({inlineCycles:!0}):moveInDirection("down")}var P=t(9903);function E(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?E(Object(t),!0).forEach((function(n){B(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function O(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(c)throw o}}}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function B(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function M(e,n){var t,r=null===(t=b.A.selection)||void 0===t?void 0:t.element;if("up"===e){if(!r)return;var i=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent})),o=U(r,"up"),a=U(r,"down"),c=W(i).filter((function(e){return N(e,a)&&!D(e,a)&&e.element!==r}));if(0===c.length)return a.top<-10?(0,C.cw)(r,{targetRatio:.25,maxScrollRatio:.5,minDiff:50,direction:"up",behavior:"smooth"}):A.A.root.display();G(c.reduce((function(e,n){var t,r=e.link,i=n.link;return i.siblingOf(r)&&r.isParentLinkOf(b.A.selection.enclosingParagraph)?e:r.siblingOf(i)&&b.A.for(n.element).isParentLinkOf(null===(t=b.A.selection)||void 0===t?void 0:t.enclosingParagraph)?n:!j(e,n)||D(e,n)||D(e,a)?!j(n,e)||D(e,n)||D(n,a)?I(o,e)?e:I(o,n)?n:I(e,o)&&!I(n,o)?e:I(n,o)&&!I(e,o)?n:F(e,o)&&!F(n,o)?e:F(n,o)&&!F(e,o)?n:e.element.closest("p.canopy-paragraph")===b.A.selection.parentLink.enclosingParagraph.paragraphElement?F(e,o)&&F(n,o)?z(o,e,n):q(e,n,o):F(e,a)&&F(n,a)?z(a,e,n):q(e,n,a):n:e})),{direction:"up"})}else if("down"===e){if(!r)return A.A.rendered.selectALink({direction:"down"});var l=Array.from(document.querySelectorAll(".canopy-selectable-link")).filter((function(e){return null!==e.offsetParent&&(n=e,"none"!==(t=window.getComputedStyle(n)).display&&"hidden"!==t.visibility&&"0"!==t.opacity&&"0%"!==t.opacity);var n,t})),s=U(r,"up"),u=U(r,"down"),p=W(l).filter((function(e){return j(e,s)&&!D(e,s)&&(n=e,t=P.A.visibleHeight,n.top>=0&&n.top<=t||n.bottom>=0&&n.bottom<=t)&&(!b.A.selection.isAboveViewport||!b.A.selection.siblingOf(e.link))&&e.element!==r;var n,t}));if(0===p.length){var h=v.A.current.sectionElement;return(0,C.cw)(h,{targetRatio:.05,maxScrollRatio:.5,minDiff:50,direction:"down",behavior:"smooth",side:"bottom"})}G(p.reduce((function(e,n){var t,r,i=e.link,o=n.link;return o.isLastSelection&&i.siblingOf(o)?n:i.isLastSelection&&o.siblingOf(i)?e:!N(e,n)||D(e,n)||D(e,s)?!N(n,e)||D(e,n)||D(n,s)?I(u,e)?e:I(u,n)?n:I(e,u)&&!I(n,u)?e:I(n,u)&&!I(e,u)?n:e.element.closest("p.canopy-paragraph")===(null===(t=b.A.selection)||void 0===t||null===(r=t.targetParagraph)||void 0===r?void 0:r.paragraphElement)?F(e,u)&&!F(n,u)?e:F(n,u)&&!F(e,u)?n:v.A.current.links[0].element===e.element?e:v.A.current.links[0].element===n.element?n:z(s,e,n):F(e,s)&&!F(n,s)?e:F(n,s)&&!F(e,s)?n:z(u,e,n):n:e})),{direction:"down"})}else if("left"===e){var d=b.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),f=U(r,"right"),g=W(d),y=g.filter((function(e){return e.right<f.right}));if((y=(y=y.filter((function(e){return D(e,f)}))).filter((function(e){return e.element!==r}))).length>0){var m=y.reduce((function(e,n){return e.bottom===f.bottom&&n.bottom!==f.bottom?e:n.bottom===f.bottom&&e.bottom!==f.bottom?n:e.right>n.right?e:e.right<n.right?n:e.right===n.right?H(f,e,"bottom")>H(f,n,"bottom")?n:e:void 0}));if(m)return G(m)}var k="ltr"===V(r)?"up":"down",w=J(r,k),x="up"===k?N:j,S="up"===k?j:N,E="right"===w?_:R;if((y=(y=(y=g.filter((function(e){return x(e,f)}))).filter((function(e){return!D(e,f)}))).filter((function(e){return e.element!==r}))).length>0){var T=y.reduce((function(e,n){return S(e,n)&&!D(e,n)?e:S(n,e)&&!D(e,n)?n:E(e,n)}));if(T)return G(T)}var O="ltr"===V(r)?"down":"up",L=$(r,O),B="up"===O?N:j,M="right"===L?_:R,K=g.reduce((function(e,n){return B(e,n)&&!D(e,n)?e:B(n,e)&&!D(e,n)?n:M(e,n)}));if(K)return G(K)}else if("right"===e){var Y=b.A.selection.element.closest("p.canopy-paragraph").querySelectorAll(".canopy-selectable-link"),Z=U(r,"left"),Q=W(Y),X=Q.filter((function(e){return e.left>Z.left}));if((X=(X=X.filter((function(e){return D(e,Z)}))).filter((function(e){return e.element!==r}))).length>0){var ee=X.reduce((function(e,n){return e.bottom===Z.bottom&&n.bottom!==Z.bottom?e:n.bottom===Z.bottom&&e.bottom!==Z.bottom?n:e.left<n.left?e:e.left>n.left?n:e.left===n.left?(r=n,(t=e).top<r.top?t:r):void 0;var t,r}));if(ee)return G(ee)}var ne=function(e){return"ltr"===V(e)?"down":"up"}(r),te=(J(r,ne),"up"===ne?N:j),re="up"===ne?j:N,ie="right"===ce?_:R;if((X=(X=(X=Q.filter((function(e){return te(e,Z)}))).filter((function(e){return!D(e,Z)}))).filter((function(e){return e.element!==r}))).length>0){var oe=X.reduce((function(e,n){return re(e,n)&&!D(e,n)?e:re(n,e)&&!D(n,e)?n:ie(e,n)}));if(oe)return G(oe)}var ae=function(e){return"ltr"===V(e)?"up":"down"}(r),ce=$(r,ae),le=("left"===ce||window.innerWidth,"up"===ae?"top":"bottom"),se="up"===ae?N:j,ue="right"===ce?_:R,pe=Q.reduce((function(e,n){return se(e,n)?e:se(n,e)?n:e[le]===n[le]?ue(e,n):void 0}));if(pe)return G(pe)}}function N(e,n){return e.bottom<n.bottom}function j(e,n){return e.top>n.top}function _(e,n){return e.right>n.right?e:n}function R(e,n){return e.left<n.left?e:n}function I(e,n){return e.left>n.left&&e.right<n.right}function F(e,n){return e.left<n.right&&n.left<e.right}function D(e,n){return e.top<n.bottom&&e.bottom>n.top||n.top<e.bottom&&n.bottom>e.top}function q(e,n,t){var r=(e.left+e.right)/2,i=(n.left+n.right)/2,o=(t.left+t.right)/2;return Math.abs(r-o)<Math.abs(i-o)?e:n}function G(e,n){return e.top-P.A.top>window.innerHeight- -10?(0,C.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"down",behavior:"smooth"}):e.bottom-P.A.top<-10?(0,C.cw)(e.element,{targetRatio:.2,maxScrollRatio:.5,minDiff:70,direction:"up",behavior:"smooth"}):new b.A(e.element).select(n)}function z(e,n,t){function r(e,n){return Math.max(0,Math.min(e.right,n.right)-Math.max(e.left,n.left))}return r(e,n)>r(e,t)?n:t}function H(e,n,t){switch("number"==typeof e&&(e=B({},t,e)),"number"==typeof n&&(n=B({},t,n)),t){case"left":return Math.abs(e.left-n.left);case"right":return Math.abs(e.right-n.right);case"top":return Math.abs(e.top-n.top);case"bottom":return Math.abs(e.bottom-n.bottom);case"middle":return Math.abs((e.left-e.right)/2-(n.left-n.right)/2);default:return null}}function W(e,n){var t,r=[],i=O(e);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o;o.closest(".canopy-arrow-key-container")&&(a=o.closest(".canopy-arrow-key-container"));var c=Array.from(a.getClientRects()),l=T({element:o,link:b.A.for(o),text:o.innerText},JSON.parse(JSON.stringify(a.getBoundingClientRect())));if(o.closest(".canopy-arrow-key-container"))r.push(l);else for(var s=0;s<c.length;s++){var u=c[s];r.push({x:u.x,y:u.y,width:u.width,height:u.height,top:u.top,right:u.right,bottom:u.bottom,left:u.left,element:o,text:o.innerText,link:b.A.for(o)})}}}catch(e){i.e(e)}finally{i.f()}return r}function U(e,n){var t=JSON.parse(JSON.stringify(e.getBoundingClientRect())),r=function(e){var n=[];e.sort((function(e,n){return e.top-n.top}));for(var t=e[0],r=1;r<e.length;r++){var i=e[r];t.top===i.top?(t.left=Math.min(t.left,i.left),t.right=Math.max(t.right,i.right)):(n.push(t),t=i)}return n.push(t),n}(function(e){var n=[];return function e(t){if(t.nodeType===Node.TEXT_NODE){var r=document.createRange();r.selectNodeContents(t);for(var i=r.getClientRects(),o=0;o<i.length;o++)n.push(i[o])}else if(t.nodeType===Node.ELEMENT_NODE){var a,c=O(t.childNodes);try{for(c.s();!(a=c.n()).done;)e(a.value)}catch(e){c.e(e)}finally{c.f()}}}(e),n.map((function(e){return JSON.parse(JSON.stringify(e))}))}(e));if(1===r.length||e.closest(".canopy-arrow-key-container"))return T({element:e},t);if(0===r.length)return null;switch(n){case"left":return T({element:e,link:b.A.for(e)},r.reduce((function(e,n){return n.right>e.right?e:n})));case"right":return T({element:e,link:b.A.for(e)},r.reduce((function(e,n){return n.left<e.left?e:n})));case"up":return T({element:e,link:b.A.for(e)},r.reduce((function(e,n){return n.bottom<e.bottom?n:e})));case"down":return T({element:e,link:b.A.for(e)},r.reduce((function(e,n){return n.top>e.top?n:e})));default:throw new Error("Invalid direction argument")}}function J(e,n){return"up"===n?"ltr"===V(Y(e))?"right":"left":"down"===n?"ltr"===V(K(e))?"left":"right":void 0}function $(e,n){return"up"===n?"ltr"===V(Y(e))?"left":"right":"down"===n?"ltr"===V(K(e))?"right":"left":void 0}function K(e){var n=e.closest("p.canopy-paragraph"),t=Array.from(n.querySelectorAll(".canopy-selectable-link")),r=t.indexOf(b.A.selection.element);return r<t.length-1?t[r+1]:b.A.selection.element}function Y(e){var n=e.closest("p.canopy-paragraph"),t=Array.from(n.querySelectorAll(".canopy-selectable-link")),r=t.indexOf(b.A.selection);return r>0?t[r-1]:b.A.selection.element}function V(e){return"rtl"===e.dir?"rtl":(n=function(e){for(;e.parentNode!==b.A.selection.element.closest("p.canopy-paragraph");)e=e.parentNode;return e}(e).innerText,new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")).test(n)?"rtl":"ltr");var n}var Z={left:M.bind(null,"left"),up:M.bind(null,"up"),down:M.bind(null,"down"),"shift-down":S,"alt-down":S,right:M.bind(null,"right"),h:M.bind(null,"left"),k:M.bind(null,"up"),j:M.bind(null,"down"),"shift-j":S,"alt-j":S,l:M.bind(null,"right"),u:w,i:w,"shift-enter":w,n:x,m:x,escape:function(){return(0,m.A)(A.A.current.rootTopicPath,null,{scrollStyle:"instant"})},z:function(){var e,n=b.A.selection.relativeLinkNumber;return null===(e=b.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.display({renderOnly:!0}).then((function(){b.A.from((function(){var e;return null===(e=b.A.selection)||void 0===e?void 0:e.inlinePath.lastSegment.parentParagraph.nthLink(n)})).select({scrollStyle:"instant"})}))},d:function(){return window.open(window.location.href,"_blank")},"shift-up":k,"shift-k":k,c:function(){navigator.clipboard.writeText(decodeURIComponent(window.location))},enter:function(){return x({})},"meta-enter":function(){return x({newTab:!0})},"ctrl-enter":function(){return x({newTab:!0})},"alt-enter":function(){return x({newTab:!1,altKey:!0})},"meta-alt-enter":function(){return x({newTab:!0,altKey:!0})},"ctrl-alt-enter":function(){return x({newTab:!0,altKey:!0})},"enter-shift":function(){return x({})},"meta-shift-enter":function(){return x({newTab:!0,shiftKey:!0})},"ctrl-shift-enter":function(){return x({newTab:!0,shiftKey:!0})},"alt-shift-enter":function(){return x({newTab:!1,altKey:!0,shiftKey:!0})},"meta-alt-shift-enter":function(){return x({newTab:!0,altKey:!0,shiftKey:!0})},"ctrl-alt-shift-enter":function(){return x({newTab:!0,altKey:!0,shiftKey:!0})}},Q=["c","d","up","down"],X={37:"left",39:"right",38:"up",40:"down",71:"g",72:"h",75:"k",74:"j",76:"l",186:";",90:"z",68:"d",67:"c",85:"u",73:"i",78:"n",77:"m",13:"enter",9:"tab",27:"escape",32:"space",192:"`",49:"1",50:"2",51:"3",52:"4",53:"5"};window.addEventListener("keydown",(function(e){if(!(i=document.activeElement)||!("TEXTAREA"===i.tagName||"INPUT"===i.tagName&&["text","password","email","search","number","tel","url"].includes(i.type.toLowerCase()))){var n=(e.metaKey?"meta-":"")+(e.ctrlKey?"ctrl-":"")+(e.altKey?"alt-":"")+(e.shiftKey?"shift-":""),t=X[e.keyCode],r=n+t;if(["tab","down","up","left","right"].includes(t)&&((e.metaKey||e.ctrlKey)&&["left","right"].includes(t)||e.preventDefault()),"escape"===t&&!b.A.selection)return(0,m.A)(A.A.default,null);b.A.selection||Q.includes(r)?(Z[r]||function(){})():Z[r]&&A.A.rendered.selectALink()}var i})),"scrollRestoration"in history&&(history.scrollRestoration="manual"),history.replaceState(history.state,document.title,window.location.href),window.addEventListener("popstate",(function(e){var n,t,r,i=null!=e&&null!==(n=e.state)&&void 0!==n&&n.linkSelection?new b.A(null==e||null===(t=e.state)||void 0===t?void 0:t.linkSelection):null;r=A.A.current.rootTopicPath.equals(A.A.url.rootTopicPath)?"smooth":"instant",(0,m.A)(A.A.url,i||A.A.url.parentLink,{scrollStyle:r,scrollDirect:!0,popState:!0})})),(0,m.A)(A.A.initial,b.A.savedSelection||b.A.from((function(){return A.A.initial.parentLink})),{scrollStyle:"instant",initialLoad:!0})},7239:(e,n,t)=>{"use strict";t.d(n,{A:()=>l});var r=t(514),i=t(797),o=t(4207),a=t(5044),c=t(1246);t(1995);const l=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!o.A.byPath(e))return(0,c.J0)(e,t);(0,c.fU)(e,n,t).then((function(){if(o.A.byPath(e).addToDom(),(0,c.Q3)(e),n&&(null==n||!n.element))return null==n||n.eraseLinkData(),(0,a.A)(e,null,t);r.A.setPath((null==n?void 0:n.urlPath)||e,t),i.A.persistLinkSelection(n||e.parentLink),i.A.updateSelectionClass(n||e.parentLink);var l=(0,c.WH)(e.rootTopicPath.topic,t);document.title=e.pageTitle;var s=function(e,n){for(var t=[];e;){var r;"instant"===n.scrollStyle?e.allocateSpace():e.display(),t.push(e),e.parentLink&&(null===(r=e.parentLink)||void 0===r||r.open()),i.A.persistLinkSelectionInSession(e.parentLink),e=e.parentParagraph}return t}(e.paragraph,t);return e.paragraph.addSelectionClass(),setTimeout((function(){return i.A.visible.filter((function(e){return e.isGlobal})).forEach((function(e){return setTimeout((function(){return e.execute({renderOnly:!0})}))}))})),(0,c.iW)(e,n,t).then((function(){s.forEach((function(e){return e.display()}))||l.show()}))}))}},1246:(e,n,t)=>{"use strict";t.d(n,{Cj:()=>k,J0:()=>y,Q3:()=>m,WH:()=>g,Yw:()=>v,cw:()=>A,fU:()=>E,iW:()=>T});var r=t(1995),i=t(9903),o=t(7239),a=t(797),c=t(514),l=t(4207),s=t(5044);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function p(){p=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,n,t){return Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}),e[n]}try{c({},"")}catch(e){c=function(e,n,t){return e[n]=t}}function l(e,n,t,r){var i=n&&n.prototype instanceof d?n:d,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,n,t){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(t.method=i,t.arg=o;;){var a=t.delegate;if(a){var c=k(a,t);if(c){if(c===h)continue;return c}}if("next"===t.method)t.sent=t._sent=t.arg;else if("throw"===t.method){if("suspendedStart"===r)throw r="completed",t.arg;t.dispatchException(t.arg)}else"return"===t.method&&t.abrupt("return",t.arg);r="executing";var l=s(e,n,t);if("normal"===l.type){if(r=t.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:t.done}}"throw"===l.type&&(r="completed",t.method="throw",t.arg=l.arg)}}}(e,t,a),o}function s(e,n,t){try{return{type:"normal",arg:e.call(n,t)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var h={};function d(){}function f(){}function g(){}var y={};c(y,i,(function(){return this}));var m=Object.getPrototypeOf,A=m&&m(m(P([])));A&&A!==n&&t.call(A,i)&&(y=A);var b=g.prototype=d.prototype=Object.create(y);function v(e){["next","throw","return"].forEach((function(n){c(e,n,(function(e){return this._invoke(n,e)}))}))}function C(e,n){function r(i,o,a,c){var l=s(e[i],e,o);if("throw"!==l.type){var p=l.arg,h=p.value;return h&&"object"==u(h)&&t.call(h,"__await")?n.resolve(h.__await).then((function(e){r("next",e,a,c)}),(function(e){r("throw",e,a,c)})):n.resolve(h).then((function(e){p.value=e,a(p)}),(function(e){return r("throw",e,a,c)}))}c(l.arg)}var i;this._invoke=function(e,t){function o(){return new n((function(n,i){r(e,t,n,i)}))}return i=i?i.then(o,o):o()}}function k(e,n){var t=e.iterator[n.method];if(void 0===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=void 0,k(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=s(t,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,h;var i=r.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function w(e){var n={tryLoc:e[0]};1 in e&&(n.catchLoc=e[1]),2 in e&&(n.finallyLoc=e[2],n.afterLoc=e[3]),this.tryEntries.push(n)}function x(e){var n=e.completion||{};n.type="normal",delete n.arg,e.completion=n}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function P(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function n(){for(;++r<e.length;)if(t.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=void 0,n.done=!0,n};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=g,c(b,"constructor",g),c(g,"constructor",f),f.displayName=c(g,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var n="function"==typeof e&&e.constructor;return!!n&&(n===f||"GeneratorFunction"===(n.displayName||n.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,c(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(C.prototype),c(C.prototype,o,(function(){return this})),e.AsyncIterator=C,e.async=function(n,t,r,i,o){void 0===o&&(o=Promise);var a=new C(l(n,t,r,i),o);return e.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(b),c(b,a,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var n=[];for(var t in e)n.push(t);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=P,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var n in this)"t"===n.charAt(0)&&t.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(t,r){return a.type="throw",a.arg=e,n.next=t,r&&(n.method="next",n.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var c=t.call(o,"catchLoc"),l=t.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,n){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&t.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=n,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,n){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&n&&(this.next=n),h},finish:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),x(t),h}},catch:function(e){for(var n=this.tryEntries.length-1;n>=0;--n){var t=this.tryEntries[n];if(t.tryLoc===e){var r=t.completion;if("throw"===r.type){var i=r.arg;x(t)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,t){return this.delegate={iterator:P(e),resultName:n,nextLoc:t},"next"===this.method&&(this.arg=void 0),h}},e}function h(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(e){return void t(e)}c.done?n(l):Promise.resolve(l).then(r,i)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e,n){var t=document.querySelector('h1[data-topic-name="'.concat(e.cssMixedCase,'"]'));return t.style.display="block",t.style.opacity="0%","instant"!==n.scrollStyle&&(t.style.opacity="100%"),{show:function(){t.style.opacity="100%"}}}function y(e,n){if(console.error("No section element found for path:",e.string),e.length>1)return console.log("Trying:",e.withoutLastSegment.string),(0,o.A)(e.withoutLastSegment,null,{scrollStyle:"instant",replaceHistoryState:!0});if(n.defaultRedirect)throw new Error("Redirect to default topic failed terminally.");return console.error("No path prefixes remain to try. Redirecting to default topic: "+c.A.default),(0,s.A)(c.A.default,null,{defaultRedirect:!0,scrollStyle:"instant",replaceHistoryState:!0})}var m=function(e){Array.from(document.querySelectorAll("#_canopy h1")).forEach((function(e){e.style.display="none"})),Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-open-link")})),function(e){!function e(n,t){Array.from(n.childNodes).filter((function(e){return"SECTION"===e.tagName})).forEach((function(n){var r=l.A.for(n);r.path.isIn(t)||r.removeFromDom(),e(n,t)}))}(r.m0,e)}(e),Array.from(document.querySelectorAll(".canopy-selected-section")).forEach((function(e){e.classList.remove("canopy-selected-section")}))};function A(e,n){if(!(e instanceof Element))throw new Error("Argument to scrollElementToPosition must be DOM element");var t,r=n.targetRatio,o=n.maxScrollRatio,a=n.minDiff,c=n.direction,l=n.behavior,s=n.side,u=e.getBoundingClientRect(),p=i.A.visibleHeight*r;t="bottom"===s?u.bottom-i.A.top+i.A.currentScroll:"middle"===s?u.top-i.A.top+i.A.currentScroll+u.height/2:u.top-i.A.top+i.A.currentScroll,"A"!==e.tagName||"middle"!==s&&"bottom"!==s||("bottom"===s?1:.5)*(u.bottom-u.top)+20>p&&(r=.05,p=i.A.visibleHeight*r,t=u.top+i.A.currentScroll);var h=t-p;i.A.scrollHeight-i.A.visibleHeight<h&&console.error("Scrollable area not long enough to scroll to desired position"),h=Math.max(0,Math.min(h,i.A.scrollHeight-i.A.visibleHeight));var g,y=o?i.A.visibleHeight*o:1/0;g=h>i.A.currentScroll?Math.min(h,i.A.currentScroll+y):Math.max(h,i.A.currentScroll-y);var m=h-i.A.currentScroll!=0;if(a){var A=Math.abs(i.A.currentScroll-g),b="A"===e.tagName&&(u.top<5||u.bottom>i.A.visibleHeight);m=!a||a&&A>a||b}return"up"===c&&(m=m&&g<i.A.currentScroll),"down"===c&&(m=m&&g>i.A.currentScroll),m?k(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({top:g,behavior:l},n)):Promise.resolve(!0)}var b=null;function v(){return b}var C=null;function k(e){return C=e,b=new Promise(function(){var n,t=(n=p().mark((function n(t,r){var o,a,c,l;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i.A.scrollTo(C),Date.now(),o=i.A.currentScroll,a=null,c=0,l=function n(){var r=i.A.currentScroll;if(o!==r||a||(a=Date.now()),o!==r&&(a=null),o===r&&c<1&&i.A.scrollTo(C),o=r,c++,a&&Date.now()-a>1e3)return b=null,t(!1);Math.abs(r-e.top)<10?(b=null,t(!0)):setTimeout(n,50)},setTimeout(l,50);case 7:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){h(o,r,i,a,c,"next",e)}function c(e){h(o,r,i,a,c,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}())}function w(e,n){return c.A.rendered.overlap(e)&&!c.A.rendered.equals(e)&&!c.A.rendered.subsetOf(e)&&(!n||!n.siblingOf(a.A.selection))&&!e.parentOf(c.A.rendered)&&!e.overlap(c.A.rendered).equals(c.A.rendered)&&(!n||!n.equals(a.A.selection.parentLink))}var x=.25,S=.17,P=.05;function E(e,n){var t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!c.A.rendered&&!!e.paragraph&&!!e.overlap(c.A.rendered)&&!(t.noScroll||t.noBeforeChangeScroll||t.initialLoad||"instant"===t.scrollStyle)&&(w(e,n)||function(e,n){var t=(n||c.A.rendered.firstDestination(e).paragraph).top+i.A.currentScroll;return Math.max(t-i.A.focusGap,0)-i.A.currentScroll<-.6*i.A.visibleHeight}(e,n))}(e,n,r)||r.noScroll)return Promise.resolve();r.beforeChangeScroll=!0;var o,s,u,p=null!==(t=a.A.selection)&&void 0!==t&&t.isEffectivePathReference?a.A.selection.enclosingPath:c.A.rendered,h=(p.overlap(e),r.noMinDiff?null:75),d=w(e,n)?p.fulcrumElement(e):(null==n?void 0:n.element)||e.paragraphElement,f="A"===d.tagName?x:S;return"P"===d.tagName&&l.A.for(d.parentNode).isBig&&(f=P),o=d.getBoundingClientRect(),s=.1*i.A.visibleHeight,u=.4*i.A.visibleHeight,o.top>=s&&o.bottom<=u?Promise.resolve():A(d,{targetRatio:f,maxScrollRatio:1/0,minDiff:h,behavior:"smooth",side:"top"}).then((function(){return new Promise((function(e){return setTimeout(e,110)}))}))}function T(e,n,t){if(t.noScroll)return Promise.resolve();var i=(t=t||{}).scrollStyle||"smooth",o=t.direction;r.m0.dataset.imageLoadScrollBehavior=i;var a=t.beforeChangeScroll?new Promise((function(e){return setTimeout(e,150)})):Promise.resolve();if(e.equals(c.A.rootTopicPath)&&!n)return A(l.A.root.paragraphElement,{targetRatio:.5,maxScrollRatio:1/0,behavior:i,side:"top"});if(null!=n&&n.isFragment)return A(n.element,{targetRatio:x,Infinity:1/0,minDiff:h,behavior:i,side:"top",direction:o});var s,u,p=1/0,h=75;return n?(n.isIn(e.paragraph)&&n.enclosingParagraph.fits?(s=n.enclosingParagraph.paragraphElement,u=S):(s=n.element,u=x),a.then((function(){return A(s,{targetRatio:u,maxScrollRatio:p,minDiff:h,behavior:i,direction:o})}))):a.then((function(){return A(e.paragraphElement,{targetRatio:e.paragraph.isBig?P:S,maxScrollRatio:p,minDiff:h,behavior:i,side:"top",direction:o})}))}},5044:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(5806),i=t(7239),o=(t(797),t(514)),a=t(4207),c=t(1995),l=null;const s=function e(n,t){var s,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!==(s=n)&&void 0!==s&&s.empty&&(n=o.A.default);var p=(l=!(null!=u&&u.renderOnly)&&n||l)&&(0,r.d)(n,n,Promise.resolve(c.m0)).catch((function(e){return console.error(e)}));return Promise.race([p,new Promise((function(e){return setTimeout(e,400)}))]).then((function(n){!n&&t&&a.A.contentLoaded&&!u.renderOnly&&((null==t?void 0:t.tryElement)&&t.addSelectionClass()||e(t.enclosingPath,t,{pending:!0}))})),p.then((function(){null!=u&&u.renderOnly||!n.equals(l)||(0,i.A)(n,t,u)})).catch((function(e){return console.error(e)}))}},1995:(e,n,t)=>{"use strict";t.d(n,{m0:()=>r,PZ:()=>i,Ly:()=>o,T6:()=>c,fP:()=>a});var r=document.getElementById("_canopy");if(!r)throw new Error("Page must contain an element with id #_canopy");r.dataset.canopyVersion="0.4.55";var i=function(){return r&&r.dataset.defaultTopic},o=function(){var e;return r&&(null===(e=document.getElementById("canopy_default_topic_json"))||void 0===e?void 0:e.textContent)},a=r&&r.dataset.projectPathPrefix,c=r&&r.dataset.hashUrls},9903:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(1995);function i(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t(4207);const o=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,t;return n=e,t=[{key:"windowMode",get:function(){return e=r.m0.parentElement,t="scroll"===(n=window.getComputedStyle(e).overflowY)||"auto"===n,i=e.scrollHeight>e.clientHeight,!(t&&i);var e,n,t,i}},{key:"element",get:function(){return this.windowMode?document.body:this.windowMode?void 0:r.m0.parentElement}},{key:"visibleHeight",get:function(){return this.windowMode?window.innerHeight:this.windowMode?void 0:this.element.clientHeight}},{key:"innerHeight",get:function(){throw"Use ScrollableContainer.visibleHeight"}},{key:"scrollHeight",get:function(){return this.windowMode?document.documentElement.scrollHeight:this.windowMode?void 0:this.element.scrollHeight}},{key:"currentScroll",get:function(){return this.windowMode?window.scrollY:this.windowMode?void 0:this.element.scrollTop}},{key:"top",get:function(){return this.windowMode?0:r.m0.parentElement.getBoundingClientRect().top}},{key:"addEventListener",value:function(e,n){return this.windowMode?window.addEventListener(e,n):this.windowMode?void 0:this.element.addEventListener(e,n)}},{key:"scrollTo",value:function(e){return this.windowMode?window.scrollTo(e):this.windowMode?void 0:this.element.scrollTo(e)}},{key:"focusGap",get:function(){return.3*e.visibleHeight}},{key:"focusY",get:function(){return.3*e.visibleHeight+e.currentScroll}},{key:"focusedElement",get:function(){var e=this;return Array.from(document.querySelectorAll("*")).filter((function(n){if(0===n.offsetWidth&&0===n.offsetHeight)return!1;if(n.closest(".canopy-image"))return!1;var t=n.getBoundingClientRect();return t.bottom>0&&t.bottom<=e.visibleHeight})).reduce((function(e,n){return null!=e&&e.classList.contains("canopy-selected-link")?e:null!=n&&n.classList.contains("canopy-selected-link")||!e||n.getBoundingClientRect().bottom<e.getBoundingClientRect().bottom?n:e}),null)||r.m0}}],null&&i(n.prototype,null),t&&i(n,t),Object.defineProperty(n,"prototype",{writable:!1}),e}()},797:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var r=t(514),i=t(4207),o=t(4244),a=t.n(o),c=t(5044),l=t(9903);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){p(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}const f=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),"A"===(null==n?void 0:n.tagName))this.element=n;else{if(n instanceof e)throw new Error("Cannot instantiate link from link");if("object"===h(n))this.metadataObject=n;else{if("function"!=typeof n)throw new Error("Invalid argument to Link constructor");this.selectorCallback=n}}}var n,t,o;return n=e,t=[{key:"equals",value:function(n){if(!(n instanceof e))throw new Error("Argument must be of type link");return this.element===n.element}},{key:"matches",value:function(e){if(!e)throw new Error("Invalid link argument to Link#matches");return this.targetTopic===e.targetTopic&&this.targetSubtopic===e.targetSubtopic&&this.relativeLinkNumber===e.relativeLinkNumber}},{key:"contradicts",value:function(e){if(!(e instanceof r.A))throw new Error("Invalid path argument to Link#contradicts");return this.targetPath.string!==e.string}},{key:"element",get:function(){if(this.linkElement)return this.linkElement;if(this.metadataObject)return this.linkElement=e.elementFromMetadata(this.metadata),this.linkElement?this.linkElement:null;if(this.selectorCallback){var n=this.selectorCallback();return this.element=null==n?void 0:n.element,this.linkElement}},set:function(n){n instanceof HTMLAnchorElement?this.linkElement=n:n instanceof e&&(this.linkElement=n.element),this.transferDataset()}},{key:"tryElement",get:function(){try{this.element}catch(e){return null}}},{key:"top",get:function(){return this.element?this.element.getBoundingClientRect().top:null}},{key:"bottom",get:function(){return this.element?this.element.getBoundingClientRect().bottom:null}},{key:"innerText",get:function(){var e;return this.element?null===(e=this.element)||void 0===e?void 0:e.innerText:null}},{key:"transferDataset",value:function(){this.linkElement&&(this._literalPathString=this.linkElement.dataset.literalPathString,this._enclosingTopic=this.linkElement.dataset.enclosingTopic,this._enclosingSubtopic=this.linkElement.dataset.enclosingSubtopic,this._typeValue=this.linkElement.dataset.type,this._text=this.linkElement.dataset.text)}},{key:"text",get:function(){var e,n,t;return(null===(e=this.linkElement)||void 0===e||null===(n=e.dataset)||void 0===n?void 0:n.text)||(null===(t=this.metadataObject)||void 0===t?void 0:t.text)}},{key:"targetTopic",get:function(){return this.literalPath.lastTopic}},{key:"targetSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.lastSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"childTopic",get:function(){return this.literalPath.firstTopic}},{key:"childSubtopic",get:function(){return this.element?this.isLocal?a().fromMixedCase(this.element.dataset.targetSubtopic):this.literalPath.firstSubtopic:a().fromMixedCase(this.metadataObject.targetSubtopicString)}},{key:"enclosingTopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingTopic)}},{key:"enclosingTopicParagraph",get:function(){return this.enclosingParagraph.topicParagraph}},{key:"enclosingSubtopic",get:function(){return a().fromMixedCase(this.element.dataset.enclosingSubtopic)}},{key:"topicName",get:function(){throw new Error("Links have no topicName, only targetTopic or enclosingTopic")}},{key:"subtopicName",get:function(){throw new Error("Links have no subtopicName, only targetSubtopic or enclosingSubtopic")}},{key:"type",get:function(){return this.element.dataset.type}},{key:"enclosingSectionElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-section")}},{key:"sectionElement",get:function(){throw new Error("Depreciated in favor of #enclosingSectionElement")}},{key:"enclosingParagraphElement",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.parentNode.closest(".canopy-paragraph")}},{key:"parentParagraphElement",get:function(){throw new Error("Depreciated in favor of #enclosingParagraphElement")}},{key:"enclosingParagraph",get:function(){return this.enclosingSectionElement?new i.A(this.enclosingSectionElement):null}},{key:"enclosingPath",get:function(){return this.metadataObject||this.enclosingSectionElement?this.metadataObject?new r.A(this.metadataObject.enclosingPathString):this.enclosingParagraph.path:null}},{key:"targetParagraph",get:function(){if(!this.isParent)return null;var e=this.enclosingParagraph.pathDepth;this.isGlobal&&(e=Number(e)+1);var n=this.enclosingParagraph.sectionElement.querySelector('section[data-topic-name="'.concat(this.literalPath.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(this.literalPath.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(e,'"'));return n?new i.A(n):(this.cycle||console.log("Did not find paragraph child element matching link [".concat(this.literalPath.firstTopic.mixedCase,", ").concat(this.literalPath.firstSubtopic.mixedCase,"]")),null)}},{key:"childPath",get:function(){return this.childParagraph.path}},{key:"childParagraph",get:function(){return this.isLocal?this.targetParagraph:this.isGlobal?this.enclosingPath.append(this.literalPath.firstTopicPath).paragraph:null}},{key:"matcher",get:function(){var e=this;return function(n){return n.matches(e)}}},{key:"relativeLinkNumber",get:function(){return this.storedRelativeLinkNumber||(this.storedRelativeLinkNumber=this.enclosingParagraph.links.map((function(e){return e.element})).indexOf(this.element)),this.storedRelativeLinkNumber}},{key:"metadata",get:function(){if(this.metadataObject)return null!=this&&this.linkElement?e.collectMetadata(this.linkElement):this.metadataObject;if(this.linkElement){var n=e.collectMetadata(this.linkElement);return this.metadataObject=n,n}if(this.selectorCallback)return this.element=this.selectorCallback(),this.metadata;throw new Error("Link has neither supplied metadata, dom element, nor selector function")}},{key:"path",get:function(){throw"#path is deprecated in favor of #inlinePath or #literalPath"}},{key:"targetPath",get:function(){throw"#targetPath is deprecated in favor of #inlinePath or #literalPath"}},{key:"literalPath",get:function(){var e;return this.isLocal?r.A.forSegment(this.enclosingTopic,this.targetSubtopic):this.isGlobal?r.A.for(((null===(e=this.element)||void 0===e?void 0:e.dataset)||this.metadataObject).literalPathString):null}},{key:"nextSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[e.length-1]))return null;var n=e.map((function(e){return e.element}));return e[n.indexOf(this.element)+1]}},{key:"previousSibling",get:function(){var e=this.enclosingParagraph.links;if(this.equals(e[0]))return null;var n=e.map((function(e){return e.element}));return e[n.indexOf(this.element)-1]}},{key:"siblings",get:function(){return this.enclosingParagraph.links}},{key:"firstSibling",get:function(){return this.siblings[0]}},{key:"lastSibling",get:function(){return this.siblings[this.siblings.length-1]}},{key:"firstChildLink",get:function(){return this.targetParagraph.firstLink}},{key:"lastChildLink",get:function(){return this.targetParagraph.lastLink}},{key:"siblingOf",value:function(e){return this.enclosingParagraph&&this.enclosingParagraph.equals(null==e?void 0:e.enclosingParagraph)}},{key:"parentLink",get:function(){return this.enclosingParagraph.parentLink}},{key:"isParentLinkOf",value:function(e){var n;return null==e||null===(n=e.parentLink)||void 0===n?void 0:n.equals(this)}},{key:"grandParentLink",get:function(){var e;return null===(e=this.parentLink)||void 0===e?void 0:e.parentLink}},{key:"topicParagraph",get:function(){return this.element?new i.A(this.element.parentNode.closest(".canopy-topic-section")):null}},{key:"selected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.includes("canopy-selected-link")}},{key:"open",value:function(){var e;null===(e=this.element)||void 0===e||e.classList.add("canopy-open-link")}},{key:"isOpen",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-open-link")}},{key:"isClosed",get:function(){return!this.isOpen}},{key:"isClosedCycle",get:function(){return!this.isOpen&&this.cycle}},{key:"isSelected",get:function(){var e;return null===(e=this.element)||void 0===e?void 0:e.classList.contains("canopy-selected-link")}},{key:"isGlobal",get:function(){return"global"===this.type}},{key:"isPathReference",get:function(){return"global"===this.type&&(this.literalPath.length>1||this.childTopic.mixedCase!==this.childSubtopic.mixedCase)}},{key:"isSimpleGlobal",get:function(){return this.isGlobal&&!this.isPathReference}},{key:"isEffectivePathReference",get:function(){return this.isPathReference&&(!this.cycle||this.isInlinedCycleReference)}},{key:"isInlinedCycleReference",get:function(){return this.introducesNewCycle&&this.isOpen}},{key:"isInDom",get:function(){var e;return!(null===(e=this.element)||void 0===e||!e.closest("#_canopy"))}},{key:"isExternal",get:function(){return"external"===this.type}},{key:"isLocal",get:function(){return"local"===this.type}},{key:"isCycle",get:function(){return this.introducesNewCycle}},{key:"isBackCycle",get:function(){return this.inlinePath.reduce().subsetOf(this.enclosingPath)}},{key:"isLateralCycle",get:function(){return this.cycle&&!this.inlinePath.reduce().subsetOf(this.enclosingPath)}},{key:"isParent",get:function(){return this.isGlobal||this.isLocal}},{key:"isSiblingOf",value:function(e){return this.enclosingParagraph.equals(e.enclosingParagraph)}},{key:"isIn",value:function(e){if(!(e instanceof i.A))throw"Wrong argument type: "+h(e);return e.links.map((function(e){return e.element})).includes(this.element)}},{key:"hasChildren",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.hasLinks}},{key:"firstChild",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.links.filter((function(e){var n;return!(null!==(n=e.element)&&void 0!==n&&n.closest(".canopy-image-caption"))}))[0]}},{key:"firstChildOf",value:function(e){var n;return!(null===(n=e.firstChild)||void 0===n||!n.equals(this))}},{key:"isFragment",get:function(){var e,n;return 0===(null===(e=this.childParagraph)||void 0===e||null===(n=e.paragraphElement)||void 0===n?void 0:n.offsetHeight)}},{key:"childParagraphElement",get:function(){var e;return null===(e=this.childParagraph)||void 0===e?void 0:e.paragraphElement}},{key:"isOffScreen",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),n=l.A.visibleHeight;return e.top<0||e.bottom>n}},{key:"isVisible",get:function(){if(!this.element)return!1;var e=this.element.getBoundingClientRect(),n=l.A.visibleHeight;return(Math.min(e.bottom,n)-Math.max(e.top,0))/(e.bottom-e.top)>=.5}},{key:"isEntirelyVisible",get:function(){if(!this.element)return!1;var e=this.element.getBoundingClientRect();return e.top>=0&&e.bottom<=l.A.visibleHeight}},{key:"isAboveViewport",get:function(){return!(!this.element||!this.element.getBoundingClientRect)&&this.element.getBoundingClientRect().top<l.A.top}},{key:"isBelowViewport",get:function(){if(!this.element||!this.element.getBoundingClientRect)return!1;var e=this.element.getBoundingClientRect(),n=l.A.visibleHeight;return e.bottom>n}},{key:"isDistantParent",get:function(){return this.top+.5*l.A.visibleHeight<this.childParagraph.top}},{key:"isHigherThan",value:function(e){return this.top<e.top}},{key:"isFocused",get:function(){if(!this.element)return null;var e=this.element.getBoundingClientRect(),n=l.A.visibleHeight,t=.1*n,r=.5*n,i=e.bottom>t,o=e.top<r;return i&&o}},{key:"cycle",get:function(){return this.introducesNewCycle}},{key:"backButton",get:function(){return this.literalPath.equals(this.enclosingParagraph.topicPath)}},{key:"introducesNewCycle",get:function(){return!!this.isGlobal&&r.A.introducesNewCycle(this.enclosingPath,this.literalPath)}},{key:"inlinePath",get:function(){return this.isGlobal?this.enclosingParagraph.path.append(this.literalPath):this.isLocal?this.enclosingParagraph.path.replaceTerminalSubtopic(this.targetSubtopic):this.enclosingParagraph.path}},{key:"previewPath",get:function(){return this.metadataObject&&!i.A.contentLoaded?new r.A(this.metadataObject.previewPathString):this.isExternal||this.isGlobal&&this.introducesNewCycle?this.enclosingPath:this.isGlobal||this.isLocal?this.inlinePath:void 0}},{key:"urlPath",get:function(){return this.cycle||this.externalLink||this.isPathReference?this.enclosingPath:this.isLocal||this.isSimpleGlobal||this.isInlinedCycleReference?this.inlinePath:void 0}},{key:"select",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&e.newTab&&this.isParent&&e.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!=e&&e.newTab&&this.isParent?window.open(location.origin+this.previewPath.productionPathString,"_blank"):e.scrollToParagraph?(0,c.A)(this.previewPath,null,e):(0,c.A)(this.previewPath,this,e)}},{key:"execute",value:function(){var n,t,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(i=u({scrollDirect:!0},i)).renderOnly||e.persistLinkSelectionInSession(this),this.isExternal?window.open(this.element.href,"_blank"):null!==(n=i)&&void 0!==n&&n.newTab&&this.isParent&&i.redirect?window.open(location.origin+this.literalPath.productionPathString,"_blank"):null!==(t=i)&&void 0!==t&&t.newTab&&this.isParent?window.open(location.origin+this.previewPath.productionPathString,"_blank"):i.redirect?this.literalPath.display(u({scrollStyle:"instant"},i)):this.isGlobal&&this.introducesNewCycle&&!i.inlineCycles?(i.pushHistoryState&&e.pushHistoryState(this),this.inlinePath.reduce().display(i)):this.isPathReference&&!this.cycle||this.cycle&&i.inlineCycles?(i.pushHistoryState&&e.pushHistoryState(this),this.inlinePath.display(u({noScroll:!0},i)).then((function(){return r.inlinePath.parentLink.select(u(u({},i),{},{scrollDirect:!0,scrollToParagraph:!1}))}))):(i.selectALink&&this.firstChild||this).select(i)}},{key:"addSelectionClass",value:function(){e.updateSelectionClass(this)}},{key:"onPage",get:function(){if(!this.element)return null;var e=window.getComputedStyle(this.element);return this.element.offsetWidth>0&&this.element.offsetHeight>0&&"none"!==e.display&&"hidden"!==e.visibility}},{key:"eraseLinkData",value:function(){var e,n,t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");this.enclosingPath&&delete t[this.enclosingPath],sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(t)),null!==(e=history)&&void 0!==e&&null!==(n=e.state)&&void 0!==n&&n.linkSelection&&(history.state.linkSelection=null)}},{key:"isLastSelection",get:function(){var n;return null===(n=e.lastSelectionOfParagraph(this.enclosingParagraph))||void 0===n?void 0:n.equals(this)}}],o=[{key:"collectMetadata",value:function(n){var t=new e(n);return i.A.containingLink(t),{enclosingPathString:t.enclosingPath.string,text:n.dataset.text,relativeLinkNumber:t.relativeLinkNumber,previewPathString:t.previewPath.string,targetUrl:n.dataset.targetUrl,targetTopicString:n.dataset.targetTopic,targetSubtopicString:n.dataset.targetSubtopic,literalPathString:n.dataset.literalPathString}}},{key:"elementFromMetadata",value:function(e){var n=new r.A(e.enclosingPathString).paragraph;if(!n)return console.error("Link selection data refers to non-existant link",e);var t=n.linkBySelector((function(n,t){return n.isParent&&n.previewPath.string===e.previewPathString&&n.relativeLinkNumber===e.relativeLinkNumber&&n.text===e.text})),i=t||n.linkBySelector((function(n,t){var r,i;return n.isParent&&n.previewPath.string===e.previewPathString||n.isExternal&&(null===(r=n.element)||void 0===r||null===(i=r.dataset)||void 0===i?void 0:i.targetUrl)===e.targetUrl}));return(null==i?void 0:i.element)||null}},{key:"removeSelectionClass",value:function(){Array.from(document.getElementsByTagName("a")).forEach((function(e){e.classList.remove("canopy-selected-link")}))}},{key:"deselect",value:function(n){e.updateSelectionClass(n||null)}},{key:"updateSelectionClass",value:function(e){var n;Array.from(document.querySelectorAll("a.canopy-selected-link")).forEach((function(e){return e.classList.remove("canopy-selected-link")})),e&&(null===(n=e.element)||void 0===n||n.classList.add("canopy-selected-link"))}},{key:"persistLinkSelection",value:function(n){e.persistLinkSelectionInHistory(n),e.persistLinkSelectionInSession(n)}},{key:"selectionPresentInEvent",value:function(e){var n;return e.state&&(null===(n=e.state)||void 0===n?void 0:n.linkSelection)}},{key:"sessionSelection",get:function(){if(r.A.url.empty)return null;var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}")[r.A.url.string];return n&&null!==n?new e(n):null}},{key:"historySelection",get:function(){var n,t;return r.A.url.empty?null:null!==(n=history)&&void 0!==n&&null!==(t=n.state)&&void 0!==t&&t.linkSelection?new e(history.state.linkSelection):null}},{key:"savedSelection",get:function(){return this.historySelection}},{key:"selection",get:function(){var n=document.querySelector("a.canopy-selected-link");return n?new e(n):null}},{key:"persistLinkSelectionInHistory",value:function(e){history.replaceState(e&&{linkSelection:e.metadata}||null,document.title,window.location.href)}},{key:"pushHistoryState",value:function(e){e&&history.pushState({linkSelection:e.metadata},document.title,window.location.origin+e.previewPath.productionPathString)}},{key:"current",value:function(){throw new Error("Link#current does not exist, try Link#selection")}},{key:"persistLinkSelectionInSession",value:function(e){if(e){var n=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");n[e.enclosingParagraph.path]=e.metadata,sessionStorage.setItem("lastSelectionsOfParagraph",JSON.stringify(n))}}},{key:"lastSelectionOfParagraph",value:function(n){var t=JSON.parse(sessionStorage.getItem("lastSelectionsOfParagraph")||"{}");if(t[n.path])return new e(t[n.path])}},{key:"visible",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(n){return e.for(n)})).filter((function(e){return e.isVisible}))}},{key:"onPage",get:function(){return Array.from(document.querySelectorAll(".canopy-selectable-link")).map((function(n){return e.for(n)})).filter((function(e){return e.onPage}))}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],t&&d(n.prototype,t),o&&d(n,o),Object.defineProperty(n,"prototype",{writable:!1}),e}()},4207:(e,n,t)=>{"use strict";t.d(n,{A:()=>f});var r=t(514),i=t(797),o=t(1995),a=t(9903),c=t(4244),l=t.n(c);function s(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}t(5044);var u,p,h,d=function(){function e(n){if(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),!n||"SECTION"!==n.tagName)throw new Error("Paragraph instantiation requires section element");if(!n.classList.contains("canopy-section"))throw new Error("Paragraph class requires Canopy section element");this.sectionElement=n,this.transferDataset();var t=e.byPath(this.sectionElement.dataset.pathString);if(t)return t}var n,t,c;return n=e,c=[{key:"from",value:function(e){return new this(e)}},{key:"selection",get:function(){return e.current}},{key:"current",get:function(){var n=document.querySelector(".canopy-selected-section");return n?new e(n):null}},{key:"root",get:function(){return r.A.current.rootTopicPath.paragraph}},{key:"containingLink",value:function(n){if(!(n instanceof i.A))throw new Error("Must provide link instance argument");return new e(n.element.parentNode.closest(".canopy-section"))}},{key:"visible",get:function(){for(var e=r.A.rendered,n=[];e;)n.push(e.paragraph),e=e.parentPath;return n}},{key:"atY",value:function(n){return e.visible.reduce((function(e,t){return e.top<n&&e.bottom>n?e:t.top<n&&t.bottom>n?t:Math.abs(e.top-n)<Math.abs(t.top-n)?e:t}))}},{key:"byPath",value:function(e){return e?(e instanceof r.A&&(e=e.pathString),this.paragraphsByPath[e]):null}},{key:"registerNode",value:function(n){var t=e.byPath(n.dataset.pathString)||e.for(n);e.paragraphsByPath[n.dataset.pathString]=t}},{key:"registerChild",value:function(n,t){e.registerNode(n),e.byPath(n.dataset.pathString).parentNode=t}},{key:"registerSubtopics",value:function(n){Array.from(n.querySelectorAll(".canopy-section")).forEach((function(n){e.registerNode(n),e.registerChild(n,n.parentNode)}))}},{key:"detachSubtopics",value:function(e){Array.from(e.querySelectorAll(".canopy-section")).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"all",get:function(){return Array.from(document.querySelectorAll(".canopy-section")).map((function(n){return e.for(n)}))}},{key:"focused",get:function(){return e.atY(.3*a.A.visibleHeight+a.A.currentScroll)}},{key:"contentLoaded",get:function(){return!!document.querySelector("h1.canopy-header")}},{key:"for",value:function(n){return e.byPath(n.dataset.pathString)?e.byPath(n.dataset.pathString):new e(n)}}],(t=[{key:"equals",value:function(e){return!!e&&this.sectionElement===e.sectionElement}},{key:"allocateSpace",value:function(){this.sectionElement.style.display="block",this.sectionElement.style.opacity="0%"}},{key:"display",value:function(){var e=this;this.sectionElement.style.display="block",this.sectionElement.style.opacity="100%",this.paragraphElement.style.unicodeBidi="unset",requestAnimationFrame((function(){e.paragraphElement.style.unicodeBidi="plaintext"}))}},{key:"element",get:function(){throw new Error("Depreciated in favor of #sectionElement property")}},{key:"transferDataset",value:function(){this._topicName=this.sectionElement.dataset.topicName,this._subtopicName=this.sectionElement.dataset.subtopicName,this._pathString=this.sectionElement.dataset.pathString,this.pathDepth=Number(this.sectionElement.dataset.pathDepth)}},{key:"isVisible",get:function(){return"none"!==window.getComputedStyle(this.sectionElement).display}},{key:"topic",get:function(){return l().fromMixedCase(this.sectionElement.dataset.topicName)}},{key:"subtopic",get:function(){return l().fromMixedCase(this.sectionElement.dataset.subtopicName)}},{key:"topicName",get:function(){throw new Error("Depreciated in favor of #topic")}},{key:"subtopicName",get:function(){throw new Error("Depreciated in favor of #subtopic")}},{key:"paragraphElement",get:function(){var e=Array.from(this.sectionElement.childNodes).find((function(e){return"P"===e.tagName}));if(!e)throw new Error("Paragraph has no paragraph element");return e}},{key:"path",get:function(){return new r.A(this.sectionElement.dataset.pathString)}},{key:"topicPath",get:function(){return this.path.lastSegment.firstTopicPath}},{key:"pathDown",get:function(){return this.path.slice(this.pathDepth)}},{key:"links",get:function(){if(this.linkObjects)return this.linkObjects;var e=this.paragraphElement.querySelectorAll("a.canopy-selectable-link");return this.linkObjects=Array.from(e).map((function(e){return new i.A(e)})),this.linkObjects}},{key:"linkElements",get:function(){return Array.from(this.paragraphElement.querySelectorAll(".canopy-selectable-link"))}},{key:"firstLink",get:function(){return this.links[0]||null}},{key:"nthLink",value:function(e){return this.links[e]||null}},{key:"lastLink",get:function(){return this.links[this.links.length-1]||null}},{key:"previousLink",get:function(){return i.A.lastSelectionOfParagraph(this)}},{key:"isRoot",get:function(){return this.sectionElement.parentNode===o.m0}},{key:"isSingleTopic",get:function(){return this.topic.caps===this.subtopic.caps}},{key:"hasLinks",get:function(){return this.links.length>0}},{key:"linkBySelector",value:function(e){return this.links.find(e)}},{key:"linksBySelector",value:function(e){return this.links.filter(e)}},{key:"linkByChild",value:function(e,n){return this.linkBySelector((function(t){return t.isGlobal&&t.childTopic.caps===(null==e?void 0:e.caps)||t.isLocal&&t.targetSubtopic.caps===(null==n?void 0:n.caps)}))}},{key:"parentLink",get:function(){var e,n,t,r=this;if(this.parentNode===o.m0)return null;if(this.parentParagraph.linkElements.includes(null===(e=i.A.selection)||void 0===e?void 0:e.element)&&null!==(n=i.A.selection)&&void 0!==n&&null!==(t=n.childParagraph)&&void 0!==t&&t.equals(this))return i.A.selection;if(!this.isTopic)return this.parentParagraph.links.find((function(e){return e.isLocal&&e.targetSubtopic.caps===r.subtopic.caps}));var a=i.A.lastSelectionOfParagraph(this.parentParagraph);return this.parentLinks.length>1&&a&&this.parentLinks.find((function(e){return e.equals(a)}))?a:this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&1===e.literalPath.length&&e.childTopic.caps===r.topic.caps&&e.childSubtopic.caps===r.topic.caps}))||this.parentParagraph&&this.parentParagraph.links.find((function(e){return e.isGlobal&&e.childTopic.caps===r.topic.caps}))}},{key:"parentLinks",get:function(){var e=this;return this.sectionElement.parentNode===o.m0?null:this.parentParagraph.linksBySelector((function(n){return n.isGlobal&&n.childTopic.caps===e.topic.caps||n.isLocal&&n.targetSubtopic.caps===e.subtopic.caps}))}},{key:"displayTopicName",get:function(){return this.sectionElement.dataset.displayTopicName}},{key:"parentParagraph",get:function(){if(this.parentNode&&"SECTION"===this.parentNode.tagName)return e.for(this.parentNode);if(this.sectionElement){var n,t,r=null===(n=this.sectionElement)||void 0===n||null===(t=n.parentNode)||void 0===t?void 0:t.closest(".canopy-section");return r?new e(r):null}return null}},{key:"topicParagraph",get:function(){if(this.isTopic)return this;var n=this.sectionElement.parentNode.closest(".canopy-topic-section");if(!n)throw new Error("Missing topic paragraph");return new e(n)}},{key:"isTopic",get:function(){return this.topic.mixedCase===this.subtopic.mixedCase}},{key:"isInDom",get:function(){return!!this.sectionElement.closest("div#_canopy")}},{key:"isBig",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight>.75}},{key:"fits",get:function(){return this.paragraphElement.offsetHeight/a.A.visibleHeight<.8}},{key:"top",get:function(){return this.paragraphElement.getBoundingClientRect().top}},{key:"bottom",get:function(){return this.paragraphElement.getBoundingClientRect().bottom}},{key:"addSelectionClass",value:function(){this.sectionElement.classList.add("canopy-selected-section")}},{key:"scrollComplete",value:function(){this.sectionElement.classList.add("canopy-scroll-complete")}},{key:"removeFromDom",value:function(){this.sectionElement.parentNode.removeChild(this.sectionElement)}},{key:"addToDom",value:function(){if(!this.parentNode)throw new Error("Every sectionElement must have parentNode");if(this.parentNode.appendChild(this.sectionElement),this.parentParagraph&&this.parentParagraph.addToDom(),this.path.isSingleTopic)return o.m0.appendChild(this.sectionElement)}}])&&s(n.prototype,t),c&&s(n,c),Object.defineProperty(n,"prototype",{writable:!1}),e}();h={},(p="paragraphsByPath")in(u=d)?Object.defineProperty(u,p,{value:h,enumerable:!0,configurable:!0,writable:!0}):u[p]=h;const f=d},514:(e,n,t)=>{"use strict";t.d(n,{A:()=>A});var r=t(1995),i=(t(9903),t(4207)),o=t(797),a=t(4244),c=t.n(a),l=t(5044);function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||p(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){if(e){if("string"==typeof e)return h(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?h(e,n):void 0}}function h(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f,g,y,m=function(){function e(n){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n?Array.isArray(n)?(0===n.length?this.pathArray=[]:(this.pathArray=n.slice(),e.validatePathArray(this.array)),this.pathString=e.arrayToString(this.array)):("string"==typeof n||n instanceof String)&&(this.pathArray=e.stringToArray(n),this.pathString=e.arrayToString(this.array)):this.pathArray=[]}var n,t,a;return n=e,t=[{key:"length",get:function(){return this.pathArray[0]?this.pathArray.length:0}},{key:"equals",value:function(e){return!!e&&this.string===e.string}},{key:"isIn",value:function(e){var n;return!!e&&(!!this.equals(e)||!e.isSingleTopic&&!this.visitsTopicNotIn(e)&&this.isIn(null==e||null===(n=e.paragraph)||void 0===n?void 0:n.parentParagraph.path))}},{key:"visitsTopicNotIn",value:function(e){return this.topicStringArray.some((function(n){return!e.topicStringArray.includes(n)}))}},{key:"includes",value:function(e){return e.isIn(this)}},{key:"array",get:function(){return this.pathArray}},{key:"string",get:function(){return this.pathString}},{key:"empty",get:function(){return!this.array[0]}},{key:"slice",value:function(){var e;return new this.constructor((e=this.pathArray.slice).call.apply(e,[this.pathArray].concat(Array.prototype.slice.call(arguments))))}},{key:"segments",get:function(){return this.pathArray}},{key:"firstTopic",get:function(){return this.empty?null:this.pathArray[0][0]}},{key:"firstTopicPath",get:function(){return this.constructor.forSegment(this.pathArray[0][0],this.pathArray[0][0])}},{key:"lastTopic",get:function(){return this.lastSegment.topic}},{key:"topic",get:function(){var e;return null===(e=this.lastSegment.array[0])||void 0===e?void 0:e[0]}},{key:"firstSubtopic",get:function(){return this.empty?null:this.pathArray[0][1]}},{key:"lastSubtopic",get:function(){return this.lastSegment.subtopic}},{key:"secondTopic",get:function(){return this.pathArray[1]&&this.pathArray[1][0]}},{key:"secondSubtopic",get:function(){return this.pathArray[1]&&this.pathArray[1][1]}},{key:"firstSegment",get:function(){return new this.constructor(this.pathArray.slice(0,1))}},{key:"lastSegment",get:function(){return new this.constructor(this.pathArray.slice(-1))}},{key:"withoutFirstSegment",get:function(){return new this.constructor(this.pathArray.slice(1))}},{key:"withoutLastSegment",get:function(){return new this.constructor(this.pathArray.slice(0,-1))}},{key:"isSingleTopic",get:function(){return 1===this.pathArray.length&&this.pathArray[0][0].mixedCase===this.pathArray[0][1].mixedCase}},{key:"parentPath",get:function(){var e,n;return null===(e=this.paragraph)||void 0===e||null===(n=e.parentParagraph)||void 0===n?void 0:n.path}},{key:"parentLink",get:function(){var e;return null===(e=this.paragraph)||void 0===e?void 0:e.parentLink}},{key:"nextLink",get:function(){var e,n;return(null===(e=this.paragraph)||void 0===e?void 0:e.firstLink)||(null===(n=this.paragraph)||void 0===n?void 0:n.parentLink)}},{key:"forEach",value:function(e){this.array.forEach(e)}},{key:"clone",value:function(){return new e(this.array.slice())}},{key:"pageTitle",get:function(){return this.firstTopic.mixedCase!==this.lastTopic.mixedCase?this.firstTopic.mixedCase+": "+this.lastTopic.mixedCase:this.firstTopic.mixedCase}},{key:"cycle",get:function(){var e=this,n=null;return this.array.forEach((function(t,r){e.array.forEach((function(e,i){t[0].mixedCase===e[0].mixedCase&&r<i&&(n={start:r,end:i})}))})),n}},{key:"reduce",value:function(){var n=this.cycle;return n?new e([].concat(u(this.array.slice(0,n.start)),u(this.array.slice(n.end)))):this.clone()}},{key:"overlap",value:function(e){if(this.firstTopic.mixedCase!==e.firstTopic.mixedCase)return null;for(var n=e;!n.isSingleTopic;){if(this.includes(n))return n;if(!n.parentPath)throw new Error("Undefined parent path for ".concat(n));n=n.parentPath}return n}},{key:"fulcrumElement",value:function(e){return this.includes(e)||e.includes(this)?this.overlap(e).paragraphElement:this.overlapAndNextTopic(e).parentLink.element}},{key:"overlapAndNextTopic",value:function(e){var n=this.overlap(e);return this.includes(e)?null:n.intermediaryPathsTo(e)[1]}},{key:"firstDestination",value:function(e){return!this.overlap(e)||this.includes(e)||e.includes(this)?e:this.overlap(e)}},{key:"subsetOf",value:function(e){return e.includes(this)&&!this.equals(e)}},{key:"intermediaryPathsTo",value:function(e){for(var n=[],t=e.clone();t&&!this.equals(t);)n.unshift(t),t=t.parentPath;return n.unshift(this),n}},{key:"includedParagraphs",get:function(){for(var e=[],n=this.paragraph;n;)e.push(n),n=n.parentParagraph;return e}},{key:"childOf",value:function(e){var n;return null===(n=this.parentPath)||void 0===n?void 0:n.equals(e)}},{key:"parentOf",value:function(e){var n;return null===(n=e.parentPath)||void 0===n?void 0:n.equals(this)}},{key:"display",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return null!=e&&e.newTab?window.open(location.origin+this.string,"_blank"):this.empty?console.error("Cannot display empty path"):(0,l.A)(this,null,e)}},{key:"selectALink",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.display({renderOnly:!0}).then((function(){return(e.paragraph.firstLink||e.paragraph.parentLink).select(n)}))}},{key:"addSegment",value:function(n,t){return this.empty?new e([[n,t]]):new e(this.array.concat([[n,t]]))}},{key:"append",value:function(n){return new e(this.string+"/"+n.string)}},{key:"replaceTerminalSubtopic",value:function(e){if(0===this.length)return this;var n=this.lastSegment;return this.withoutLastSegment.addSegment(n.firstTopic,e)}},{key:"removeTerminalSubtopic",get:function(){if(0===this.length)return this;var e=this.lastSegment;return this.withoutLastSegment.addSegment(e.firstTopic,e.firstTopic)}},{key:"toString",value:function(){return this.string}},{key:"rootTopicPath",get:function(){return this.length>0?new e([[this.firstTopic,this.firstTopic]]):this}},{key:"topicArray",get:function(){return this.array.map((function(e){var n=s(e,2),t=n[0];return n[1],t}))}},{key:"topicStringArray",get:function(){return this.array.map((function(e){var n=s(e,2),t=n[0];return n[1],t.mixedCase}))}},{key:"sectionElement",get:function(){return e.elementAtRelativePath(this,r.m0)}},{key:"paragraph",get:function(){return i.A.byPath(this)?i.A.byPath(this):this.sectionElement?new i.A(this.sectionElement):null}},{key:"paragraphElement",get:function(){return this.paragraph.paragraphElement}},{key:"parentParagraph",get:function(){return this.paragraph.parentParagraph}},{key:"present",get:function(){return!!this.array[0]}},{key:"productionPathString",get:function(){var e="";return r.fP&&(e+="/".concat(r.fP)),r.T6&&(e+="/#"),e+this.pathString}}],a=[{key:"stringToArray",value:function(n){if("string"!=typeof n)throw new Error("Function requires string argument");if(this.stringToArrayCache.hasOwnProperty(n))return this.stringToArrayCache[n];if("/"===n)return[];var t=n.replace(/%5C%5C(%23|#)|%5C(%23|#)|(%23|#)/g,(function(e){return e.startsWith("%5C%5C")?"%5C%5C#":e.startsWith("%5C")?"%5C#":"#"})).split("/").filter((function(e){return""!==e})),r=(t=e.fixOrphanSubtopics(n,t)).map((function(e){var n=s(c().parseUrlSegment(e),2),t=n[0];return[t,n[1]||t]})).filter((function(e){return e[0]}));return this.stringToArrayCache[n]=r,r}},{key:"arrayToString",value:function(e){if(!Array.isArray(e))throw new Error("Argument must be array");if(Array.isArray(e)&&0===e.length)return"/";if(!Array.isArray(e[0]))throw new Error("Path array must be two-dimensional array");return"/"+e.map((function(e){var n=s(e,2),t=n[0],r=n[1],i=t.url;return r&&r.url!==t.url&&(i+="#"+r.url),i})).join("/")}},{key:"introducesNewCycle",value:function(e,n){if(n.reduce().length<n.length)return!0;var t=e.topicArray.map((function(e){return e.mixedCase})),r=n.topicArray.map((function(e){return e.mixedCase}));return t.some((function(t,i){return r.some((function(r,i){return t===r&&!e.equals(e.append(n).reduce())}))}))}},{key:"default",get:function(){var n=c().for((0,r.PZ)());return new e([[n,n]])}},{key:"root",get:function(){return e.url.rootTopicPath}},{key:"current",get:function(){return e.rendered||e.url}},{key:"rendered",get:function(){var e;return null===(e=i.A.selection)||void 0===e?void 0:e.path}},{key:"url",get:function(){var n=window.location.href.slice(window.location.origin.length);return r.fP&&0===n.indexOf("/".concat(r.fP))&&(n=n.slice(r.fP.length+1)),0===n.indexOf("/#")&&(n=n.slice(2)),new e(n)}},{key:"initial",get:function(){return e.url.present&&o.A.savedSelection?o.A.savedSelection.previewPath:e.url.empty?e.default:e.url}},{key:"connectingLinkValid",value:function(n,t){if(!n)throw new Error("Parent element required");if(!(t instanceof e))throw new Error("pathToAppend must be a Path object");if(n===r.m0)return!0;var o=new i.A(n);return!!o.linkByChild(t.firstTopic)||(console.error("Parent element [".concat(o.topic.mixedCase,", ").concat(o.subtopic.mixedCase,"] has no ")+"connecting link to subsequent path segment [".concat(t.firstTopic.mixedCase,"]")),!1)}},{key:"elementAtRelativePath",value:function(n,t){if(!(n instanceof e))throw new Error("pathToDisplay must be a Path object");for(var i=t=t||r.m0,o=n,a=Number(t.dataset.pathDepth||-1),c=0;c<n.length;c++){if(a+=1,!(i=i.querySelector(":scope > "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]')+(o.firstTopic.mixedCase!==o.firstSubtopic.mixedCase?" "+'[data-topic-name="'.concat(o.firstTopic.cssMixedCase,'"]')+'[data-subtopic-name="'.concat(o.firstSubtopic.cssMixedCase,'"]')+'[data-path-depth="'.concat(a,'"]'):""))))return null;o=o.withoutFirstSegment}return i||console.log("element at relative path",n,t,i),i}},{key:"setPath",value:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(n instanceof e))throw new Error("newPath must be Path object");if(!t.popState){var r=e.url,i=n.lastTopic.mixedCase,o=e.url.empty||n.equals(r);t.pushHistoryState&&(o=!1),t.replaceHistoryState&&(o=!0);var a=o?function(e,n,t){history.replaceState(e,n,t)}:function(e,n,t){history.pushState(e,n,t)},c=n.productionPathString;a(history.state,i,c)}}},{key:"fixOrphanSubtopics",value:function(e,n){if("string"!=typeof e)throw new Error("pathString must be a string argument");if(!Array.isArray(n))throw new Error("slashSeparatedUnits must be an array");if(e.match(/\/#\w+/))for(var t=1;t<n.length;t++)if(n[t].match(/^#/)){if(n[t-1].match(/#/)){var r=n[t].slice(1);return n.slice(0,t).concat([r]).concat(n.slice(t+1))}var i=n[t-1]+n[t];return n.slice(0,t-1).concat([i]).concat(n.slice(t+1))}return n}},{key:"validatePathArray",value:function(e){e.forEach((function(e){if(2!==e.length)throw new Error("Invalid path segment format: ".concat(e));if(!(e[0]instanceof c()&&e[1]instanceof c()))throw new Error("Invalid path segment format: ".concat(JSON.stringify(e)))}))}},{key:"forTopic",value:function(e){return new this([[e,e]])}},{key:"forSegment",value:function(e,n){if(!(e instanceof c()&&n instanceof c()))throw new Error("Argument must be of type Topic");return new this([[e,n]])}},{key:"for",value:function(e){return new this(e)}},{key:"from",value:function(e){return new this(e)}}],t&&d(n.prototype,t),a&&d(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();y={},(g="stringToArrayCache")in(f=m)?Object.defineProperty(f,g,{value:y,enumerable:!0,configurable:!0,writable:!0}):f[g]=y;const A=m},6892:(e,n,t)=>{"use strict";t.d(n,{rebuild:()=>o});var r=t(2593),i=t(4244);function o(e){if(!e)throw new Error("No bulk file string given");var n=document.querySelector("#_canopy");try{Array.from(n.children).forEach((function(e){"SECTION"!==e.tagName&&"H1"!==e.tagName||n.removeChild(e)}));var o=new(t(7719))(e).generateFileSet(),a=o.newFileSet,c=(o.defaultTopicPath,o.defaultTopicKey),l=t(754);c||(c=e.split("\n").map((function(e){return l.for(e.match(/^\*?\*? ?(.*)/)[1]).key})).find((function(e){return e})));var s=i.for(c);n.dataset.defaultTopic=s.mixedCase,n.dataset.hashUrls=!0,n.dataset.projectPathPrefix=n.dataset.projectPathPrefix||"";var u,p=t(3559)(a.fileContentsByPath,null,c);for(var h in p.directoriesToEnsure,u=p.filesToWrite,r.A)r.A.hasOwnProperty(h)&&delete r.A[h];Object.keys(u).forEach((function(e){var n=JSON.parse(u[e]).displayTopicName;r.A[i.for(n).mixedCase]=Promise.resolve(JSON.parse(u[e]))}));var d=t(514).A,f=d.for(window.location.hash.slice(2)).firstTopic;f&&!r.A.hasOwnProperty(f.mixedCase)&&history.replaceState(null,null,location.pathname+location.search),t(5806).w(),t(4207).A.paragraphsByPath={},t(1638),window.location.hash?d.current.display():d.initial.display({scrollStyle:"instant"})}catch(e){throw history.replaceState(null,null,location.pathname+location.search),t(9903).A.scrollTo({top:0}),e}}},5806:(e,n,t)=>{"use strict";t.d(n,{d:()=>L,w:()=>O});var r=t(1995),i=t(4244),o=t.n(i),a=(t(5044),t(2593)),c=t(514);function l(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}const s=function(e){if(a.A[e.mixedCase])return a.A[e.mixedCase];var n=(r.fP?"/"+r.fP:"")+"/_data/"+e.requestFileName+".json",t=fetch(n).then((function(e){return e.json().then((function(e){return function(e){var n,t=JSON.stringify(e);r.m0.imagePreloadArray=r.m0.imagePreloadArray||[],(n=t.matchAll(/<img\s[^>]*?src=\\?["']([^"']+?)\\?["']|resourceUrl": ?"([^"]+)/g),function(e){if(Array.isArray(e))return l(e)}(n)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,n){if(e){if("string"==typeof e)return l(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,n):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map((function(e){return e[1]||e[2]})).forEach((function(e){var n=new Image;n.src=e,r.m0.imagePreloadArray.push(n)}))}(e),e}))})).catch((function(n){return a.A[e.mixedCase]=void 0,Promise.reject(new Error('Unable to find topic file: "'.concat(e.requestFileName,'"')))}));return a.A[e.mixedCase]=t,t};var u=t(4207),p=t(797);function h(e){return function(n){if(n.preventDefault(),!((t=window.getSelection())&&t.rangeCount>0)||t.isCollapsed){var t,r,i=n.metaKey||n.ctrlKey,o=(n.altKey,n.shiftKey),a=e.cycle&&!o;return i||n.altKey||!e.isSelected||e.isClosedCycle||e.isPathReference||e.isInlinedCycleReference?(i||n.altKey||!e.isOpen||e.isClosedCycle||e.isPathReference||e.isInlinedCycleReference)&&(i||n.altKey||!e.isOffScreen||e.isClosedCycle)?i||n.altKey||!e.isInlinedCycleReference?e.execute({newTab:i,redirect:n.altKey,inlineCycles:n.shiftKey,scrollDirect:!0,selectALink:!1,pushHistoryState:!0,scrollToParagraph:!0,noBeforeChangeScroll:!a}):e.select():e.select({scrollDirect:!0,noBeforeChangeScroll:!0}):(null===(r=e.parentLink)||void 0===r?void 0:r.select({scrollDirect:!0,noBeforeChangeScroll:!0}))||c.A.root.display({scrollDirect:!0,noBeforeChangeScroll:!0})}}}var d=t(9903),f=t(1246);function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||m(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,n){if(e){if("string"==typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?A(e,n):void 0}}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function b(e,n){if("text"===e.type)return function(e){var n=[];if(!e.text.includes("\n")){var t=document.createElement("SPAN");return t.classList.add("canopy-text-span"),t.innerText=e.text,[t]}return e.text.split("\n").forEach((function(e,t,r){if(e){var i=document.createElement("SPAN");i.classList.add("canopy-text-span"),i.innerText=e,n.push(i)}if(t!==r.length-1){var o=document.createElement("SPAN");o.classList.add("canopy-linebreak-span"),n.push(o)}})),n}(e);if("local"===e.type)return n.localLinkSubtreeCallback(e),function(e,n){var t=document.createElement("a");t.classList.add("canopy-selectable-link"),t.dataset.targetTopic=e.targetTopic,t.targetTopic=e.targetTopic,t.dataset.targetSubtopic=e.targetSubtopic,t.targetSubtopic=e.targetSubtopic,t.dataset.enclosingTopic=e.enclosingTopic,t.dataset.enclosingSubtopic=e.enclosingSubtopic,t.dataset.text=e.text;var i=document.createElement("SPAN");i.classList.add("canopy-link-content-container"),t.appendChild(i),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return i.appendChild(e)}))})),t.addEventListener("dragstart",(function(e){e.preventDefault()}));var a=h(new p.A(t));t._CanopyClickHandler=a,t.addEventListener("click",a),t.classList.add("canopy-local-link"),t.dataset.type="local";var c=new(o())(e.targetTopic),l=new(o())(e.targetSubtopic);return t.href="".concat(r.fP?"/"+r.fP:"").concat(r.T6?"/#":"","/").concat(c.url,"#").concat(l.url),[t]}(e,n);if("global"===e.type)return c.A.for(e.pathString).topicArray.map((function(e){return s(e)})),function(e,n){n.fullPath,n.remainingPath,n.currentTopic,n.currentSubtopic;var t=document.createElement("a"),r=document.createElement("SPAN");r.classList.add("canopy-link-content-container"),t.appendChild(r),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return r.appendChild(e)}))})),t.classList.add("canopy-global-link"),t.classList.add("canopy-selectable-link"),t.dataset.type="global",t.dataset.literalPathString=e.pathString,t.path=e.path,t.dataset.enclosingTopic=e.enclosingTopic,t.dataset.enclosingSubtopic=e.enclosingSubtopic,t.dataset.text=e.text,t.href=c.A.for(e.pathString).productionPathString;var i=new p.A(t),o=h(i);return t.addEventListener("click",o),t._CanopyClickHandler=o,i.isPathReference&&t.classList.add("canopy-provisional-icon-link"),setTimeout((function(){i.element&&(i.element.closest(".canopy-paragraph")||console.error("No paragraph for link",t),t.classList.remove("canopy-provisional-icon-link"),i.isBackCycle?t.classList.add("canopy-back-cycle-link"):i.isLateralCycle?t.classList.add("canopy-lateral-cycle-link"):i.isPathReference&&t.classList.add("canopy-path-reference"))})),[t]}(e,n);if("disabled_reference"===e.type)return function(e,n){var t=document.createElement("a"),r=document.createElement("SPAN");return r.classList.add("canopy-link-content-container"),t.appendChild(r),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return r.appendChild(e)}))})),t.classList.add("canopy-disabled-link"),t.dataset.type="disabled",[t]}(e,n);if("fragment_reference"===e.type)return function(e,n){var t=document.createElement("a");t.classList.add("canopy-selectable-link"),t.dataset.targetTopic=e.targetTopic,t.targetTopic=e.targetTopic,t.dataset.targetSubtopic=e.targetSubtopic,t.targetSubtopic=e.targetSubtopic,t.dataset.enclosingTopic=e.enclosingTopic,t.dataset.enclosingSubtopic=e.enclosingSubtopic,t.dataset.text=e.text,e.tokens.forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))})),t.addEventListener("dragstart",(function(e){e.preventDefault()}));var i=h(new p.A(t));t._CanopyClickHandler=i,t.addEventListener("click",i),t.classList.add("canopy-local-link"),t.dataset.type="local";var a=new(o())(e.targetTopic),c=new(o())(e.targetSubtopic);return t.href="".concat(r.fP?"/"+r.fP:"").concat(r.T6?"/#":"","/").concat(a.url,"#").concat(c.url),[t]}(e,n);if("external"===e.type)return function(e,n){var t=document.createElement("A");t.classList.add("canopy-external-link"),t.classList.add("canopy-selectable-link"),t.dataset.type="external",t.dataset.text=e.text,t.setAttribute("href",e.url),t.setAttribute("target","_blank"),t.dataset.targetUrl=e.url,setTimeout((function(){t.querySelector("img")&&t.classList.add("canopy-linked-image")}));var r=document.createElement("SPAN");return r.classList.add("canopy-link-content-container"),t.appendChild(r),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return r.appendChild(e)}))})),[t]}(e,n);if("image"===e.type)return function(e,n){var t=document.createElement("DIV");t.classList.add("canopy-image-container");var r=document.createElement("DIV");r.classList.add("canopy-image");var i=document.createElement("IMG");if(i.setAttribute("src",e.resourceUrl),i.setAttribute("decoding","async"),r.appendChild(i),e.title&&i.setAttribute("title",e.title),e.caption){var o=document.createElement("SPAN");o.classList.add("canopy-image-caption"),r.appendChild(o),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return o.appendChild(e)}))}))}return e.altText&&i.setAttribute("alt",e.altText),v(i,n),t.appendChild(r),[t]}(e,n);if("html_element"===e.type)return function(e,n){var t=document.createElement("DIV");t.classList.add("canopy-raw-html");var r=document.createRange().createContextualFragment(e.html);return t.appendChild(r),Array.from(t.querySelectorAll(".canopy-html-insertion")).forEach((function(t){var r=t.dataset.replacementNumber;e.tokenInsertions[r].forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))}))})),y(t.querySelectorAll("img")).forEach((function(e){v(e,n)})),[t]}(e,n);if("footnote_marker"===e.type)return function(e){var n=document.createElement("SUP"),t=document.createTextNode(e.text);return n.appendChild(t),[n]}(e);if("code_block"===e.type)return function(e){var n=document.createElement("PRE"),t=document.createElement("CODE");return n.appendChild(t),t.innerText=e.text,t.classList.add("canopy-code-block"),[n]}(e);if("block_quote"===e.type)return function(e,n){var t=document.createElement("BLOCKQUOTE");t.setAttribute("dir",e.direction),e.tokens.forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))}));var i=t.cloneNode(!0);y(i.querySelectorAll("*")).forEach((function(e){y(e.childNodes).forEach((function(e){if(e.nodeType===Node.TEXT_NODE&&e.textContent.length>1){var n,t=e.textContent,r=e.parentNode,i=document.createDocumentFragment(),o=function(e){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=m(e))){n&&(e=n);var t=0,r=function(){};return{s:r,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw i}}}}(t);try{for(o.s();!(n=o.n()).done;){var a=n.value,c=document.createElement("span");c.classList.add("canopy-blockquote-character"),c.textContent=a,i.appendChild(c)}}catch(e){o.e(e)}finally{o.f()}r.replaceChild(i,e)}}))}));var o=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,a=o.querySelector("p");r.m0.appendChild(o),a.appendChild(i);var c=!1,l=null;return y(i.querySelectorAll("span.canopy-blockquote-character,span.canopy-linebreak-span")).forEach((function(e,n,t){if(e.classList.contains("canopy-linebreak-span"))l=null;else{var r,i=e.getBoundingClientRect(),o=t[n-1],a=null===(r=t[n-1])||void 0===r?void 0:r.getBoundingClientRect();null==o||o.closest(".canopy-text-span"),o&&!o.classList.contains("canopy-linebreak-span")&&(null===l?l=i.right>a.right?1:-1:c=c||(i.right>a.right?1:-1)!==l)}})),a.removeChild(i),c&&t.querySelectorAll(".canopy-linebreak-span").forEach((function(e,n,t){e.classList.add("canopy-blockquote-padded-linebreak")})),[t]}(e,n);if("outline"===e.type)return C(e.topLevelNodes,n);if("table"===e.type)return function(e,n){var t=document.createElement("TABLE");t.setAttribute("dir","auto"),e.rtl&&t.setAttribute("dir","rtl"),e.rows.forEach((function(r){var i=document.createElement("TR");e.rtl&&i.setAttribute("dir","rtl"),r.forEach((function(e){var t=document.createElement("TD");e.hidden&&t.classList.add("hidden"),e.colspan&&t.setAttribute("colspan",e.colspan),e.rowspan&&t.setAttribute("rowspan",e.rowspan),e.tokens.forEach((function(r){b(r,n).forEach((function(n){1===e.tokens.length&&function e(n){return"A"===n.tagName||1===n.children.length&&e(n.children[0])}(n)&&(t.classList.add("canopy-table-link-cell"),t.classList.add("canopy-arrow-key-container"),setTimeout((function(){var e=n.parentNode.querySelector("a");e.classList.add("canopy-table-link"),e.removeEventListener("click",e._CanopyClickHandler),t.addEventListener("click",e._CanopyClickHandler)}))),t.appendChild(n)}))})),e.merge||i.appendChild(t)})),t.appendChild(i)}));var i=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,o=i.querySelector("p");r.m0.appendChild(i),o.appendChild(t);var a={widest:-1,narrowest:1/0,tallest:-1,shortest:1/0};return y(t.querySelectorAll("td")).forEach((function(e){var n=e.getAttribute("colspan"),t=e.getAttribute("rowspan");!n&&e.offsetWidth>a.widest&&(a.widest=e.offsetWidth),!n&&e.offsetWidth<a.narrowest&&(a.narrowest=e.offsetWidth),!t&&e.offsetHeight>a.tallest&&(a.tallest=e.offsetHeight),!t&&e.offsetHeight<a.shortest&&(a.shortest=e.offsetHeight)})),a.widest-a.narrowest<=100&&y(t.querySelectorAll("td")).forEach((function(e){e.style.width=a.widest+"px"})),t.dataset.widest=a.widest,t.dataset.narrowest=a.narrowest,t.dataset.widthDiff=a.widest-a.narrowest,t.dataset.standardize_width_min=100,a.tallest-a.shortest<=50&&y(t.querySelectorAll("td")).forEach((function(e){e.style.height=a.tallest+"px"})),t.dataset.tallest=a.tallest,t.dataset.shortest=a.shortest,t.dataset.heightDiff=a.tallest-a.shortest,t.dataset.standardize_height_min=50,r.m0.removeChild(i),o.removeChild(t),[t]}(e,n);if("menu"===e.type)return function(e,n){var t=document.createElement("DIV");t.classList.add("canopy-menu"),e.rtl&&(t.dir="rtl"),"right"===e.alignment&&t.classList.add("canopy-align-right"),"left"===e.alignment&&t.classList.add("canopy-align-left"),"mixed"===e.alignment&&t.classList.add("canopy-align-mixed");var i,o=["eigth-pill","quarter-pill","third-pill","half-pill","quarter-card","third-card","half-tube","half-card"],a=0,c=e.items.map((function(t,r){var i=document.createElement("DIV");i.classList.add("canopy-menu-cell");var o=document.createElement("DIV");o.classList.add("canopy-menu-content-container"),t.hidden&&(i.style.opacity="0");var a=b(t.tokens[0],n);if(a.forEach((function(n){if(1===t.tokens.length&&"A"===n.tagName){for(n.classList.add("canopy-menu-cell"),n.classList.add("canopy-menu-link-cell");n.firstChild;)o.appendChild(n.firstChild);(i=n).appendChild(o),i.addEventListener("dragstart",(function(e){return e.preventDefault()}))}else t.tokens.forEach((function(e){a.forEach((function(e){return o.appendChild(e)}))})),i.appendChild(o);(t.alignment||e.alignment)&&i.classList.add("canopy-menu-cell-".concat(t.alignment||e.alignment,"-aligned"))})),t.list){var c=document.createElement("SPAN");c.classList.add("canopy-menu-ordinal"),c.innerHTML=t.ordinal+".&nbsp;",o.prepend(c),i.classList.add("canopy-menu-ordinal-cell")}return i})),l=(new DOMParser).parseFromString('<section class="canopy-section"><p class="canopy-paragraph"></p></section>',"text/html").body.firstChild,s=l.querySelector("p"),u=m();r.m0.appendChild(l),s.appendChild(t),t.appendChild(u);for(var p=0;p<c.length;p++){var h=c[p];for(u.appendChild(h);;){a===o.indexOf("half-pill")&&e.items.length>2&&(a=o.indexOf("quarter-card")),t.classList.add("canopy-".concat(o[a]));var d=h.clientWidth-parseFloat(window.getComputedStyle(h).paddingLeft)-parseFloat(window.getComputedStyle(h).paddingRight),f=h.clientHeight-parseFloat(window.getComputedStyle(h).paddingTop)-parseFloat(window.getComputedStyle(h).paddingBottom),g=h.firstChild.scrollWidth-2*parseFloat(window.getComputedStyle(h).borderWidth),y=h.firstChild.scrollHeight-2*parseFloat(window.getComputedStyle(h).borderWidth);if(!(g>d||y>f))break;if(a>=o.length-1)break;t.classList.remove("canopy-".concat(o[a])),a++,p=0}}function m(){var n=document.createElement("DIV");return n.classList.add("canopy-menu-row"),e.rtl&&(n.dir="rtl"),t.appendChild(n),n}s.remove(),u.remove(),l.remove(),t.classList.add("canopy-".concat(o[a])),o[a].includes("half")&&(i=2),o[a].includes("third")&&(i=3),o[a].includes("quarter")&&(i=4),o[a].includes("eigth")&&(i=8);for(var A=m(),v=0;v<c.length;v++)A.appendChild(c[v]),(v+1)%i==0&&v+1!==c.length&&(A=m());if(t.childNodes.length>1)for(var C=c.length%i,k=C>0?i-C:0,w=0;w<k;w++){var x=document.createElement("DIV");x.classList.add("canopy-menu-cell"),x.style.opacity="0",A.appendChild(x)}return[t]}(e,n);if("footnote_lines"===e.type)return function(e,n){var t=document.createElement("DIV"),r=document.createElement("HR");return r.classList.add("canopy-footnote-rule"),t.appendChild(r),e.lines.forEach((function(e){var r=document.createElement("SPAN");r.classList.add("canopy-footnote-span");var i=document.createTextNode(e.superscript+". ");r.appendChild(i),e.tokens.forEach((function(e){var t=g(b(e,n),1)[0];r.appendChild(t)})),t.appendChild(r)})),[t]}(e,n);if("bold"===e.type)return function(e,n){var t=document.createElement("B");return e.tokens.forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("strikethrough"===e.type)return function(e,n){var t=document.createElement("S");return e.tokens.forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("italics"===e.type)return function(e,n){var t=document.createElement("I");return e.tokens.forEach((function(e){b(e,n).forEach((function(e){return t.appendChild(e)}))})),[t]}(e,n);if("inline_code"===e.type)return function(e){var n=document.createElement("CODE");return n.innerText=e.text,[n]}(e);if("tool_tip"===e.type)return function(e,n){var t=document.createElement("span");t.className="canopy-tooltip";var r=document.createElement("sup");r.textContent="ⓘ",r.classList.add("canopy-tooltip-icon"),t.appendChild(r);var i=document.createElement("span");return i.className="canopy-tooltiptext",i.dir="auto",e.tokens.forEach((function(e){b(e,n).forEach((function(e){return i.appendChild(e)}))})),t.appendChild(i),[t]}(e,n);throw"Unhandled token type: ".concat(e.type)}function v(e,n){var t=e.style.height,r=e.style.opacity,i=e.style.width;if(e.closest(".canopy-image"))var o=e.closest(".canopy-image").style.width;e.style.setProperty("height",d.A.visibleHeight+"px"),e.style.setProperty("width","100%"),e.style.setProperty("opacity","0"),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width","100%"),setTimeout((function(){e.complete||(e.closest(".canopy-image")||e).style.setProperty("background-color","#f5f5f5")}),200),e.addEventListener("load",(function(){((0,f.Yw)()||Promise.resolve()).then((function(){var a,l=d.A.focusedElement,s=l.getBoundingClientRect().bottom;e.style.setProperty("height",t),e.style.setProperty("width",i),e.style.setProperty("opacity",r),e.closest(".canopy-image")&&e.closest(".canopy-image").style.setProperty("width",o),null===(a=e.closest(".canopy-image"))||void 0===a||a.style.setProperty("background-color","transparent");var u=l.getBoundingClientRect().bottom-s,p=(d.A.currentScroll,d.A.currentScroll+u),h=n.pathToParagraph;c.A.current.includes(h)&&(0,f.Cj)({top:p,behavior:"instant"})}))}))}function C(e,n){var t=e[0].ordered?document.createElement("OL"):document.createElement("UL");return e[0].ordered&&t.setAttribute("type",e[0].ordinal),e.forEach((function(e){var r=document.createElement("LI");if(e.tokensOfLine.forEach((function(e){b(e,n).forEach((function(e){return r.appendChild(e)}))})),e.children.length>0){var i=g(C(e.children),1)[0];r.appendChild(i)}t.appendChild(r)})),[t]}const k=b;const w=function e(n,t,r){var i=r.paragraphsBySubtopic,a=function(e,n,t){var r=t.displayTopicName,i=t.pathDepth,o=t.paragraphsBySubtopic,a=t.pathToParagraph,c=document.createElement("section");c.classList.add("canopy-section");var l=document.createElement("p");l.classList.add("canopy-paragraph"),c.appendChild(l),c.style.display="none",c.style.opacity="0",c.dataset.displayTopicName=r,c.dataset.topicName=e.mixedCase,c.topicName=e.mixedCase,c.dataset.subtopicName=n.mixedCase,c.subtopicName=n.mixedCase,c.dataset.pathDepth=i,c.dataset.pathString=a.replaceTerminalSubtopic(n).string;var s=o[e.mixedCase];if(e.mixedCase===n.mixedCase){var u=document.createElement("hr");u.classList.add("canopy-hr"),i>0&&s.length>0&&c.prepend(u),c.classList.add("canopy-topic-section")}return c}(n,t,r),c=new u.A(a);r.localLinkSubtreeCallback=function(n,t,r){return function(i){var a=r.fullPath,c=r.remainingPath,l=(r.currentTopic,o().fromMixedCase(i.targetSubtopic)),s=a.slice(0,a.length-c.length).addSegment(n,l),u=e(n,o().fromMixedCase(i.targetSubtopic),Object.assign({pathToParagaph:s},r));t.appendChild(u)}}(n,a,r);var l=i[t.mixedCase];if(!l)throw new Error("Paragraph with subtopic not found: ".concat(t.mixedCase));return r.currentTopic=n,r.currentSubtopic=t,l.forEach((function(e){k(e,r).forEach((function(e){return c.paragraphElement.appendChild(e)}))})),a};function x(e,n){var t=new(o())(n),r=document.querySelector('h1[data-topic-name="'.concat(t.cssMixedCase,'"]'));if(r)return r;var i=document.createElement("h1");return i.dataset.topicName=t.mixedCase,i.style.display="none",i.classList.add("canopy-header"),e.forEach((function(e){k(e).forEach((function(e){return i.appendChild(e)}))})),i}function S(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return P(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?P(e,n):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var E={},T={};function O(){E={},T={}}var L=function e(n,t,i){if(0===t.length)return Promise.resolve();var o=n.slice(0,n.length-t.length+1),a=o.removeTerminalSubtopic,l=c.A.elementAtRelativePath(a,r.m0),p=(l?Promise.resolve(l):null)||E[a.string]||s(t.firstTopic).then((function(e){var r=e.paragraphsBySubtopic,i=e.displayTopicName,a=e.topicTokens;return T[t.firstTopic.mixedCase]=[a,i],w(t.firstTopic,t.firstTopic,{remainingPath:t,displayTopicName:i,paragraphsBySubtopic:r,fullPath:n,pathToParagraph:o,pathDepth:n.length-t.length})})).catch((function(e){return console.error(e),null}));E[a.string]=p;var h=Promise.all([i,p]).then((function(e){var i=S(e,2),o=i[0],l=i[1];return o&&l?(n.equals(t)&&r.m0.prepend(x.apply(void 0,T[l.dataset.topicName])),o===r.m0||c.A.connectingLinkValid(o,t)?(u.A.byPath(a)||(u.A.registerChild(l,o),u.A.registerSubtopics(l),u.A.detachSubtopics(l)),Promise.resolve(!0)):Promise.resolve(!1)):Promise.resolve()})),d=p.then((function(e){return e?t.firstSubtopic.mixedCase===e.dataset.topicName?e:e.querySelector('section[data-subtopic-name="'.concat(t.firstSubtopic.cssMixedCase,'"]'))||(null===(n=u.A.byPath(o))||void 0===n?void 0:n.sectionElement):null;var n})),f=Promise.all([h,d,i]).then((function(e){var n=S(e,2),t=n[0],r=n[1];return t&&r})),g=e(n,t.withoutFirstSegment,f);return Promise.all([p,g,h]).then((function(e){return S(e,1)[0]}))}},2593:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(1995),i={};(0,r.Ly)()&&(i[(0,r.PZ)()]=Promise.resolve(JSON.parse((0,r.Ly)())));const o=i},4015:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});const r='[Canopy/Playground]\n\n* Playground: This is a demo of Canopy.js, a library for creating interactive explanations. ([Github](https://github.com/canopy-js/canopy-js)\\)\n![Canopy.js Logo](./logo.png)\n===\n> [[Part 2|Okay]]\n===\n\nPart 2: Canopy generates interactive explanations from an easy-to-use text format.\n===\n> [[Part 2-1|Okay]]\n===\n\nPart 2-1: This content is being generated from the text on the left, which can be edited live.\n===\n> [[Part 2-2|Cool]]\n===\n\nPart 2-2: In Canopy, selecting links adds more paragraphs to the page.\n===\n> [[Part 3|I see]]\n===\n\nPart 3: Paths in Canopy can go in multiple directions.\n===\n> [[Part 4|Like this]]\n> [[Part 5|Or like this]]\n> [[Part 6|Continue]]\n===\n\nPart 4: This is one direction. [[Part 4-1|Go deeper]].\n\nPart 4-1: This is more info.\n\nPart 5: This is another direction. [[Part 5-1|Go deeper]].\n\nPart 5-1: This is even more info.\n\nPart 6: Links and buttons can redirect the user to a different part of the tree.\n===\n> [[Part 6-1|Go here first]]\n> [[Part 6-2|You\'ll be taken here]]\n===\n\nPart 6-1:\n===\n< [[Part 6-1-A|Go deeper]]\n===\n\nPart 6-1-A:\n===\n< [[Part 6-1-B|Go deeper]]\n===\n\nPart 6-1-B:\n===\n< [[Part 6-1-C|Go deeper]]\n===\n\nPart 6-1-C:\n===\n< [[#Part 6-2-C|Go somewhere else]]\n===\n\nPart 6-2:\n===\n> [[Part 6-2-A|Down]]\n===\n\nPart 6-2-A:\n===\n> [[Part 6-2-B|Down]]\n===\n\nPart 6-2-B:\n===\n> [[Part 6-2-C|Down]]\n===\n\nPart 6-2-C: Welcome to this other part!\n===\n> [[Part 7|Thanks]]\n===\n\nPart 7: Why might you use Canopy?\n===\n> [[Part 7-1|Tell me!]]\n===\n\nPart 7-1: Canopy allows you to create explanations that are customized to each reader, like this:\n===\n> [[Part 7-2|I love detail]]\n> [[Part 7-3|I hate detail!]]\n===\n\nPart 7-2: Here it is!\n\nPart 7-3: You won’t see any!\n===\n> [[Part 8|What else can it do?]]\n===\n\nPart 8: Let’s use Canopy to reuse content across different explanations.\n===\n> [[Part 8-1|Okay]]\n===\n\nPart 8-1: Try holding the *option or alt key* and clicking the link below.\n- Here is an explanation of the [[{Atlantic Ocean}#Part 1]]\n===\n> [[Part 9|I’m finished]]\n===\n\nPart 9: *Welcome back!* See, we’ve returned to where we started before all that Oceans business.\n===\n> [[Part 9-1|Great!]]\n===\n\nPart 9-1: So, now you’ve seen the main feature set of Canopy.\n===\n> [[Part 9-2|Correct]]\n===\n\nPart 9-2: So, you’re probably thinking, “Amazing! But, what would I actually use this for?”\n===\n> [[Part 9-3|True]]\n===\n\nPart 9-3: The answer is, Canopy is a good fit for any domain that is:\n1. Detailed\n2. Broad\n3. Highly-interconnected\n4. Where different parts are relevant to different users\n===\n> [[Part 10|Interesting]]\n===\n\nPart 10: Lets see some examples.\n===\n> [[Part 10 Cities|Okay]]\n===\n\nPart 10 Cities: *Example 1/6:* Canopy might be a good fit for interconnected geographic and historical information.\n===\n> [[Cities|Let’s see]]\n> [[Part 10 Software|Next]]\n===\n\nPart 10 Software: *Example 2/6:* Another application area is documenting large software projects.\n===\n> [[MailerApp|Let’s see]]\n> [[Part 10 Blogs|Next]]\n===\n\nPart 10 Blogs: *Example 3/6:* Canopy could also be useful for large personal writing projects.\n===\n> [[Blogs|Let’s see]]\n> [[Part 10 Mergers|Next]]\n===\n\nPart 10 Mergers: *Example 4/6:* Canopy could be useful for “merging” the points made in various primary sources.\n===\n> [[Noise pollution law|Let’s see]]\n> [[Part 10 Libraries|Next]]\n===\n\nPart 10 Libraries: *Example 5/6:* Canopy could be used as a tool in libraries.\n===\n> [[Libraries|Let’s see]]\n> [[Part 10 Memorization|Next]]\n===\n\nPart 10 Memorization: *Example 6/6:* Canopy could be used for memorization.\n===\n> [[Memorization|Let’s see]]\n> [[Part 11|Finish]]\n===\n\nPart 11: 👋 That’s all for now! Click here to [learn more about Canopy.js](https://github.com/canopy-js/canopy-js) or get in touch at `hello at canopyjs dot org`.\n\n[MailerApp]\n\n* MailerApp: “MailerApp” is a tool for managing email lists.\n===\n- [[History]]\n- [[Features]]\n- [[Patterns]]\n- [[Code]]\n===\n\nHistory: MailCorp’s history includes the [[1998 BigCorpCustomer Feature Request]].\n\n1998 BigCorpCustomer Feature Request:\nOn May 1st 1998 BigCorpCustomer asked to be able to send emails, and so we decided to implement the [[{#|}{{message scheduling}} feature]]\n===\n> [[Playground#Part 10 Blogs|Done]]\n===\n\nFeatures: A major feature of MailerApp is [[message scheduling]].\n\nMessage scheduling: Message scheduling is when a user logs in to the app, creates a message, and schedules it to be sent.\n- This functionality is implemented using a [[#sending queue]]\n- The message scheduling functionality was designed in response to the [[#1998 BigCorpCustomer Feature Request]]\n===\n> [[Playground#Part 10 Blogs|Done]]\n===\n\nPatterns: The app uses certain design patterns to produce the feature set.\n- One such pattern is the [[MailerApp {{sending queue}}]].\n\nSending queue: MailerApp uses a “sending queue” to allow a user to schedule emails to be sent.\n- The job of the queue is to keep track of a list of messages the user has scheduled, and whether they have been sent yet.\n- The queue must be checked periodically to see if there are unsent messages, and to send them.\n- These concepts are implemented in the using [[#SendWorker class]] and the [[#PendingMessages database table]]\n===\n> [[Playground#Part 10 Blogs|Done]]\n===\n\nCode: The code base has a [[`SendWorker` class]], and a [[`PendingMessages` database table]].\n\nSendWorker class: The `SendWorker` class periodically checks the `PendingMessages` table of the database and makes a SMPT request when it sees a record with `sent` set to false.\n- The `SendWorker` class relies on the [[#PendingMessages database table]].\n- The `SendWorker` class is part of the implementation of the app’s [[#sending queue]]\n===\n> [[Playground#Part 10 Blogs|Done]]\n===\n\nPendingMessages database table: There is a `PendingMessages` database table:\n- The `PendingMessages` table has a `text` field for the text of the email.\n- The `PendingMessages` table has a `sent` boolean field to indicate whether the message has been sent yet.\n- The PendingMessages table is used by the [[#SendWorker class]]\n- The SendWorker class is part of the implementation of the app’s [[#sending queue]]\n===\n> [[Playground#Part 10 Blogs|Done]]\n===\n\n\n[Oceans]\n\n* Atlantic Ocean: Now we have started a new explanation about the Atlantic Ocean!\n===\n- [[Part 1|More]]\n- [[Part 2|For later]]\n===\n\nPart 1:\n*Click the following link:*\n- The Atlantic ocean connects via the Panama Canal to the [[{Pacific Ocean}#Part 1]]\n![Atlantic Ocean](https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/1710_De_La_Feuille_Map_of_Africa_-_Geographicus_-_Africa-lafeuille-1710.jpg/1920px-1710_De_La_Feuille_Map_of_Africa_-_Geographicus_-_Africa-lafeuille-1710.jpg "Atlantic Ocean" "Credit Wikipedia")\n\nPart 2: Our explanation of the Pacific Ocean has extended to include an explanation of the Atlantic on the same page.\n===\n> [[Part 2-1|Wow!]]\n===\n![Atlantic Ocean](https://upload.wikimedia.org/wikipedia/commons/thumb/6/62/1710_De_La_Feuille_Map_of_Africa_-_Geographicus_-_Africa-lafeuille-1710.jpg/1920px-1710_De_La_Feuille_Map_of_Africa_-_Geographicus_-_Africa-lafeuille-1710.jpg "Atlantic Ocean" "Credit Wikipedia")\n\nPart 2-1: So, we see that our explanation of the Atlantic Ocean can get included in an explanation of the Pacific Ocean, and vice versa.\n===\n> [[Part 2-2|Yes]]\n===\n\nPart 2-2: So, in Canopy, different explanations starting from different origins can encompass the same material.\n===\n> [[Part 2-3|I see]]\n===\n\nPart 2-3:\nGreat, now let’s go back to where we were before this tangent.\n===\n> [[Playground#Part 9|Take me back]]\n===\n\n\n* Pacific Ocean: This is an explanation of the Pacific Ocean:\n===\n- [[Part 1|More]]\n- [[Part 2|For later]]\n===\n\nPart 1: This is an explanation of the Pacific Ocean which is continuing from our explanation of the Atlantic Ocean that began earlier on the page.\n- Now, click the following link while holding the *option or alt* key:\n- We’re going to start a new explanation about [[{|the }{Pacific Ocean}#Part 2]]\n![Pacific Ocean](https://upload.wikimedia.org/wikipedia/commons/4/4e/Ortelius_-_Maris_Pacifici_1589.jpg "Pacific Ocean" "Credit Wikipedia")\n\nPart 2: Now we’re reading a new explanation, starting from the Pacific Ocean this time.\nClick the following link *normally*:\n- The Pacific Ocean connects via the Panama Canal to the [[{Atlantic Ocean}#Part 2]]\n![Pacific Ocean](https://upload.wikimedia.org/wikipedia/commons/4/4e/Ortelius_-_Maris_Pacifici_1589.jpg "Pacific Ocean" "Credit Wikipedia")\n\n[NYC]\n\n* Cities: Canopy can organize historical information geographically. Let’s see an example:\n===\n- [[New York City]]\n===\n\n* New York City: New York City has various neighborhoods.\n===\n- [[Greenwich Village]]\n- [[Midtown Manhattan]]\n===\n\n* Greenwich Village: Greenwich Village has various historic landmarks.\n===\n- [[Jefferson Market Library]]\n===\n\n* Jefferson Market Library: Jefferson Market library is a library in [[Greenwich village]]\n![Jefferson Market Courthouse](https://www.nypap.org/wp-content/uploads/2016/04/JeffersonMarketCourthouse.jpg "Jefferson Market Courthouse" "1960, Cervin Robinson / Library of Congress, [Source](https://www.nypap.org/preservation-history/jefferson-market-courthouse/)")\n- Jefferson Market Library is housed in the former Jefferson Market Courthouse, situated at 10th Street and 6th Avenue on the border of Greenwich Village, Manhattan.\n- Jefferson Market Courthouse was the location of "the trial of the century" judicating [[Stanford White’s death|the death of architect Stanford White]].\n===\n> [[Playground#Part 10 Software|Finish]]\n===\n\n* Midtown Manhattan: Midtown is a major neighborhood in Manhattan with various landmarks.\n===\n- [[Madison Square Garden]]\n===\n\n* Madison Square Garden: Madison Square Garden has been the name of three stadiums in [[midtown Manhattan]].\n===\n- [[“Second” Madison Square Garden]]\n===\n\n* “Second” Madison Square Garden: The second Madison Square garden was a Manhattan stadium operating 1890–1926.\n![Second Madison Square Garden](https://upload.wikimedia.org/wikipedia/commons/a/af/Interior_of_Madison_Square_Garden_at_night%2C_from_Robert_N._Dennis_collection_of_stereoscopic_views_crop.jpg "Second Madison Square Garden" "1905, [Source](https://en.wikipedia.org/wiki/Madison_Square_Garden_(1890)#/media/File:Interior_of_Madison_Square_Garden_at_night,_from_Robert_N._Dennis_collection_of_stereoscopic_views_crop.jpg)")\n- The second Madison Square Garden was built 26th Street and Madison Avenue of [[Midtown Manhattan]].\n- The stadium was built by architect Stanford White.\n- Madison Square Garden was also the site of [[Stanford White’s death]].\n===\n> [[Playground#Part 10 Software|Finish]]\n===\n\n* Stanford White’s death:\nIn 1906 Archetect Stanford White was shot by Harry Kendall Thaw.\n- This was due to White’s relationship with Shaw’s wife Evelyn Nesbit.\n- The attack occurred on the roof of the [[{{second Madison Square Garden}} building]].\n- The trial was held in [[Jefferson Market {Library|Courthouse}]].\n- The story was adapted to novel and stage as Ragtime.\n===\n> [[Playground#Part 10 Software|Finish]]\n===\n\n[Noise Pollution]\n\n* Noise pollution law: The Townsville Herald has publishd three op-eds on the subject of the noise pollution law.\n- [[Op-ed \\#1]]\n- [[Op-ed \\#2]]\n- [[Op-ed \\#3]]\nLet’s take all the points these articles make and merge them into one tree.\n===\n> [[Noise pollution tree|See merger]]\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nOp-ed #1: This is op-ed #1, written by Coolidge Cunningham.\n> To whom it may concern:\n> It was with my great pleasure that I heard news of the city council’s discussion of a noise pollution bill. As a long-time resident of Townsville, I have for many years been encumbered by the unpleasant musical selections of my neighbors.\n> The playing of loud music disrupts sleep which costs the town valuable economic productivity. Moreover, it disrupts family meals and communal gatherings.\n> It may be seen as an incursion on the freedoms of residents to ban loud music, however, it is mainly necessary during the town\'s busy holiday season, and residents can always use headphones.\n> In my opinion, even music as quiet as that of speaking voice, around 60 decibels, should be banned, and it should be active at all times of day, as some people work night shifts and are asleep during that time.\n>\n> All the best,\n> Mr\\. Coolidge Cunningham\n\nOp-ed #2: This is op-ed #2, written by Jill Jamaica.\n> Hello Townsville neighbors.\n> I was very surprised to hear discussion of a music ban in the paper. In my view, this is a total non-issue. People who don\'t like music can always wear earplugs. This policy erodes the freedoms of Townsville residents, and is a slippery slope to police regulation of all private activity.\n> Supports of the law are ignoring the importance of public music-playing in giving our town its distinctive cultural flavor.\n> I don\'t think the policy is necessary, but if it is passed, I feel strongly that it should only apply very late at night, for example between 11PM and 5AM when most people are sleeping.\n> Thanks, Jill\n\nOp-ed #3: This is op-ed #3, written by Amble Orangutan.\n> My thanks are due to the Townsville Herald for orchestrating such an interesting series of writings on the city noise bill!\n> My feelings are mixed. On the one hand, I see the benefit of such a bill as benefiting early sleepers of Townsville.\n> I second sentiments that the bill should focus on the summer tourist season, as during the spring harvest, it might hamper necessary agricultural activity that cannot be done in a quiet way. Additionally, I don\'t think we need private citizens to play music in order to produce a distinctive culture as we have many other distinctive features.\n> Given that the police of Townsville are trusted members of the community and that it is such a small town, I do not think the legislation would expand into greater restrictions.\n> Lastly, I think the bill should target only the loudest noises, such as in the 100 decibel range, as we do not have the police presence to regulate more than that.\n> Yours, Amble\n\nNoise pollution tree:\nTownsville is considering a law to ban noise pollution.\n===\n- [[Arguments for the law]]\n- [[Arguments against the law]]\n- [[Discussion of details]]\n===\n\nArguments for the law: Residents of Townsville have put forward various arguments for a noise pollution law.\n===\n- [[Economics]]\n- [[Assemblies]]\n===\n\nEconomics:\nOne benefit of the legislation mentioned involves economics:\n- [[Some discussed improved sleep as an economic boon]].\n- [[Some worried a noise ban would disrupt the harvest]].\n\nSome discussed improved sleep as an economic boon:\nSome commentators discussed how a noise ban might improve the economy through improved sleep:\n- Mr. Cunningham lists economic productivity resulting from greater sleep as an argument for the law.\n- On the other hand, Ms. Jamaica pointed out that affected persons can wear earplugs, protecting sleep without a ban.\n- Additionally, the 11PM-5AM compromise mentioned by Ms. Jamaica might be sufficient to handle sleep-related concerns.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nSome worried a noise ban would disrupt the harvest:\nSome commentators worried a noise ban would disrupt the harvest:\n- Mr. Orangutan points out that a broad noise ban might impede necessary agricultural work during the local harvest.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\n\nAssemblies:\nOne benefit of a noise ban involves assemblies:\n- [[Mr. Cunningham argues a noise ban would reduce disruption of family meals and communal gatherings]].\n\nMr\\. Cunningham argues a noise ban would reduce disruption of family meals and communal gatherings:\nAccording to Mr. Cunningham, a noise ban would improve family meals and communal gatherings.\n- [[What about Ms. Jamaica\'s earplug suggestion?]]\n- [[What about Ms. Jamaica\'s late-night compromise ban?]]\n\nWhat about Ms\\. Jamaica\'s earplug suggestion?\nMs\\. Jamaica had suggested earplugs instead of a noise ban.\n- However, that wouldn\'t really work for family meals and communal gatherings.\n- So, Mr. Cunningham’s case is a unique reason for a noise ban that earplugs wouldn’t help with.\n\nWhat about Ms\\. Jamaica\'s late-night compromise ban?\nMs\\. Jamaica had suggested a ban of noise only from 11PM-5AM.\n- However, such a ban during the late night wouldn\'t help very much with the family meals and communal gatherings that Mr Cunningham is discussing.\n- So, Mr. Cunningham’s case is a unique reason for a general noise ban that a late-night ban wouldn’t help with.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nArguments against the law: Residents of Townsville have put forward various arguments against a noise pollution law.\nResidents of Townsville have put forward various arguments against a noise pollution law.\n===\n- [[Restriction of freedom]]\n- [[Town culture]]\n===\n\nRestriction of freedom:\nOne argument raised against the proposal is that it restricts the freedom of town residents:\n- Ms. Jamaica mentioned that the law might create a precedent for regulating the private lives of Townsville residents.\n- [[Others find this concern unlikely]].\n- [[Others dispute the degree of the imposition on freedoms]]\n\nOthers find this concern unlikely:\nVarious other commentators are unconcerned that a noise ban would spiral into greater regulation:\n- Mr. Orangutan opines that the small size of Townsville makes spiraling regulation less likely.\n- Mr. Orangutan mentions that close resident-police relationships also makes the concern less pressing.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nOthers dispute the degree of the imposition on freedoms:\nMr\\. Cunningham suggests that a narrow holiday-season ban would not be such a restriction on freedoms in the first place.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nTown culture:\nOne argument raised against the proposal is that public music playing produces a distinctive town culture:\n- [[Ms. Jamaica makes such an argument in her op-ed]].\n\nMs\\. Jamaica makes such an argument in her op-ed:\nMr\\. Orangutan however suggests that public music-playing is not necessary to have a distinctive town culture due to the town\'s many other qualities.\n\nDiscussion of details: The residents of Townsville have argued about the details of the noise pollution law.\n===\n- [[Volume]]\n- [[Time of day]]\n- [[Seasons]]\n===\n\nVolume: Residents of Townsville have debated the ideal maximum volume of a noise pollution law.\n- Mr. Cunningham wanted a wide-ranging ban of sounds louder than 60 decibels.\n- Mr. Orangutan wanted a more limited ban of only noises over 100 decibels.\n  - This was due to the suggestion that there aren\'t enough police to enforce a wider ban.\n- Ms. Jamaica opposed a ban of any volume.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nTime of day: Residents of Townsville have debated what time the noise pollution law should be active.\n- Some supported [[an {{all-day ban}}]].\n- Some suggested [[late-night-only ban]].\n\nAll-day ban:\nSome Townsville residents support an all-day noise ban:\n- Mr Cunningham suggested that the ban should cover all times of day.\n- This was because some people work night shifts and sleep during the day.\n- Additionally, Mr. Cunningham lists family meals and communal gatherings as a reason for the ban, and these occur at various times requiring a broad ban.\n\nLate-night-only ban:\nSome Townsville residents support only a late-night noise ban:\n- Ms. Jamaica opposed any ban, but suggested a compromise of a ban covering only 11PM-5AM.\n- This would satisfy some of Mr. Cunningham\'s concern for disrupted sleep.\n- However, this would not assuage his concerns about noise disrupting family meals and communal get-togethers.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\nSeasons:\nResidents of Townsville have debated what seasons of the year the noise pollution law should apply.\n- Mr. Cunningham who supports a strong ban nevertheless only thinks one is necessary during the summer tourist season.\n- Mr. Orangutan adds a reason for a summer-specific ban, namely that a ban in springtime might impede the loud but necessary agricultural harvest.\n===\n> [[Playground#Part 10 Libraries|Finished]]\n===\n\n[Blogs]\n\nBlogs: Canopy would let an author organize all their views in one place.\n- Each reader would get a customized path through the content.\n- The author can include smaller and more tangential points than prose articles would allow.\n- The overall work could be much larger than an article or book.\n===\n> [[Blogs 3|Okay]]\n===\n\nBlogs 3: Let’s see an example. Blogger “Maynard” wants to explain daily news in light of economic theory.\n===\n> [[Maynard|Okay]]\n> [[Playground#Part 10 Mergers|I\'m finished]]\n===\n\n* Maynard: Welcome to Maynard\'s Canopy blog, "The Main Yard."\n===\n- [[Read about news]]\n- [[Read about concepts]]\n===\n\n* Read about news:\nHere are some recent news stories:\n===\n- [[7\\/12: Townsville unveils recycling incentive]]\n- [[7\\/5: Cat-themed toys selling at discount]]\n- [[7\\/22: Bread prices rise in summer]]\n===\n\n* 7/12\\: Townsville unveils recycling incentive:\nFrom the Townsville Herald (7/12):\n> The city of Townsville recently unveiled a new incentive for residents to recycle.\n> Starting Monday, residents who bring their used beer bottles to the department of public works will have the original cost of the beer fully covered.\n> This incentive is expected to increase participation in the town\'s existing recycling initiatives.\n===\n- [[Commentary]]\n===\n\nCommentary:\nMaynard: This would be a good time to learn about the concept of “incentives.”\n- Specifically perverse incentives, where a reward for a certain behavior can increase that behavior more than the regulator intended.\n- Here, Townsville thinks that they are incentivizing recycling, when in fact their incentive is so generous, they may increase the consumption of beer itself, causing a lot of unintended side-effects.\n===\n- [[Learn more about<br>{{incentives}}]]\n- [[Maynard|Back to top]]\n===\n\n* 7/5\\: Cat-themed toys selling at discount:\nFrom the Townsville Journal (7/5):\n> Who would have ever predicted it? Last year at this time, we reported a surge in prices for cat-themed childrens’ toys. Backpacks, socks, dolls, anywhere a parent could look, this trend was dominating the market.\n> This summer, however, these goods are being found for prices even less than unbranded merchandise.\n> One might claim that this is due to a change in fads, but our reporters have documented that Townsville schools are as full of cat-themed clothing as ever.\n> It would seem as though Townsville is experiencing a market-mystery.\n===\n- [[Commentary]]\n===\n\nCommentary:\nMaynard: This mystery might be easily solved.\n- Why might a good that is still popular go down in price? This might be a classic example of overproduction leading to oversupply.\n- Even if demand has increased for cat-themed goods, if too many producers got in on the trend, it could be that the supply increased more than demand.\n- This would cause prices to decrease despite the increase in demand.\n===\n- [[Learn more about<br>{{supply and demand}}]]\n- [[Maynard|Back to top]]\n===\n\n* 7/22\\: Bread prices rise in summer:\nFrom the Townsville Gazette (7/22):\n> Bread prices in Townsville have reached an all-time high this summer, with a loaf of sourdough reaching $11, up from $4.50 last year at this time.\n> Analysts have blamed the price increase of bread on underlying increases in the price of wheat, which is also rising to all-time highs this summer.\n===\n- [[Commentary]]\n===\n\nCommentary:\nMaynard: And why might the price of wheat be increasing?\n- Well, wheat can be used for bread or for beer. When Townsville recently increased its [[7\\/12\\: Townsville unveils recycling incentive|incentives for beer-bottle recycling]], it may have unwittingly increased demand for beer significantly.\n- When demand increases for a product that requires a resource like wheat, all other products that use that resource also go up in price.\n- So, this news story is a classic example of economic scarcity.\n===\n- [[Learn more about<br>economic {{scarcity}}]]\n- [[Maynard|Back to top]]\n===\n\n* Read about concepts:\nHere are some economic concepts and news stories that demonstrate them:\n===\n- [[Incentives]]\n- [[Scarcity]]\n- [[Supply and Demand]]\n===\n\n* Incentives: In economic theory, incentives are when a regulator or private actor offers a reward or punishment for another party to engage in a certain action.\n- Incentives are a way of encouraging or discouraging a given behavior.\n- Incentives can accidentally become [[perverse incentives]].\n\n* Perverse Incentives:\nPerverse incentives are a type of [[incentives|economic incentive]].\n- Perverse incentives occur when a regulator encourages a behavior accidentally, resulting in behavior that goes counter to the regulator\'s goal.\n- A classic example of a perverse incentive would be a town paying people to kill snakes, leading to the breeding of snakes to receive the incentive.\n===\n- [[{Examples in the news} of perverse incentives]]\n===\n\nExamples in the news of perverse incentives:\nHere are examples in the news of perverse incentives:\n- [[7\\/12: Townsville unveils recycling incentive]]\n\n* Scarcity: Scarcity is the concept that many economic resources are limited, and decisions must be made regarding how to allocate them.\n- A corollary of the concept of scarcity is that use of a resource for one application trades off with its use for other applications.\n- An example would be that water can be used for household showers, or for agriculture, and if water is limited one might trade off with the other.\n===\n- [[{Examples in the news} of scarcity]]\n===\n\nExamples in the news of scarcity:\nHere are examples in the news of scarcity:\n- [[7\\/22: Bread prices rise in summer]]\n\n\n* Supply and Demand: “Supply and demand” is a fundamental concept of economics.\n- The theory of supply and demand suggests that prices are dictated by the interplay between how many people want to purchase a good and how many people have it to sell.\n- Higher demand for a good allows producers to sell it for a higher price.\n- Higher supply of a good allows buyers to find it for less money.\n- Actual prices would be a result of these two market forces.\n===\n- [[{Examples in the news} of supply and demand]]\n===\n\nExamples in the news of supply and demand:\nHere are examples in the news of supply and demand:\n- [[7\\/5: Cat-themed toys selling at discount]]\n\n\n[Memorization]\n\n* Memorization: Canopy can help people memorize and retain information.\n===\n> [[Memorization 2|How so?]]\n===\n\nMemorization 2: Well, spatial memory is one of the strongest forms of memory.\n===\n> [[Memorization 3|Okay]]\n===\n\nMemorization 3: And, because Canopy organizes information in trees, many ideas can be visually presented in a single spatial display.\n===\n> [[Memorization 4|Let’s see an example]]\n===\n\nMemorization 4: Let\'s try to remember some information, first without Canopy, and then with it.\n===\n- [[Without Canopy]]\n- [[With Canopy]]\n===\n\nWithout Canopy:\nPlease try to remember the following emoji sequence:<br><br>\n<div style="font-size: 80px">☃️🌹⭐️🐠💍☂️🕶🐶🦋🧢🧣🧤🧦🩴</div>\n===\n> [[Without Canopy 2|That’s hard]]\n===\n\nWithout Canopy 2: Okay, well try it with Canopy.\n===\n> [[#With Canopy]]\n===\n\nWith Canopy: Let’s divide the emojis into “spatial” subcategories.\n|[[A|<div style="font-size: 60px">☃️</div>]]|[[B|<div style="font-size: 60px">🐶</div>]]|\n\nA:\n|[[A1|<div style="font-size: 60px">🌹</div>]]|[[A2|<div style="font-size: 60px">⭐️</div>]]|\n\nA1:\n|<div style="font-size: 60px">🐠</div>|<div style="font-size: 60px">💍</div>|\nDoes that seem easier?\n===\n> [[Canopy Memorization|A bit]]\n===\n\nA2:\n|<div style="font-size: 60px">☂️</div>|<div style="font-size: 60px">🕶</div>|\nDoes that seem easier?\n===\n> [[Canopy Memorization|A bit]]\n===\n\nB:\n|[[B1|<div style="font-size: 60px">🦋</div>]]|[[B2|<div style="font-size: 60px">🧢</div>]]|\n\nB1:\n|<div style="font-size: 60px">🧣</div>|<div style="font-size: 60px">🧤</div>|\nDoes that seem easier?\n===\n> [[Canopy Memorization|A bit]]\n===\n\nB2:\n|<div style="font-size: 60px">🧦</div>|<div style="font-size: 60px">🩴</div>|\nDoes that seem easier?\n===\n> [[Canopy Memorization|A bit]]\n===\n\n\n* Canopy Memorization: Well it’s still going to be work, but memorizing spatially related information is definitely easier than memorizing a regular list.\n===\n> [[Part 2|Ok]]\n===\n\nPart 2: When reading information in Canopy, information is presented spatially as a network of small bite-sized ideas.\n===\n> [[Part 3|Ok]]\n===\n\nPart 3:\nThis makes it easier to internalize and recall, and to find something again later.\n===\n> [[Playground#Part 11|Got it]]\n===\n\n[Libraries]\n\n* Libraries: Let’s look at an example.\n===\n- [[Science]]\n- [[History]]\n- [[Lifestyle]]\n===\n\n* Science:\n===\n- [[Neuroscience]]\n===\n\nNeuroscience:\n===\n- [[Brain Regions]]\n===\n\nBrain Regions:\n===\n- [[Hypothalamus]]\n===\n\nHypothalamus:\n===\n- [[{Behaviors} of Hypothalamus]]\n===\n\nBehaviors of Hypothalamus:\n===\n- [[{Role }of Hypothalamus {in Sleep}]]\n===\n\nRole of Hypothalamus in Sleep:\nThe hypothalamus has a large role in sleep:\n- It receives light information from the retina.\n- When enough time has passed without seeing bright light, the hypothalamus causes the release of melatonin from the pineal gland.\n- This mechanism was documented in [[Moore{|,} 1974]].\n\n* History:\n===\n- [[History of Academia]]\n===\n\nHistory of Academia:\n===\n- [[Historical Publications]]\n===\n\nHistorical Publications:\n===\n- [[Psychology Publications]]\n===\n\nPsychology Publications:\n===\n- [[Brain Research journal]]\n===\n\nBrain Research journal:\n===\n- [[Brain Research {May 1974}]]\n===\n\nBrain Research May 1974:\nThe May 1974 issue of publisher Elsevier’s “Brain Research” journal included:\n- [[Moore 1974|Moore and Klein: Visual pathways and the central neural control of a circadian rhythm in pineal serotonin N-acetyltransferase activity]]\n\n\n* Lifestyle:\n===\n- [[Health]]\n===\n\nHealth:\n===\n- [[Sleep]]\n===\n\nSleep:\n===\n- [[Sleep Tips]]\n===\n\nSleep Tips:\n===\n- [[Reducing light]]\n===\n\nReducing light:\nOne of the most impactful things a person can do to improve sleep is to reduce exposure to light close to bedtime.\n- This is because bright light causes the hypothalamus to inhibit melatonin release.\n- This mechanism was first described in [[Moore 1974]].\n\n* Moore 1974: Appearing in _Elsevier’s_ May 1974 edition of the journal _Brain Research_, Robert Y. Moore and David C. Klein published “Visual pathways and the central neural control of a circadian rhythm in pineal serotonin N-acetyltransferase activity” [(Link)](https://www.sciencedirect.com/science/article/abs/pii/0006899374901887)\n<br><br>\nThe study documented how the hypothalamus detects darkness via the retina and causes the pineal gland to release precursors to melatonin.\n<br>Abstract:\n> The pineal enzyme, serotonin N-acetyltransferase, exhibits a circadian rhythm of activity with nocturnal levels 15–30 times greater than those observed during a light period in the rat. This rhythm has been shown to be under visual control mediated by the sympathetic innervation to the pineal. The present study examined the participation of visual pathways and other central mechanisms in the regulation of pineal serotonin N-acetyltransferase activity. Following destruction of all visual pathways by blinding, the rhythm in enzyme activity is no longer controlled by the pattern of diurnal lighting and becomes free-running. Destruction of the primary optic tracts, the accessory optic tracts, or both of these components of the central retinal projection together, does not alter visual entrainment of the enzyme rhythm. In the absence of these pathways the only central retinal projection known to exist is a retinohypothalamic pathway branching directly off the optic chiasm to terminate bilaterally in the suprachiasmatic hypothalamic nuclei.\n===\n> [[Libraries|Try again]]\n> [[Playground#Part 10 Memorization|Finish]]\n===\n\n[Chemistry]\n\n* Chemical Element: A chemical element is a substance that cannot be broken down further by chemical reactions.'},9436:(e,n,t)=>{"use strict";e=t.nmd(e);const r=(e,n)=>(...t)=>`[${e(...t)+n}m`,i=(e,n)=>(...t)=>{const r=e(...t);return`[${38+n};5;${r}m`},o=(e,n)=>(...t)=>{const r=e(...t);return`[${38+n};2;${r[0]};${r[1]};${r[2]}m`},a=e=>e,c=(e,n,t)=>[e,n,t],l=(e,n,t)=>{Object.defineProperty(e,n,{get:()=>{const r=t();return Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0}),r},enumerable:!0,configurable:!0})};let s;const u=(e,n,r,i)=>{void 0===s&&(s=t(7881));const o=i?10:0,a={};for(const[t,i]of Object.entries(s)){const c="ansi16"===t?"ansi":t;t===n?a[c]=e(r,o):"object"==typeof i&&(a[c]=e(i[n],o))}return a};Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,n={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};n.color.gray=n.color.blackBright,n.bgColor.bgGray=n.bgColor.bgBlackBright,n.color.grey=n.color.blackBright,n.bgColor.bgGrey=n.bgColor.bgBlackBright;for(const[t,r]of Object.entries(n)){for(const[t,i]of Object.entries(r))n[t]={open:`[${i[0]}m`,close:`[${i[1]}m`},r[t]=n[t],e.set(i[0],i[1]);Object.defineProperty(n,t,{value:r,enumerable:!1})}return Object.defineProperty(n,"codes",{value:e,enumerable:!1}),n.color.close="[39m",n.bgColor.close="[49m",l(n.color,"ansi",(()=>u(r,"ansi16",a,!1))),l(n.color,"ansi256",(()=>u(i,"ansi256",a,!1))),l(n.color,"ansi16m",(()=>u(o,"rgb",c,!1))),l(n.bgColor,"ansi",(()=>u(r,"ansi16",a,!0))),l(n.bgColor,"ansi256",(()=>u(i,"ansi256",a,!0))),l(n.bgColor,"ansi16m",(()=>u(o,"rgb",c,!0))),n}})},6264:(e,n,t)=>{const r=t(905),i={};for(const e of Object.keys(r))i[r[e]]=e;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const e of Object.keys(o)){if(!("channels"in o[e]))throw new Error("missing channels property: "+e);if(!("labels"in o[e]))throw new Error("missing channel labels property: "+e);if(o[e].labels.length!==o[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:n,labels:t}=o[e];delete o[e].channels,delete o[e].labels,Object.defineProperty(o[e],"channels",{value:n}),Object.defineProperty(o[e],"labels",{value:t})}o.rgb.hsl=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(n,t,r),o=Math.max(n,t,r),a=o-i;let c,l;o===i?c=0:n===o?c=(t-r)/a:t===o?c=2+(r-n)/a:r===o&&(c=4+(n-t)/a),c=Math.min(60*c,360),c<0&&(c+=360);const s=(i+o)/2;return l=o===i?0:s<=.5?a/(o+i):a/(2-o-i),[c,100*l,100*s]},o.rgb.hsv=function(e){let n,t,r,i,o;const a=e[0]/255,c=e[1]/255,l=e[2]/255,s=Math.max(a,c,l),u=s-Math.min(a,c,l),p=function(e){return(s-e)/6/u+.5};return 0===u?(i=0,o=0):(o=u/s,n=p(a),t=p(c),r=p(l),a===s?i=r-t:c===s?i=1/3+n-r:l===s&&(i=2/3+t-n),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*s]},o.rgb.hwb=function(e){const n=e[0],t=e[1];let r=e[2];const i=o.rgb.hsl(e)[0],a=1/255*Math.min(n,Math.min(t,r));return r=1-1/255*Math.max(n,Math.max(t,r)),[i,100*a,100*r]},o.rgb.cmyk=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.min(1-n,1-t,1-r);return[100*((1-n-i)/(1-i)||0),100*((1-t-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const n=i[e];if(n)return n;let t,o=1/0;for(const n of Object.keys(r)){const i=(c=r[n],((a=e)[0]-c[0])**2+(a[1]-c[1])**2+(a[2]-c[2])**2);i<o&&(o=i,t=n)}var a,c;return t},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let n=e[0]/255,t=e[1]/255,r=e[2]/255;return n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,[100*(.4124*n+.3576*t+.1805*r),100*(.2126*n+.7152*t+.0722*r),100*(.0193*n+.1192*t+.9505*r)]},o.rgb.lab=function(e){const n=o.rgb.xyz(e);let t=n[0],r=n[1],i=n[2];return t/=95.047,r/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*r-16,500*(t-r),200*(r-i)]},o.hsl.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;let i,o,a;if(0===t)return a=255*r,[a,a,a];i=r<.5?r*(1+t):r+t-r*t;const c=2*r-i,l=[0,0,0];for(let e=0;e<3;e++)o=n+1/3*-(e-1),o<0&&o++,o>1&&o--,a=6*o<1?c+6*(i-c)*o:2*o<1?i:3*o<2?c+(i-c)*(2/3-o)*6:c,l[e]=255*a;return l},o.hsl.hsv=function(e){const n=e[0];let t=e[1]/100,r=e[2]/100,i=t;const o=Math.max(r,.01);return r*=2,t*=r<=1?r:2-r,i*=o<=1?o:2-o,[n,100*(0===r?2*i/(o+i):2*t/(r+t)),(r+t)/2*100]},o.hsv.rgb=function(e){const n=e[0]/60,t=e[1]/100;let r=e[2]/100;const i=Math.floor(n)%6,o=n-Math.floor(n),a=255*r*(1-t),c=255*r*(1-t*o),l=255*r*(1-t*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[c,r,a];case 2:return[a,r,l];case 3:return[a,c,r];case 4:return[l,a,r];case 5:return[r,a,c]}},o.hsv.hsl=function(e){const n=e[0],t=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,a;a=(2-t)*r;const c=(2-t)*i;return o=t*i,o/=c<=1?c:2-c,o=o||0,a/=2,[n,100*o,100*a]},o.hwb.rgb=function(e){const n=e[0]/360;let t=e[1]/100,r=e[2]/100;const i=t+r;let o;i>1&&(t/=i,r/=i);const a=Math.floor(6*n),c=1-r;o=6*n-a,1&a&&(o=1-o);const l=t+o*(c-t);let s,u,p;switch(a){default:case 6:case 0:s=c,u=l,p=t;break;case 1:s=l,u=c,p=t;break;case 2:s=t,u=c,p=l;break;case 3:s=t,u=l,p=c;break;case 4:s=l,u=t,p=c;break;case 5:s=c,u=t,p=l}return[255*s,255*u,255*p]},o.cmyk.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){const n=e[0]/100,t=e[1]/100,r=e[2]/100;let i,o,a;return i=3.2406*n+-1.5372*t+-.4986*r,o=-.9689*n+1.8758*t+.0415*r,a=.0557*n+-.204*t+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*i,255*o,255*a]},o.xyz.lab=function(e){let n=e[0],t=e[1],r=e[2];return n/=95.047,t/=100,r/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*t-16,500*(n-t),200*(t-r)]},o.lab.xyz=function(e){let n,t,r;t=(e[0]+16)/116,n=e[1]/500+t,r=t-e[2]/200;const i=t**3,o=n**3,a=r**3;return t=i>.008856?i:(t-16/116)/7.787,n=o>.008856?o:(n-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,n*=95.047,t*=100,r*=108.883,[n,t,r]},o.lab.lch=function(e){const n=e[0],t=e[1],r=e[2];let i;return i=360*Math.atan2(r,t)/2/Math.PI,i<0&&(i+=360),[n,Math.sqrt(t*t+r*r),i]},o.lch.lab=function(e){const n=e[0],t=e[1],r=e[2]/360*2*Math.PI;return[n,t*Math.cos(r),t*Math.sin(r)]},o.rgb.ansi16=function(e,n=null){const[t,r,i]=e;let a=null===n?o.rgb.hsv(e)[2]:n;if(a=Math.round(a/50),0===a)return 30;let c=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===a&&(c+=60),c},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const n=e[0],t=e[1],r=e[2];return n===t&&t===r?n<8?16:n>248?231:Math.round((n-8)/247*24)+232:16+36*Math.round(n/255*5)+6*Math.round(t/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let n=e%10;if(0===n||7===n)return e>50&&(n+=3.5),n=n/10.5*255,[n,n,n];const t=.5*(1+~~(e>50));return[(1&n)*t*255,(n>>1&1)*t*255,(n>>2&1)*t*255]},o.ansi256.rgb=function(e){if(e>=232){const n=10*(e-232)+8;return[n,n,n]}let n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(e){const n=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.hex.rgb=function(e){const n=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!n)return[0,0,0];let t=n[0];3===n[0].length&&(t=t.split("").map((e=>e+e)).join(""));const r=parseInt(t,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const n=e[0]/255,t=e[1]/255,r=e[2]/255,i=Math.max(Math.max(n,t),r),o=Math.min(Math.min(n,t),r),a=i-o;let c,l;return c=a<1?o/(1-a):0,l=a<=0?0:i===n?(t-r)/a%6:i===t?2+(r-n)/a:4+(n-t)/a,l/=6,l%=1,[360*l,100*a,100*c]},o.hsl.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=t<.5?2*n*t:2*n*(1-t);let i=0;return r<1&&(i=(t-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){const n=e[1]/100,t=e[2]/100,r=n*t;let i=0;return r<1&&(i=(t-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){const n=e[0]/360,t=e[1]/100,r=e[2]/100;if(0===t)return[255*r,255*r,255*r];const i=[0,0,0],o=n%1*6,a=o%1,c=1-a;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=c,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=c,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=c}return l=(1-t)*r,[255*(t*i[0]+l),255*(t*i[1]+l),255*(t*i[2]+l)]},o.hcg.hsv=function(e){const n=e[1]/100,t=n+e[2]/100*(1-n);let r=0;return t>0&&(r=n/t),[e[0],100*r,100*t]},o.hcg.hsl=function(e){const n=e[1]/100,t=e[2]/100*(1-n)+.5*n;let r=0;return t>0&&t<.5?r=n/(2*t):t>=.5&&t<1&&(r=n/(2*(1-t))),[e[0],100*r,100*t]},o.hcg.hwb=function(e){const n=e[1]/100,t=n+e[2]/100*(1-n);return[e[0],100*(t-n),100*(1-t)]},o.hwb.hcg=function(e){const n=e[1]/100,t=1-e[2]/100,r=t-n;let i=0;return r<1&&(i=(t-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const n=255&Math.round(e[0]/100*255),t=((n<<16)+(n<<8)+n).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},7881:(e,n,t)=>{const r=t(6264),i=t(2248),o={};Object.keys(r).forEach((e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const n=i(e);Object.keys(n).forEach((t=>{const r=n[t];o[e][t]=function(e){const n=function(...n){const t=n[0];if(null==t)return t;t.length>1&&(n=t);const r=e(n);if("object"==typeof r)for(let e=r.length,n=0;n<e;n++)r[n]=Math.round(r[n]);return r};return"conversion"in e&&(n.conversion=e.conversion),n}(r),o[e][t].raw=function(e){const n=function(...n){const t=n[0];return null==t?t:(t.length>1&&(n=t),e(n))};return"conversion"in e&&(n.conversion=e.conversion),n}(r)}))})),e.exports=o},2248:(e,n,t)=>{const r=t(6264);function i(e,n){return function(t){return n(e(t))}}function o(e,n){const t=[n[e].parent,e];let o=r[n[e].parent][e],a=n[e].parent;for(;n[a].parent;)t.unshift(n[a].parent),o=i(r[n[a].parent][a],o),a=n[a].parent;return o.conversion=t,o}e.exports=function(e){const n=function(e){const n=function(){const e={},n=Object.keys(r);for(let t=n.length,r=0;r<t;r++)e[n[r]]={distance:-1,parent:null};return e}(),t=[e];for(n[e].distance=0;t.length;){const e=t.pop(),i=Object.keys(r[e]);for(let r=i.length,o=0;o<r;o++){const r=i[o],a=n[r];-1===a.distance&&(a.distance=n[e].distance+1,a.parent=e,t.unshift(r))}}return n}(e),t={},i=Object.keys(n);for(let e=i.length,r=0;r<e;r++){const e=i[r];null!==n[e].parent&&(t[e]=o(e,n))}return t}},905:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},970:e=>{"use strict";e.exports={stdout:!1,stderr:!1}},5248:(e,n,t)=>{"use strict";const r=t(9436),{stdout:i,stderr:o}=t(970),{stringReplaceAll:a,stringEncaseCRLFWithFirstIndex:c}=t(4058),{isArray:l}=Array,s=["ansi","ansi","ansi256","ansi16m"],u=Object.create(null);class p{constructor(e){return h(e)}}const h=e=>{const n={};return((e,n={})=>{if(n.level&&!(Number.isInteger(n.level)&&n.level>=0&&n.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const t=i?i.level:0;e.level=void 0===n.level?t:n.level})(n,e),n.template=(...e)=>v(n.template,...e),Object.setPrototypeOf(n,d.prototype),Object.setPrototypeOf(n.template,n),n.template.constructor=()=>{throw new Error("`chalk.constructor()` is deprecated. Use `new chalk.Instance()` instead.")},n.template.Instance=p,n.template};function d(e){return h(e)}for(const[e,n]of Object.entries(r))u[e]={get(){const t=m(this,y(n.open,n.close,this._styler),this._isEmpty);return Object.defineProperty(this,e,{value:t}),t}};u.visible={get(){const e=m(this,this._styler,!0);return Object.defineProperty(this,"visible",{value:e}),e}};const f=["rgb","hex","keyword","hsl","hsv","hwb","ansi","ansi256"];for(const e of f)u[e]={get(){const{level:n}=this;return function(...t){const i=y(r.color[s[n]][e](...t),r.color.close,this._styler);return m(this,i,this._isEmpty)}}};for(const e of f)u["bg"+e[0].toUpperCase()+e.slice(1)]={get(){const{level:n}=this;return function(...t){const i=y(r.bgColor[s[n]][e](...t),r.bgColor.close,this._styler);return m(this,i,this._isEmpty)}}};const g=Object.defineProperties((()=>{}),{...u,level:{enumerable:!0,get(){return this._generator.level},set(e){this._generator.level=e}}}),y=(e,n,t)=>{let r,i;return void 0===t?(r=e,i=n):(r=t.openAll+e,i=n+t.closeAll),{open:e,close:n,openAll:r,closeAll:i,parent:t}},m=(e,n,t)=>{const r=(...e)=>l(e[0])&&l(e[0].raw)?A(r,v(r,...e)):A(r,1===e.length?""+e[0]:e.join(" "));return Object.setPrototypeOf(r,g),r._generator=e,r._styler=n,r._isEmpty=t,r},A=(e,n)=>{if(e.level<=0||!n)return e._isEmpty?"":n;let t=e._styler;if(void 0===t)return n;const{openAll:r,closeAll:i}=t;if(-1!==n.indexOf(""))for(;void 0!==t;)n=a(n,t.close,t.open),t=t.parent;const o=n.indexOf("\n");return-1!==o&&(n=c(n,i,r,o)),r+n+i};let b;const v=(e,...n)=>{const[r]=n;if(!l(r)||!l(r.raw))return n.join(" ");const i=n.slice(1),o=[r.raw[0]];for(let e=1;e<r.length;e++)o.push(String(i[e-1]).replace(/[{}\\]/g,"\\$&"),String(r.raw[e]));return void 0===b&&(b=t(2991)),b(e,o.join(""))};Object.defineProperties(d.prototype,u);const C=d();C.supportsColor=i,C.stderr=d({level:o?o.level:0}),C.stderr.supportsColor=o,e.exports=C},2991:e=>{"use strict";const n=/(?:\\(u(?:[a-f\d]{4}|\{[a-f\d]{1,6}\})|x[a-f\d]{2}|.))|(?:\{(~)?(\w+(?:\([^)]*\))?(?:\.\w+(?:\([^)]*\))?)*)(?:[ \t]|(?=\r?\n)))|(\})|((?:.|[\r\n\f])+?)/gi,t=/(?:^|\.)(\w+)(?:\(([^)]*)\))?/g,r=/^(['"])((?:\\.|(?!\1)[^\\])*)\1$/,i=/\\(u(?:[a-f\d]{4}|{[a-f\d]{1,6}})|x[a-f\d]{2}|.)|([^\\])/gi,o=new Map([["n","\n"],["r","\r"],["t","\t"],["b","\b"],["f","\f"],["v","\v"],["0","\0"],["\\","\\"],["e",""],["a",""]]);function a(e){const n="u"===e[0],t="{"===e[1];return n&&!t&&5===e.length||"x"===e[0]&&3===e.length?String.fromCharCode(parseInt(e.slice(1),16)):n&&t?String.fromCodePoint(parseInt(e.slice(2,-1),16)):o.get(e)||e}function c(e,n){const t=[],o=n.trim().split(/\s*,\s*/g);let c;for(const n of o){const o=Number(n);if(Number.isNaN(o)){if(!(c=n.match(r)))throw new Error(`Invalid Chalk template style argument: ${n} (in style '${e}')`);t.push(c[2].replace(i,((e,n,t)=>n?a(n):t)))}else t.push(o)}return t}function l(e){t.lastIndex=0;const n=[];let r;for(;null!==(r=t.exec(e));){const e=r[1];if(r[2]){const t=c(e,r[2]);n.push([e].concat(t))}else n.push([e])}return n}function s(e,n){const t={};for(const e of n)for(const n of e.styles)t[n[0]]=e.inverse?null:n.slice(1);let r=e;for(const[e,n]of Object.entries(t))if(Array.isArray(n)){if(!(e in r))throw new Error(`Unknown Chalk style: ${e}`);r=n.length>0?r[e](...n):r[e]}return r}e.exports=(e,t)=>{const r=[],i=[];let o=[];if(t.replace(n,((n,t,c,u,p,h)=>{if(t)o.push(a(t));else if(u){const n=o.join("");o=[],i.push(0===r.length?n:s(e,r)(n)),r.push({inverse:c,styles:l(u)})}else if(p){if(0===r.length)throw new Error("Found extraneous } in Chalk template literal");i.push(s(e,r)(o.join(""))),o=[],r.pop()}else o.push(h)})),i.push(o.join("")),r.length>0){const e=`Chalk template literal is missing ${r.length} closing bracket${1===r.length?"":"s"} (\`}\`)`;throw new Error(e)}return i.join("")}},4058:e=>{"use strict";e.exports={stringReplaceAll:(e,n,t)=>{let r=e.indexOf(n);if(-1===r)return e;const i=n.length;let o=0,a="";do{a+=e.substr(o,r-o)+n+t,o=r+i,r=e.indexOf(n,o)}while(-1!==r);return a+=e.substr(o),a},stringEncaseCRLFWithFirstIndex:(e,n,t,r)=>{let i=0,o="";do{const a="\r"===e[r-1];o+=e.substr(i,(a?r-1:r)-i)+n+(a?"\r\n":"\n")+t,i=r+1,r=e.indexOf("\n",i)}while(-1!==r);return o+=e.substr(i),o}}},6705:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(1354),i=t.n(r),o=t(6314),a=t.n(o),c=t(4417),l=t.n(c),s=new URL(t(6097),t.b),u=a()(i()),p=l()(s);u.push([e.id,'#_canopy{margin-top:20px;overflow-anchor:none;padding-bottom:100vh;min-height:110vh;font-family:"Times New Roman",Times,serif}#_canopy h1.canopy-header{text-align:center;margin:auto;margin-top:20px;max-width:750px;word-break:break-word;hyphens:auto}#_canopy hr.canopy-hr{width:120px;display:block;height:1px;border:0;border-top:5px solid #ccc;margin:0px auto}#_canopy h1+section.canopy-topic-section{margin-top:30px}#_canopy section.canopy-topic-section{margin-top:32px}#_canopy section.canopy-section{margin-top:32px;unicode-bidi:unset}#_canopy .canopy-topic-section hr+p{margin-top:27px}#_canopy p.canopy-paragraph{overflow:visible;font-size:21px;max-width:750px;overflow-wrap:break-word;hyphens:auto;margin:auto;line-height:1.3;letter-spacing:-0.003em;font-weight:400;position:relative;unicode-bidi:plaintext}#_canopy .canopy-topic-section hr+p{margin-top:31px}#_canopy code.canopy-code-block{font-family:"Courier New",Courier,monospace;background-color:#eee;padding:2px 4px;border-radius:3px;border:.5px solid #ddd;color:#5a5a5a}#_canopy .canopy-tooltip{position:relative;display:inline-block;cursor:pointer}#_canopy .canopy-tooltip .canopy-tooltip-icon{font-size:11px}#_canopy .canopy-tooltip .canopy-tooltiptext{visibility:hidden;width:140px;background-color:#fff;color:#000;text-align:center;border-radius:6px;border:1px solid #000;padding:10px;position:absolute;z-index:1;top:50%;left:105%;margin-left:10px;transform:translateY(-50%);opacity:0;transition:opacity .3s;font-size:14px}#_canopy .canopy-tooltip:hover .canopy-tooltiptext{visibility:visible;opacity:1}#_canopy .canopy-text-span{display:inline}#_canopy .canopy-linebreak-span{display:block;margin-bottom:12px}#_canopy a.canopy-selectable-link{text-decoration:none;color:#000;cursor:pointer}#_canopy a.canopy-selectable-link:focus{outline:0}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image){padding-right:10px;margin-right:-10px}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) .canopy-link-content-container{background-color:#fff;padding-left:2px;padding-right:2px;border-radius:1px;border:1px solid #ddd}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) .canopy-link-content-container:hover{background-color:#f5f6fe}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-selected-link .canopy-link-content-container,#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-selected-link code .canopy-link-content-container{background-color:#edeefc;text-decoration:none}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-open-link:not(.canopy-selected-link) .canopy-link-content-container{background-color:#dedede;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-external-link .canopy-link-content-container::after{content:"   ";font-size:10px;background-image:url('+p+');background-size:contain;background-repeat:no-repeat;top:1px;left:0px;position:relative;vertical-align:text-bottom}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-path-reference .canopy-link-content-container::after{top:1px;left:1.5px;font-size:9px;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-back-cycle-link .canopy-link-content-container::after{content:"↩";top:2px;left:1px;text-decoration:none;font-size:9px;position:relative}#_canopy a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-lateral-cycle-link .canopy-link-content-container::after{content:"↪";top:2px;left:1px;text-decoration:none;font-size:9px;position:relative}#_canopy a.canopy-disabled-link{color:#000;pointer-events:none;cursor:not-allowed;opacity:.5;text-decoration:none;border-radius:1px;border:1px solid #ddd}#_canopy a.canopy-selectable-link.canopy-linked-image{text-decoration:none}#_canopy hr.canopy-footnote-rule{width:750px;display:block;height:1px;border:0;border-top:1px solid #ccc;margin:12px 0;padding:0}#_canopy sup{font-size:60%;padding:2px}#_canopy .canopy-footnote-span{font-size:80%;display:block}#_canopy .canopy-footnote-span span{margin-left:2px}#_canopy .canopy-footnote-span:not(:last-child){padding-bottom:7px}#_canopy blockquote{padding:0 .7em;color:#565e67;white-space:pre-wrap;margin-left:0px;margin-right:0px;margin-top:12px;margin-bottom:12px}#_canopy blockquote a,#_canopy blockquote a.canopy-selectable-link{color:#565e67}#_canopy blockquote[dir=rtl]{border-right:.25em solid #d3d3d3}#_canopy blockquote[dir=ltr]{border-left:.25em solid #d3d3d3}#_canopy blockquote a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) .canopy-link-content-container{background-color:rgba(255,255,255,0);padding-left:0px;padding-right:0px;border:none;text-decoration:underline #d3d3d3}#_canopy blockquote a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image).canopy-open-link .canopy-link-content-container{background-color:#dedede;text-decoration:none}#_canopy blockquote a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image):hover{text-decoration:underline #000}#_canopy blockquote .canopy-linebreak-span{margin-bottom:0px}#_canopy blockquote .canopy-blockquote-padded-linebreak{margin-bottom:8px;display:block}#_canopy pre{margin:10px 10px;background-color:#eff0f1;padding:5px;font-size:85%}#_canopy code{background-color:#eff0f1;font-size:90%}#_canopy table{margin:21px auto auto auto;table-layout:auto;max-width:90%;border-collapse:collapse;border:none;font-size:18px;min-width:500px;table-layout:fixed}#_canopy table:not(:last-child){margin-bottom:25px}#_canopy table td,#_canopy table th{border:1px solid #000;text-align:center;padding:10px}#_canopy table td.hidden,#_canopy table th.hidden{opacity:0;border:none}#_canopy table td br,#_canopy table th br{display:block;content:"";padding-bottom:2px}#_canopy table td.canopy-table-link-cell{cursor:pointer;user-select:text;background-color:#fff}#_canopy table td.canopy-table-link-cell a.canopy-selectable-link{text-decoration:none;text-shadow:none;background-color:rgba(255,255,255,0);border:none;padding:4px;display:block}#_canopy table td.canopy-table-link-cell:has(.canopy-selected-link){background-color:#edeefc}#_canopy table td.canopy-table-link-cell:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#eae8e8}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)),#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)){background-color:#f5f6fe}#_canopy table td.canopy-table-link-cell:hover:not(:has(.canopy-selected-link)) .canopy-selected-link,#_canopy table td.canopy-table-link-cell:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) .canopy-selected-link{background-color:#f5f6fe}#_canopy table td.canopy-table-link-cell:has(a.canopy-disabled-link){background-color:#fff;color:#000;cursor:not-allowed;opacity:.7;pointer-events:none}#_canopy table td.canopy-table-link-cell:has(a.canopy-disabled-link) a.canopy-disabled-link{background-color:rgba(255,255,255,0);text-decoration:none;text-shadow:none;border:none}#_canopy .canopy-menu{display:flex;flex-direction:column;align-items:center;margin:0 auto;gap:10px}#_canopy .canopy-menu .canopy-menu-row{display:flex;justify-content:center;box-sizing:border-box;gap:10px}#_canopy .canopy-menu.canopy-align-right{align-items:flex-end}#_canopy .canopy-menu.canopy-align-right .canopy-menu-row{justify-content:flex-end}#_canopy .canopy-menu.canopy-align-left{align-items:flex-start}#_canopy .canopy-menu.canopy-align-mixed{align-items:normal}#_canopy .canopy-menu:not(:first-child){margin-top:25px}#_canopy .canopy-menu:not(:last-child){margin-bottom:25px}#_canopy .canopy-menu .canopy-menu-cell{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;align-items:center;border:1px solid #000;border-radius:0px;box-sizing:border-box;background-color:#fff;padding:10px;text-align:center;align-self:stretch;white-space:normal;overflow-wrap:normal;word-break:normal;hyphens:none}#_canopy .canopy-menu .canopy-menu-cell.canopy-menu-cell-left-aligned{margin-right:auto}#_canopy .canopy-menu .canopy-menu-cell.canopy-menu-cell-right-aligned{margin-left:auto}#_canopy .canopy-menu .canopy-menu-cell .canopy-menu-content-container{display:inline;max-width:100%;max-height:100%}#_canopy .canopy-menu .canopy-menu-cell br{display:block;content:"";padding-bottom:2px}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell{cursor:pointer;border:1.5px solid #000;border-radius:5px;display:flex;justify-content:center;align-items:center;user-select:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-selectable-link{text-decoration:none;text-shadow:none;user-select:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-selected-link{background-color:#edeefc}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-open-link:not(.canopy-selected-link){background-color:#eae8e8}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover:not(.canopy-selected-link),#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover.canopy-open-link:not(.canopy-selected-link){background-color:#f5f6fe}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover:not(.canopy-selected-link) .canopy-selected-link,#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell:hover.canopy-open-link:not(.canopy-selected-link) .canopy-selected-link{background-color:#f5f6fe}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell .canopy-menu-content-container::after{font-size:11px;margin-left:-5px;position:relative;top:5px;left:5px;white-space:nowrap}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-external-link.canopy-selectable-link *{text-decoration:none}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-external-link .canopy-menu-content-container::after{content:"   ";background-image:url('+p+');top:2.5px;background-size:contain;background-repeat:no-repeat;vertical-align:text-bottom}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-provisional-icon-link .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-back-cycle-link .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-lateral-cycle-link .canopy-menu-content-container::after{content:" ↪"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-lateral-cycle-link.canopy-menu-cell-left-aligned .canopy-menu-content-container::after{content:" ↩"}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-path-reference .canopy-menu-content-container::after{left:6px;top:2px}#_canopy .canopy-menu .canopy-menu-link-cell.canopy-menu-cell.canopy-disabled-link{background-color:#fff;color:#000;cursor:not-allowed;opacity:.4;pointer-events:none}#_canopy .canopy-menu.canopy-eigth-pill .canopy-menu-cell{width:85px;padding-left:10px;padding-right:10px;padding-top:2px;padding-bottom:2px;height:45px}#_canopy .canopy-menu.canopy-quarter-pill .canopy-menu-cell{width:180px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-third-pill .canopy-menu-cell{width:243.3333333333px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-half-pill .canopy-menu-cell{width:370px;padding:9px;height:50px}#_canopy .canopy-menu.canopy-quarter-card .canopy-menu-cell{width:180px;height:95px;padding:15px}#_canopy .canopy-menu.canopy-third-card .canopy-menu-cell{width:243.3333333333px;height:120px;padding:15px}#_canopy .canopy-menu.canopy-half-tube .canopy-menu-cell{width:370px;height:160px;padding:30px}#_canopy .canopy-menu.canopy-half-card .canopy-menu-cell{width:370px;height:265px;min-height:160px;padding:30px}#_canopy .canopy-image-container{display:flex;justify-content:center;object-fit:cover;margin-top:15px}#_canopy .canopy-image-container:not(:last-child){margin-bottom:15px}#_canopy .canopy-image-container a{margin:0 auto;display:block}#_canopy .canopy-image-container .canopy-image img{display:block;max-width:100%;width:auto}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption{margin:0px auto;width:100%;padding:6px 0px;text-align:left;display:block;font-size:16px;line-height:18px;color:#595959;background-color:#fff}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a{color:#595959}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a.canopy-selected-link{background-color:#c9ccff}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption a.canopy-external-link:not(.canopy-menu-link-cell):not(.canopy-linked-image)::after{content:""}#_canopy .canopy-image-container .canopy-image span.canopy-image-caption span{display:inline}#_canopy div.canopy-image-div{float:right;border:1px solid #c8ccd1;padding:3px;background-color:#f8f9fa;font-size:94%;text-align:center;overflow:hidden;margin:10px}#_canopy .canopy-open-link .canopy-image,#_canopy .canopy-selected-link .canopy-image{position:relative}#_canopy .canopy-selected-link .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(130,150,250,.3);pointer-events:none}#_canopy .canopy-open-link:not(.canopy-selected-link) .canopy-image::after{content:"";position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(128,128,128,.2);pointer-events:none}#_canopy div.canopy-image-div>sup{display:block}#_canopy ol,#_canopy ul{margin-top:15px;margin-left:10px;margin-right:10px;margin-bottom:0px}#_canopy ol:not(:last-child),#_canopy ul:not(:last-child){margin-bottom:15px}#_canopy ol li:not(:last-child),#_canopy ul li:not(:last-child){margin-bottom:10px}#_canopy div.canopy-raw-html{display:inline}#_canopy div.canopy-raw-html .canopy-html-insertion{display:inline}',"",{version:3,sources:["webpack://./client/style/canopy.scss"],names:[],mappings:"AAAA,SAAA,eACE,CAAA,oBACA,CAAA,oBAOA,CAAA,gBACA,CAAA,yCAEA,CAAA,0BAEA,iBACE,CAAA,WACA,CAAA,eACA,CAAA,eACA,CAAA,qBACA,CAAA,YACA,CAAA,sBAGF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,eACA,CAAA,yCAGF,eACE,CAAA,sCAGF,eACE,CAAA,gCAGF,eACE,CAAA,kBACA,CAAA,oCAGF,eACE,CAAA,4BAGF,gBACE,CAAA,cACA,CAAA,eACA,CAAA,wBACA,CAAA,YAEA,CAAA,WACA,CAAA,eAEA,CAAA,uBACA,CAAA,eACA,CAAA,iBAEA,CAAA,sBACA,CAAA,oCAGF,eACE,CAAA,gCAGF,2CACE,CAAA,qBACA,CAAA,eACA,CAAA,iBACA,CAAA,sBACA,CAAA,aACA,CAAA,yBAKF,iBACE,CAAA,oBACA,CAAA,cACA,CAAA,8CAEA,cACE,CAAA,6CAGF,iBACE,CAAA,WACA,CAAA,qBACA,CAAA,UACA,CAAA,iBACA,CAAA,iBACA,CAAA,qBACA,CAAA,YACA,CAAA,iBACA,CAAA,SACA,CAAA,OACA,CAAA,SACA,CAAA,gBACA,CAAA,0BACA,CAAA,SACA,CAAA,sBACA,CAAA,cACA,CAAA,mDAGF,kBACE,CAAA,SACA,CAAA,2BAKJ,cACE,CAAA,gCAGF,aACE,CAAA,kBACA,CAAA,kCAKF,oBACE,CAAA,UACA,CAAA,cACA,CAAA,wCAEA,SACE,CAAA,gHAIJ,kBACE,CAAA,kBACA,CAAA,+IAEA,qBACE,CAAA,gBAEA,CAAA,iBACA,CAAA,iBAEA,CAAA,qBACA,CAAA,qJAEA,wBACE,CAAA,6UAKF,wBACE,CAAA,oBACA,CAAA,2LAIJ,wBACE,CAAA,iBACA,CAAA,2KAGF,aACE,CAAA,cACA,CAAA,wDAEA,CAAA,uBACA,CAAA,2BACA,CAAA,OACA,CAAA,QACA,CAAA,iBACA,CAAA,0BACA,CAAA,4KAGF,OAEE,CAAA,UACA,CAAA,aACA,CAAA,iBACA,CAAA,6KAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,oBACA,CAAA,aACA,CAAA,iBACA,CAAA,gLAGF,WACE,CAAA,OACA,CAAA,QACA,CAAA,oBACA,CAAA,aACA,CAAA,iBACA,CAAA,gCAIJ,UACE,CAAA,mBACA,CAAA,kBACA,CAAA,UACA,CAAA,oBACA,CAAA,iBACA,CAAA,qBACA,CAAA,sDAGF,oBACE,CAAA,iCAKF,WACE,CAAA,aACA,CAAA,UACA,CAAA,QACA,CAAA,yBACA,CAAA,aACA,CAAA,SACA,CAAA,aAGF,aACE,CAAA,WACA,CAAA,+BAGF,aACE,CAAA,aACA,CAAA,oCACA,eACE,CAAA,gDAEF,kBACE,CAAA,oBAIJ,cACE,CAAA,aACA,CAAA,oBACA,CAAA,eAgBA,CAAA,gBACA,CAAA,eACA,CAAA,kBACA,CAAA,mEAjBA,aACE,CAAA,6BAGF,gCACE,CAAA,6BAIF,+BACE,CAAA,0JAUA,oCAEE,CAAA,gBACA,CAAA,iBACA,CAAA,WACA,CAAA,iCACA,CAAA,2KAGF,wBACE,CAAA,oBACA,CAAA,iIAGF,8BACE,CAAA,2CAIJ,iBACE,CAAA,wDAGF,iBACE,CAAA,aACA,CAAA,aAIJ,gBACE,CAAA,wBACA,CAAA,WACA,CAAA,aACA,CAAA,cAGF,wBACE,CAAA,aACA,CAAA,eAGF,0BACE,CAAA,iBACA,CAAA,aACA,CAAA,wBACA,CAAA,WACA,CAAA,cACA,CAAA,eACA,CAAA,kBACA,CAAA,gCAEA,kBACE,CAAA,oCAGF,qBACE,CAAA,iBACA,CAAA,YACA,CAAA,kDAEA,SACE,CAAA,WACA,CAAA,0CAGF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,yCAIJ,cACE,CAAA,gBACA,CAAA,qBACA,CAAA,kEAEA,oBACE,CAAA,gBACA,CAAA,oCACA,CAAA,WACA,CAAA,WACA,CAAA,aACA,CAAA,oEAGF,wBACE,CAAA,iGAGF,wBACE,CAAA,uLAGF,wBAEE,CAAA,mOAEA,wBACI,CAAA,qEAIN,qBACE,CAAA,UACA,CAAA,kBACA,CAAA,UACA,CAAA,mBACA,CAAA,4FAEA,oCACE,CAAA,oBACA,CAAA,gBACA,CAAA,WACA,CAAA,sBAMR,YACE,CAAA,qBACA,CAAA,kBACA,CAAA,aACA,CAAA,QACA,CAAA,uCAEA,YACE,CAAA,sBACA,CAAA,qBACA,CAAA,QACA,CAAA,yCAGF,oBACE,CAAA,0DACA,wBACE,CAAA,wCAIJ,sBACE,CAAA,yCAGF,kBACE,CAAA,wCAGF,eACE,CAAA,uCAGF,kBACE,CAAA,wCAGF,YACE,CAAA,kBACA,CAAA,cACA,CAAA,sBACA,CAAA,kBACA,CAAA,qBACA,CAAA,iBACA,CAAA,qBACA,CAAA,qBACA,CAAA,YACA,CAAA,iBACA,CAAA,kBACA,CAAA,kBAEA,CAAA,oBACA,CAAA,iBACA,CAAA,YACA,CAAA,sEAEA,iBACE,CAAA,uEAGF,gBACE,CAAA,uEAGF,cACE,CAAA,cACA,CAAA,eACA,CAAA,2CAOF,aACE,CAAA,UACA,CAAA,kBACA,CAAA,8DAIJ,cACE,CAAA,uBACA,CAAA,iBACA,CAAA,YACA,CAAA,sBACA,CAAA,kBACA,CAAA,gBACA,CAAA,qFAEA,oBACE,CAAA,gBACA,CAAA,gBACA,CAAA,mFAGF,wBACE,CAAA,0GAGF,wBACE,CAAA,+MAGF,wBAEE,CAAA,2PAEA,wBACI,CAAA,oGAIN,cACE,CAAA,gBACA,CAAA,iBACA,CAAA,OACA,CAAA,QACA,CAAA,kBACA,CAAA,4GAIA,oBACE,CAAA,yHAGF,aACE,CAAA,wDAEA,CAAA,SACA,CAAA,uBACA,CAAA,2BACA,CAAA,0BACA,CAAA,iIAIJ,YACE,CAAA,2HAGF,YACE,CAAA,8HAGF,YACE,CAAA,4JAGF,YACE,CAAA,0HAGF,QAEE,CAAA,OACA,CAAA,mFAGF,qBACE,CAAA,UACA,CAAA,kBACA,CAAA,UACA,CAAA,mBACA,CAAA,0DAIJ,UACE,CAAA,iBACA,CAAA,kBACA,CAAA,eACA,CAAA,kBACA,CAAA,WACA,CAAA,4DAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,0DAGF,sBACE,CAAA,WACA,CAAA,WACA,CAAA,yDAGF,WACE,CAAA,WACA,CAAA,WACA,CAAA,4DAGF,WACE,CAAA,WACA,CAAA,YACA,CAAA,0DAGF,sBACE,CAAA,YACA,CAAA,YACA,CAAA,yDAGF,WACE,CAAA,YACA,CAAA,YACA,CAAA,yDAGF,WACE,CAAA,YACA,CAAA,gBACA,CAAA,YACA,CAAA,iCAIJ,YACE,CAAA,sBACA,CAAA,gBACA,CAAA,eAMA,CAAA,kDAJA,kBACE,CAAA,mCAKF,aACE,CAAA,aACA,CAAA,mDAIA,aACE,CAAA,cACA,CAAA,UACA,CAAA,yEAGF,eACE,CAAA,UACA,CAAA,eACA,CAAA,eACA,CAAA,aACA,CAAA,cACA,CAAA,gBACA,CAAA,aACA,CAAA,qBACA,CAAA,2EAEA,aACE,CAAA,gGAGF,wBACE,CAAA,6JAGF,UACE,CAAA,8EAGF,cACE,CAAA,8BAMR,WACE,CAAA,wBACA,CAAA,WACA,CAAA,wBACA,CAAA,aACA,CAAA,iBACA,CAAA,eACA,CAAA,WACA,CAAA,sFAGF,iBACE,CAAA,oDAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,2EAGF,UACE,CAAA,iBACA,CAAA,KACA,CAAA,MACA,CAAA,OACA,CAAA,QACA,CAAA,qCACA,CAAA,mBACA,CAAA,kCAGF,aACE,CAAA,wBAGF,eACE,CAAA,gBACA,CAAA,iBACA,CAAA,iBACA,CAAA,0DAEA,kBACE,CAAA,gEAGF,kBACE,CAAA,6BAIJ,cACE,CAAA,oDAEA,cACE",sourcesContent:["#_canopy {\n  margin-top: 20px;\n  overflow-anchor: none; // Prevent browser from trying to maintain position when page contents change, which might interfere with window.scrollTo\n\n  /* Removing DOM elements from the bottom of the screen can force the page to scroll upward to the existing elements\n  which is not animated. If we keep a padding on the bottom of the last element just beyond the viewport, then\n  removal of elements from the bottom of the visible stack never brings the real bottom of the page into view, and so\n  the scroll upwards can be animated using the window.scrollTo method. */\n\n  padding-bottom: calc(100vh);\n  min-height: calc(110vh); // to avoid scroll bar appearing when page length changes for small content that doesn't need scrolling\n\n  font-family: \"Times New Roman\", Times, serif; // good default and standardizes layout for browser tests\n\n  h1.canopy-header {\n    text-align: center;\n    margin: auto;\n    margin-top: 20px;\n    max-width: 750px;\n    word-break: break-word;\n    hyphens: auto;\n  }\n\n  hr.canopy-hr {\n    width: 120px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 5px solid #ccc;\n    margin: 0px auto;\n  }\n\n  h1 + section.canopy-topic-section {\n    margin-top: 30px;\n  }\n\n  section.canopy-topic-section {\n    margin-top: 32px; // has to match .canopy-topic-section hr + p\n  }\n\n  section.canopy-section {\n    margin-top: 32px;\n    unicode-bidi: unset;\n  }\n\n  .canopy-topic-section hr + p {\n    margin-top: 27px;\n  }//\n\n  p.canopy-paragraph {\n    overflow: visible; // In case external link icon is at end of line\n    font-size: 21px;\n    max-width: 750px;\n    overflow-wrap: break-word; // this causes eg table cells to break long lines into rows\n    //word-break: break-word; // this separates words in table cells\n    hyphens: auto; // not sure we want this, rather put whole word on next line?\n    margin: auto;\n\n    line-height: 1.3;\n    letter-spacing: -.003em;\n    font-weight: 400;\n\n    position: relative; // to allow absolute children\n    unicode-bidi: plaintext; // to allow lines in different directions\n  }//\n\n  .canopy-topic-section hr + p {\n    margin-top: 31px; // 35px minus 1px bar thickness\n  }\n\n  code.canopy-code-block {\n    font-family: 'Courier New', Courier, monospace; /* Monospaced font for code */\n    background-color: #eee; /* Light background to highlight code */\n    padding: 2px 4px; /* Small padding around the code */\n    border-radius: 3px; /* Optional: rounded corners */\n    border: .5px solid #ddd; /* Optional: light border */\n    color: #5a5a5a; /* Subtle dark gray color for the code text, less harsh than black */\n  }\n\n  // Tool tip\n\n  .canopy-tooltip {\n    position: relative;\n    display: inline-block;\n    cursor: pointer;\n\n    .canopy-tooltip-icon {\n      font-size: 11px;\n    }\n\n    .canopy-tooltiptext {\n      visibility: hidden;\n      width: 140px;\n      background-color: white;\n      color: black;\n      text-align: center;\n      border-radius: 6px;\n      border: 1px solid black;\n      padding: 10px;\n      position: absolute;\n      z-index: 1;\n      top: 50%;\n      left: 105%;\n      margin-left: 10px;\n      transform: translateY(-50%);\n      opacity: 0;\n      transition: opacity 0.3s;\n      font-size: 14px;\n    }\n\n    &:hover .canopy-tooltiptext {\n      visibility: visible;\n      opacity: 1;\n    }\n  }\n\n  // Text\n  .canopy-text-span {\n    display: inline;\n  }\n\n  .canopy-linebreak-span {\n    display: block;\n    margin-bottom:12px;\n  }\n\n///////////// Link styles /////////////////\n\n  a.canopy-selectable-link { // even menu and table cells\n    text-decoration: none;\n    color: black;\n    cursor: pointer;\n\n    &:focus {\n      outline: 0;\n    }\n  }\n\n  a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) {\n    padding-right: 10px; // following punctuation shouldn't wrap without link\n    margin-right: -10px;\n    \n    .canopy-link-content-container { // putting bg on inner container lets outer wrapper have non-bg padding\n      background-color: #FFFFFF;\n      \n      padding-left: 2px;\n      padding-right: 2px;\n\n      border-radius: 1px;\n      border: 1px solid #dddddd;\n\n      &:hover {\n        background-color: #f5f6fe;\n      }\n    }\n\n    &.canopy-selected-link, &.canopy-selected-link code  {\n      .canopy-link-content-container {\n        background-color: #edeefc;\n        text-decoration: none;\n      }\n    }\n\n    &.canopy-open-link:not(.canopy-selected-link) .canopy-link-content-container {\n      background-color: #dedede;\n      position: relative;\n    }\n\n    &.canopy-external-link .canopy-link-content-container::after {\n      content: '\\00a0\\00a0\\00a0';\n      font-size: 10px;\n      /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n      background-image: url('data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K');\n      background-size: contain;\n      background-repeat: no-repeat;\n      top: 1px;\n      left: 0px;\n      position: relative; /* Adjust positioning if needed */\n      vertical-align: text-bottom; /* Aligns with text */\n    }\n\n    &.canopy-path-reference .canopy-link-content-container::after {\n      //content: '↳';\n      top: 1px;\n      left: 1.5px;\n      font-size: 9px;\n      position: relative;\n    }\n\n    &.canopy-back-cycle-link .canopy-link-content-container::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↩';\n      top: 2px;\n      left: 1px;\n      text-decoration: none;\n      font-size: 9px;\n      position: relative;\n    }\n\n    &.canopy-lateral-cycle-link .canopy-link-content-container::after { // if it is open, it has been inlined and isn't a cycle\n      content: '↪';\n      top: 2px;\n      left: 1px;\n      text-decoration: none;\n      font-size: 9px;\n      position: relative;\n    }\n  }\n\n  a.canopy-disabled-link {\n    color: #000000;\n    pointer-events: none;\n    cursor: not-allowed;\n    opacity: 0.5;\n    text-decoration: none;\n    border-radius: 1px;\n    border: 1px solid #dddddd;\n  }\n\n  a.canopy-selectable-link.canopy-linked-image {\n    text-decoration: none;\n  }\n\n/////////////////////////////////////////////\n\n  hr.canopy-footnote-rule {\n    width: 750px;\n    display: block;\n    height: 1px;\n    border: 0;\n    border-top: 1px solid #ccc;\n    margin: 12px 0;\n    padding: 0;\n  }\n\n  sup {\n    font-size: 60%;\n    padding: 2px;\n  }\n\n  .canopy-footnote-span {\n    font-size: 80%;\n    display: block;\n    span { // text after number\n      margin-left: 2px;\n    }\n    &:not(:last-child) {\n      padding-bottom: 7px;\n    }\n  }\n\n  blockquote {\n    padding: 0 .7em;\n    color: #565e67;\n    white-space: pre-wrap;\n\n    a, a.canopy-selectable-link {\n      color: #565e67;\n    }\n\n    &[dir=\"rtl\"] {\n      border-right: 0.25em solid lightgray;\n/*      margin-right: 10px;*/\n    }\n\n    &[dir=\"ltr\"] {\n      border-left: 0.25em solid lightgray;\n/*      margin-left: 10px;*/\n    }\n\n    margin-left: 0px;\n    margin-right: 0px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n\n    a.canopy-selectable-link:not(.canopy-menu-link-cell):not(.canopy-table-link):not(.canopy-linked-image) {\n      .canopy-link-content-container {\n        //reset button styling\n        background-color: #FFFFFF00;\n        padding-left: 0px;\n        padding-right: 0px;\n        border: none;\n        text-decoration: underline #D3D3D3;\n      }\n\n      &.canopy-open-link .canopy-link-content-container {\n        background-color: #dedede;\n        text-decoration: none;\n      }\n\n      &:hover {\n        text-decoration: underline #000000;\n      }\n    }\n\n    .canopy-linebreak-span {\n      margin-bottom: 0px; // unset default\n    }\n\n    .canopy-blockquote-padded-linebreak { // we replace break tags to be able to give them padding\n      margin-bottom: 8px;\n      display: block;\n    }\n  }\n\n  pre {\n    margin: 10px 10px;\n    background-color: #eff0f1;\n    padding: 5px;\n    font-size: 85%;\n  }\n\n  code {\n    background-color: #eff0f1;\n    font-size: 90%;\n  }\n\n  table {\n    margin: 21px auto auto auto;\n    table-layout: auto;\n    max-width: 90%;\n    border-collapse: collapse;\n    border: none; // we put the border on the TDs to allow omitted table cells\n    font-size: 18px;\n    min-width: 500px;\n    table-layout: fixed;\n\n    &:not(:last-child) {\n      margin-bottom: 25px;\n    }\n\n    td, th {\n      border: 1px solid black;\n      text-align: center;\n      padding: 10px;\n\n      &.hidden {\n        opacity: 0;\n        border: none;\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    td.canopy-table-link-cell {\n      cursor: pointer;\n      user-select: text;\n      background-color: #ffffff;\n\n      a.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n        background-color: #FFFFFF00;\n        border: none;\n        padding: 4px; // to force breaking onto multiple lines\n        display: block; // makes link text spacing more regular\n      }\n      \n      &:has(.canopy-selected-link) {\n        background-color: #edeefc;\n      }\n\n      &:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #eae8e8;\n      }\n\n      &:hover:not(:has(.canopy-selected-link)), // selected link style overrides hover\n      &:hover:has(.canopy-open-link):not(:has(.canopy-selected-link)) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n\n      &:has(a.canopy-disabled-link) {\n        background-color: #ffffff;\n        color: #000000;\n        cursor: not-allowed;\n        opacity: 0.7;\n        pointer-events: none;\n\n        a.canopy-disabled-link {\n          background-color: #FFFFFF00;\n          text-decoration: none;\n          text-shadow: none;\n          border: none;\n        }\n      }\n    }\n  }\n\n  .canopy-menu {\n    display: flex;\n    flex-direction: column;\n    align-items: center; /* This centers the rows within the container */\n    margin: 0 auto;\n    gap: 10px;\n\n    .canopy-menu-row {\n      display: flex;\n      justify-content: center;\n      box-sizing: border-box;\n      gap: 10px;\n    }\n\n    &.canopy-align-right {\n      align-items: flex-end;\n      .canopy-menu-row {\n        justify-content: flex-end;\n      }\n    }\n\n    &.canopy-align-left {\n      align-items: flex-start;\n    }\n\n    &.canopy-align-mixed {\n      align-items: normal;\n    }\n\n    &:not(:first-child) {\n      margin-top: 25px; // has to be in sync with size between section elements for button-paragraph sequences\n    }\n\n    &:not(:last-child) {\n      margin-bottom: 25px;\n    }\n\n    .canopy-menu-cell {\n      display: flex;\n      flex-direction: row; /* Arrange items horizontally */\n      flex-wrap: wrap; /* Allow items to wrap within the cell */\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n      border: 1px solid black;\n      border-radius: 0px;\n      box-sizing: border-box;\n      background-color: white;\n      padding: 10px; /* Add some padding inside cells */\n      text-align: center; /* This will center the text inside the flex items */\n      align-self: stretch; /* Stretch the child items to fill the cell's width */\n      \n      white-space: normal; /* Allow the text to wrap */\n      overflow-wrap: normal; // we don't want breaking during size evaluation\n      word-break: normal; \n      hyphens: none;\n\n      &.canopy-menu-cell-left-aligned {\n        margin-right: auto;\n      }\n\n      &.canopy-menu-cell-right-aligned {\n        margin-left: auto;\n      }\n\n      .canopy-menu-content-container {\n        display: inline;\n        max-width: 100%;\n        max-height: 100%;\n      }\n\n      &.canopy-menu-ordinal-cell .canopy-menu-content-container {\n        //width: 80%; // to keep the numbers in a similar location in each cell\n      }\n\n      br {\n        display: block; // makes it have a width\n        content: \"\"; // clears default height\n        padding-bottom: 2px;\n      }\n    }\n\n    .canopy-menu-link-cell.canopy-menu-cell {\n      cursor: pointer;\n      border: 1.5px solid black;\n      border-radius: 5px;\n      display: flex;\n      justify-content: center; /* Center content horizontally */\n      align-items: center; /* Center content vertically */\n      user-select: none;\n\n      &.canopy-selectable-link {\n        text-decoration: none;\n        text-shadow: none;\n        user-select: none;\n      }\n\n      &.canopy-selected-link {\n        background-color: #edeefc;\n      }\n\n      &.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #eae8e8;\n      }\n\n      &:hover:not(.canopy-selected-link), // selected link style overrides hover\n      &:hover.canopy-open-link:not(.canopy-selected-link) {\n        background-color: #f5f6fe;\n\n        .canopy-selected-link {\n            background-color: #f5f6fe;\n        }\n      }\n\n      .canopy-menu-content-container::after {\n        font-size: 11px;\n        margin-left: -5px; // Negative margin to pull the icon closer to the last word\n        position: relative; // Allows for position adjustment\n        top: 5px; // Move the icon up (- value) or down (+ value)\n        left: 5px;\n        white-space: nowrap; // Prevents the icon from wrapping\n      }\n\n      &.canopy-external-link {\n        &.canopy-selectable-link * {\n          text-decoration: none;\n        }\n\n        .canopy-menu-content-container::after {\n          content: '\\00a0\\00a0\\00a0';\n          /* Open Iconic Icon Set, MIT License, https://iconduck.com/icons/53818/external-link */\n          background-image: url('data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K');\n          top: 2.5px;\n          background-size: contain;\n          background-repeat: no-repeat;\n          vertical-align: text-bottom;\n        }\n      }\n\n      &.canopy-provisional-icon-link .canopy-menu-content-container::after { // add a placeholder icon for menu size evaluation\n        content: ' ↩';\n      }\n\n      &.canopy-back-cycle-link .canopy-menu-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↩';\n      }\n\n      &.canopy-lateral-cycle-link .canopy-menu-content-container::after { // if it is open, it has been inlined and isn't a cycle\n        content: ' ↪';\n      }\n\n      &.canopy-lateral-cycle-link.canopy-menu-cell-left-aligned .canopy-menu-content-container::after { // override direction\n        content: ' ↩'; // hard-coding special case of back and forth buttons\n      }\n\n      &.canopy-path-reference .canopy-menu-content-container::after {\n        //content: ' ↳';\n        left: 6px;\n        top: 2px;\n      }\n\n      &.canopy-disabled-link {\n        background-color: #FFFFFF;\n        color: #000000;\n        cursor: not-allowed;\n        opacity: 0.4; // more than tables because includes border\n        pointer-events: none;\n      }\n    }\n\n    &.canopy-eigth-pill .canopy-menu-cell {\n      width: calc((750px - 70px)/8); // take total width, subtract gaps, and divide by total number\n      padding-left: 10px; // make it a little harder to qualify\n      padding-right: 10px; // make it a little harder to qualify\n      padding-top: 2px;\n      padding-bottom: 2px;\n      height: 45px; // more button-esque\n    }\n\n    &.canopy-quarter-pill .canopy-menu-cell {\n      width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-third-pill .canopy-menu-cell {\n      width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-half-pill .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      padding: 9px;\n      height: 50px;\n    }\n\n    &.canopy-quarter-card .canopy-menu-cell {\n      width: calc((750px - 30px)/4); // take total width, subtract gaps, and divide by total number\n      height: 95px;\n      padding: 15px;\n    }\n\n    &.canopy-third-card .canopy-menu-cell {\n      width: calc((750px - 20px)/3); // take total width, subtract gaps, and divide by total number\n      height: 120px;\n      padding: 15px;\n    }\n\n    &.canopy-half-tube .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      height: 160px;\n      padding: 30px;\n    }\n\n    &.canopy-half-card .canopy-menu-cell {\n      width: calc((750px - 10px)/2); // take total width, subtract gaps, and divide by total number\n      height: 265px;\n      min-height: 160px;\n      padding: 30px;\n    }\n  }\n\n  .canopy-image-container {\n    display: flex;\n    justify-content: center;\n    object-fit: cover;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    margin-top: 15px;\n\n    a {\n      margin: 0 auto;\n      display: block;\n    }\n\n    .canopy-image {\n      img {\n        display: block;\n        max-width: 100%;\n        width: auto;\n      }\n\n      span.canopy-image-caption {\n        margin: 0px auto;\n        width: 100%;\n        padding: 6px 0px;\n        text-align: left;\n        display: block;\n        font-size: 16px;\n        line-height: 18px;\n        color: #595959;\n        background-color: white;\n\n        a {\n          color: #595959;\n        }\n\n        a.canopy-selected-link {\n          background-color: #c9ccff; // extra dark so it is noticible\n        }\n\n        a.canopy-external-link:not(.canopy-menu-link-cell):not(.canopy-linked-image)::after { // need to beat specificity of general definition\n          content: ''; // no ⧉ icon for links in image captions because usually they'll be external\n        }\n\n        span {\n          display: inline;\n        }\n      }\n    }\n  }\n\n  div.canopy-image-div {\n    float: right;\n    border: 1px solid #c8ccd1;\n    padding: 3px;\n    background-color: #f8f9fa;\n    font-size: 94%;\n    text-align: center;\n    overflow: hidden;\n    margin: 10px;\n  }\n\n  .canopy-open-link .canopy-image, .canopy-selected-link .canopy-image {\n    position: relative;\n  }\n\n  .canopy-selected-link .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(130, 150, 250, 0.3); /* Deeper blue with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  .canopy-open-link:not(.canopy-selected-link) .canopy-image::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(128, 128, 128, 0.2); /* Gray color with 50% opacity */\n    pointer-events: none; /* Ensures the overlay doesn't interfere with clicks */\n  }\n\n  div.canopy-image-div > sup {\n    display: block;\n  }\n\n  ol, ul {\n    margin-top: 15px;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-bottom: 0px;\n\n    &:not(:last-child) {\n      margin-bottom: 15px;\n    }\n\n    li:not(:last-child) {\n      margin-bottom: 10px;\n    }\n  }\n\n  div.canopy-raw-html {\n    display: inline;\n\n    .canopy-html-insertion {\n      display: inline;\n    }\n  }\n}\n"],sourceRoot:""}]);const h=u},7216:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(1354),i=t.n(r),o=t(6314),a=t.n(o)()(i());a.push([e.id,'#playground-container{display:flex;height:95vh;box-sizing:border-box}#playground-container>div{flex:1;overflow:auto;box-sizing:border-box}#playground-container #editor-container{display:flex;flex-direction:column;margin:15px;flex-grow:2}#playground-container #editor-container #editor{flex-grow:1;flex-basis:calc(70% - 10px);background-color:#f2f9ff;font-size:18px;overflow:auto;resize:none;margin-bottom:25px;border:1px solid #bbb;padding:5px}#playground-container #editor-container #console{flex-grow:1;flex-basis:calc(30% - 10px);background-color:#f2f9ff;border:1px solid #bbb;color:#333;font-size:1.2em;font-family:"Courier New",Courier,monospace;padding:5px;overflow-y:auto;white-space:normal;word-wrap:break-word}#playground-container #editor-container #console.error{background-color:#fcc}#playground-container #scrollable-container{overflow-y:auto;border:1px solid #000;margin:15px;flex-grow:3;position:relative}#playground-container #_canopy{flex:1;margin:15px;box-sizing:border-box}#playground-container #_canopy h1{text-align:center}',"",{version:3,sources:["webpack://./playground/playground.scss"],names:[],mappings:"AAAA,sBACE,YAAA,CACA,WAAA,CACA,qBAAA,CAEA,0BACE,MAAA,CACA,aAAA,CACA,qBAAA,CAGF,wCACE,YAAA,CACA,qBAAA,CACA,WAAA,CACA,WAAA,CAEA,gDACE,WAAA,CACA,2BAAA,CACA,wBAAA,CACA,cAAA,CACA,aAAA,CACA,WAAA,CACA,kBAAA,CACA,qBAAA,CACA,WAAA,CAGF,iDACE,WAAA,CACA,2BAAA,CACA,wBAAA,CACA,qBAAA,CACA,UAAA,CACA,eAAA,CACA,2CAAA,CACA,WAAA,CACA,eAAA,CACA,kBAAA,CACA,oBAAA,CAEA,uDACE,qBAAA,CAKN,4CACE,eAAA,CACA,qBAAA,CACA,WAAA,CACA,WAAA,CACA,iBAAA,CAGF,+BAKE,MAAA,CACA,WAAA,CACA,qBAAA,CANA,kCACE,iBAAA",sourcesContent:['#playground-container {\n  display: flex;\n  height: 95vh; // Sets the height relative to the viewport\n  box-sizing: border-box;\n\n  > div {\n    flex: 1; // Ensures equal width distribution for direct children\n    overflow: auto;\n    box-sizing: border-box;\n  }\n\n  #editor-container {\n    display: flex;\n    flex-direction: column;\n    margin: 15px;\n    flex-grow: 2;\n\n    #editor {\n      flex-grow: 1;\n      flex-basis: calc(70% - 10px); // Subtract margin from flex-basis\n      background-color: #f2f9ff;\n      font-size: 18px;\n      overflow: auto;\n      resize: none;\n      margin-bottom: 25px; // Restored margin between editor and console\n      border: 1px solid #bbb;\n      padding: 5px;\n    }\n\n    #console {\n      flex-grow: 1;\n      flex-basis: calc(30% - 10px); // Subtract margin from flex-basis\n      background-color: #f2f9ff;\n      border: 1px solid #bbb;\n      color: #333;\n      font-size: 1.2em;\n      font-family: "Courier New", Courier, monospace;\n      padding: 5px;\n      overflow-y: auto;    /* Allows vertical scrolling */\n      white-space: normal; /* Ensures text wraps */\n      word-wrap: break-word; /* Breaks long words to prevent horizontal overflow */\n\n      &.error {\n        background-color: #ffcccc;\n      }\n    }\n  }\n\n  #scrollable-container {\n    overflow-y: auto; // Enable vertical scrolling\n    border: 1px solid black;\n    margin: 15px;\n    flex-grow: 3;\n    position: relative;\n  }\n\n  #_canopy {\n    h1 {\n      text-align: center; // for error h1\n    }\n\n    flex: 1;\n    margin: 15px;\n    box-sizing: border-box;\n  }\n}\n'],sourceRoot:""}]);const c=a},6314:e=>{"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(a[l]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),t&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=t):u[2]=t),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),n.push(u))}},n}},4417:e=>{"use strict";e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},1354:e=>{"use strict";e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=t.sources.map((function(e){return"/*# sourceURL=".concat(t.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([o]).join("\n")}return[n].join("\n")}},2205:function(e,n,t){var r;r=void 0!==t.g?t.g:this,e.exports=function(e){if(e.CSS&&e.CSS.escape)return e.CSS.escape;var n=function(e){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var n,t=String(e),r=t.length,i=-1,o="",a=t.charCodeAt(0);++i<r;)0!=(n=t.charCodeAt(i))?o+=n>=1&&n<=31||127==n||0==i&&n>=48&&n<=57||1==i&&n>=48&&n<=57&&45==a?"\\"+n.toString(16)+" ":0==i&&1==r&&45==n||!(n>=128||45==n||95==n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122)?"\\"+t.charAt(i):t.charAt(i):o+="�";return o};return e.CSS||(e.CSS={}),e.CSS.escape=n,n}(r)},5365:e=>{e.exports=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var r=[],i="string"==typeof e?[e]:e.slice();i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");for(var o=0;o<i.length;o++){var a;(a=i[o].match(/\n[\t ]+/g))&&r.push.apply(r,a)}if(r.length){var c=Math.min.apply(Math,r.map((function(e){return e.length-1}))),l=new RegExp("\n[\t ]{"+c+"}","g");for(o=0;o<i.length;o++)i[o]=i[o].replace(l,"\n")}i[0]=i[0].replace(/^\r?\n/,"");var s=i[0];for(o=0;o<n.length;o++)s+=n[o]+i[o+1];return s}},7975:e=>{"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function t(e,n){for(var t,r="",i=0,o=-1,a=0,c=0;c<=e.length;++c){if(c<e.length)t=e.charCodeAt(c);else{if(47===t)break;t=47}if(47===t){if(o===c-1||1===a);else if(o!==c-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=c,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=c,a=0;continue}n&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),i=c-o-1;o=c,a=0}else 46===t&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===e&&(e=process.cwd()),a=e),n(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=t(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(n(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=t(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var i=arguments[t];n(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=r.resolve(e))===(t=r.resolve(t)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,a=o-i,c=1;c<t.length&&47===t.charCodeAt(c);++c);for(var l=t.length-c,s=a<l?a:l,u=-1,p=0;p<=s;++p){if(p===s){if(l>s){if(47===t.charCodeAt(c+p))return t.slice(c+p+1);if(0===p)return t.slice(c+p)}else a>s&&(47===e.charCodeAt(i+p)?u=p:0===p&&(u=0));break}var h=e.charCodeAt(i+p);if(h!==t.charCodeAt(c+p))break;47===h&&(u=p)}var d="";for(p=i+u+1;p<=o;++p)p!==o&&47!==e.charCodeAt(p)||(0===d.length?d+="..":d+="/..");return d.length>0?d+t.slice(c+u):(c+=u,47===t.charCodeAt(c)&&++c,t.slice(c))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,o=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,o=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var c=t.length-1,l=-1;for(r=e.length-1;r>=0;--r){var s=e.charCodeAt(r);if(47===s){if(!a){i=r+1;break}}else-1===l&&(a=!1,l=r+1),c>=0&&(s===t.charCodeAt(c)?-1==--c&&(o=r):(c=-1,o=l))}return i===o?o=l:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,o=!0,a=0,c=e.length-1;c>=0;--c){var l=e.charCodeAt(c);if(47!==l)-1===i&&(o=!1,i=c+1),46===l?-1===t?t=c:1!==a&&(a=1):-1!==t&&(a=-1);else if(!o){r=c+1;break}}return-1===t||-1===i||0===a||1===a&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+"/"+r:r}(0,e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),o=47===i;o?(t.root="/",r=1):r=0;for(var a=-1,c=0,l=-1,s=!0,u=e.length-1,p=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===l&&(s=!1,l=u+1),46===i?-1===a?a=u:1!==p&&(p=1):-1!==a&&(p=-1);else if(!s){c=u+1;break}return-1===a||-1===l||0===p||1===p&&a===l-1&&a===c+1?-1!==l&&(t.base=t.name=0===c&&o?e.slice(1,l):e.slice(c,l)):(0===c&&o?(t.name=e.slice(1,a),t.base=e.slice(1,l)):(t.name=e.slice(c,a),t.base=e.slice(c,l)),t.ext=e.slice(a,l)),c>0?t.dir=e.slice(0,c-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},5072:e=>{"use strict";var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},a=[],c=0;c<e.length;c++){var l=e[c],s=r.base?l[0]+r.base:l[0],u=o[s]||0,p="".concat(s," ").concat(u);o[s]=u+1;var h=t(p),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)n[h].references++,n[h].updater(d);else{var f=i(d,r);r.byIndex=c,n.splice(c,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var c=t(o[a]);n[c].references--}for(var l=r(e,i),s=0;s<o.length;s++){var u=t(o[s]);0===n[u].references&&(n[u].updater(),n.splice(u,1))}o=l}}},7659:e=>{"use strict";var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:e=>{"use strict";e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},5056:(e,n,t)=>{"use strict";e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},7825:e=>{"use strict";e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},1113:e=>{"use strict";e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},6097:e=>{"use strict";e.exports="data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjgiIHZpZXdCb3g9IjAgMCAxMCA4IiB3aWR0aD0iOSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMSAwdjhoOHYtMmgtMXYxaC02di02aDF2LTF6bTQgMCAxLjUgMS41LTIuNSAyLjUgMSAxIDIuNS0yLjUgMS41IDEuNXYtNHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEsIDApIiAvPgo8L3N2Zz4K"}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var o=n[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}return t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),t.b=document.baseURI||self.location.href,t.nc=void 0,(()=>{"use strict";var e=t(5072),n=t.n(e),r=t(7825),i=t.n(r),o=t(7659),a=t.n(o),c=t(5056),l=t.n(c),s=t(540),u=t.n(s),p=t(1113),h=t.n(p),d=t(7216),f={};f.styleTagTransform=h(),f.setAttributes=l(),f.insert=a().bind(null,"head"),f.domAPI=i(),f.insertStyleElement=u(),n()(d.A,f),d.A&&d.A.locals&&d.A.locals;var g=t(6892),y=document.createElement("DIV");y.id="playground-container",document.body.appendChild(y);var m=document.createElement("DIV");m.id="editor-container",y.appendChild(m);var A=document.createElement("TEXTAREA");A.id="editor",m.appendChild(A);var b=document.createElement("DIV");b.id="console",m.appendChild(b),b.innerText="Edit the text area and then deselect to rebuild project. Delete text to restore default.";var v=document.createElement("DIV");v.id="scrollable-container",y.appendChild(v);var C=document.createElement("DIV");C.id="_canopy",v.appendChild(C);var k=t(4015).A,w=localStorage.getItem("data")||k;function x(){A.value=A.value||k,localStorage.setItem("data",A.value),b.classList.remove("error"),b.innerText="Edit the text area and then deselect to rebuild project. Delete text to restore default.";try{(0,g.rebuild)(A.value)}catch(e){b.innerText=e.message,b.classList.add("error"),C.innerHTML="<h1> Error </h1>",console.error(e)}}["localhost","127.0.0.1"].includes(window.location.hostname)&&(w=k),A.value=w,A.addEventListener("blur",(function(e){return setTimeout((function(){return x()}))})),A.addEventListener("focus",(function(){b.classList.contains("error")||(b.innerText="Edit the text area and then deselect to rebuild project. Delete text to restore default.")})),fetch=function(e){return console.log("Fetch request for '".concat(e,"' canceled by plaground"))||Promise.reject()},x()})(),{}})()));
//# sourceMappingURL=_playground.js.map